{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/yilia/source/main.2d7529.css","path":"main.2d7529.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/mobile.d238ee.js","path":"mobile.d238ee.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/slider.885efe.js","path":"slider.885efe.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/main.2d7529.js","path":"main.2d7529.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","path":"fonts/default-skin.b257fa.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.59e68b.eot","path":"fonts/iconfont.59e68b.eot","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.b7ae25.ttf","path":"fonts/iconfont.b7ae25.ttf","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.ca3627.woff","path":"fonts/iconfont.ca3627.woff","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","path":"fonts/tooltip.4004ff.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.dba24b.svg","path":"fonts/iconfont.dba24b.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/preloader.gif","path":"img/preloader.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/default-skin.png","path":"img/default-skin.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/WechatIMG1.jpeg","path":"img/WechatIMG1.jpeg","modified":1,"renderable":1}],"Cache":[{"_id":"themes/yilia/.babelrc","hash":"b1b76475ac17dc9e2fa50af96c9e31eea2d0f2b4","modified":1487691215000},{"_id":"source/.DS_Store","hash":"143ad93d1226c45ad19b3cbbb9618c7854a41a0f","modified":1488453092000},{"_id":"themes/yilia/.editorconfig","hash":"da6d022b8f4d9c961e2f8f80677e92af8de0db4d","modified":1487691215000},{"_id":"themes/yilia/.eslintignore","hash":"df0a50b13cc00acb749226fee3cee6e0351fb1d9","modified":1487691215000},{"_id":"themes/yilia/.eslintrc.js","hash":"5696ae049de010ed3786768b0c359f14c05b5ec6","modified":1487691215000},{"_id":"themes/yilia/.gitignore","hash":"9c4b7d27a1e3e5efa0c8ed143a032a85d586b03b","modified":1487691215000},{"_id":"themes/yilia/.gitattributes","hash":"e0f24dceeb1e6878a1dd9b01a2b9df1bc037a867","modified":1487691215000},{"_id":"themes/yilia/README.md","hash":"0becd9c18f9d44fc364788a34a4f3ec82ca7940a","modified":1487691215000},{"_id":"themes/yilia/_config.yml","hash":"18b494b71c561975317ad39dd590a0ba1a91ff10","modified":1496754032000},{"_id":"themes/yilia/package.json","hash":"946b26ae0dff42c590068f0a58ecd326ed059b68","modified":1487691215000},{"_id":"themes/yilia/webpack.config.js","hash":"c4dca5c60822c90359e48fad373be768ae9fb43d","modified":1487691215000},{"_id":"source/_posts/.DS_Store","hash":"3aada63a9dfe1fb725c4833e167a63d199f54254","modified":1488453268000},{"_id":"source/_posts/2017plan.md","hash":"4a95f40077860f77d7c48cc41dec6ed2f4456c01","modified":1489847384000},{"_id":"source/_posts/Rdata.md","hash":"835976cac4ced97c027b286d0ca658efd934e5c7","modified":1498445603000},{"_id":"source/_posts/RDataVisualization.md","hash":"5f206fe21f73c1f757b0110508aa13cee3f0a2c0","modified":1498457399000},{"_id":"source/_posts/Rfunction.md","hash":"e0f53ca612da9bf1c938fa95112c239b6ae2f936","modified":1498458172000},{"_id":"source/_posts/RpackgeRmysql.md","hash":"f0a75bde81c6393d50c5be32ca9b96ad4d9fa83c","modified":1498448065000},{"_id":"source/_posts/Rpackgedply.md","hash":"7dc87a4d02dd567c8c0dab8259a51dd4e922ecae","modified":1498442234000},{"_id":"source/_posts/Rpackgelubridate.md","hash":"b6a00d01adae23a3582eba52687aca0a19e3c2aa","modified":1498442244000},{"_id":"source/_posts/Rpackgepryr.md","hash":"57970e85d1cf4c3974c8b51a75c4440a7f895c28","modified":1498718270000},{"_id":"source/_posts/TreeMap.md","hash":"906e5c1d7741eaa8db1598e1ef82d61c4507fe70","modified":1488889392000},{"_id":"source/_posts/creathexo.md","hash":"e80f8ab3c55f628e5acb26bb72451e3a9844528e","modified":1487689287000},{"_id":"source/_posts/collaborativeFiltering.md","hash":"d6c3a26697a931c71e360a47d2cb13eb2e417adb","modified":1496842520000},{"_id":"source/_posts/bug.md","hash":"68f541ce9a492e4e22c39fe018b9a352807ad484","modified":1489980763000},{"_id":"source/_posts/dataWarehouse.md","hash":"701fafa978f05e916d1b0299a46680518e8f93a8","modified":1496588042000},{"_id":"source/_posts/exception.md","hash":"bef2861e0b0feced7eff9afa29be2d32b842c50e","modified":1490412001000},{"_id":"source/_posts/hash.md","hash":"d98c753ac1d12ab79f480fa323c362766808785d","modified":1488894053000},{"_id":"source/_posts/hashmap.md","hash":"8f98f2cbc2b074bb6cbf49915006773e095673ad","modified":1489235148000},{"_id":"source/_posts/javaPaper.md","hash":"f7bf62f3cf2100ae737f79777d02515a195001af","modified":1488455259000},{"_id":"source/_posts/javahigh.md","hash":"b13c8a0b6bd3069e3f91a1fe8144f4ebfd07b7f7","modified":1487861945000},{"_id":"source/_posts/javacopy.md","hash":"fc43275ff7b8efaca362e1b91d565e208de2fde0","modified":1489310867000},{"_id":"source/_posts/jvm.md","hash":"7587dac6b366595bd7cbc5cd1405792878acb53c","modified":1488280547000},{"_id":"source/_posts/mathinelearning.md","hash":"c9c6e921900abc20f836de152185bfa917a6b772","modified":1498047708000},{"_id":"source/_posts/mysql2.md","hash":"d52fab109df11a2da4a6b45131b38d7dac21bac1","modified":1487689287000},{"_id":"source/_posts/logicalRegression.md","hash":"e9b1bc8e8a7553842ee63ba782f7804bf9eca817","modified":1498703104000},{"_id":"source/_posts/nginx.md","hash":"d048b6fc7e644147c42b6ca83ce0a59087192e09","modified":1488185081000},{"_id":"source/_posts/oraCons.md","hash":"47cde6fceddc8ccd0bbb740997f37d4376df8fbb","modified":1496578529000},{"_id":"source/_posts/oracleFunction.md","hash":"4d4f0d517bf16ac7475a0ed5b6927c72412ba757","modified":1496578498000},{"_id":"source/_posts/reading.md","hash":"82b4f2c5b0d3aa01c290036b0bd8b76aa3be50a6","modified":1489762910000},{"_id":"source/_posts/quickSort.md","hash":"dac5df670864fe4c0637a175deaae9a168535bc9","modified":1488455259000},{"_id":"source/_posts/searchAlgorithm.md","hash":"a7badc6a0dbf7050ac41f03138d4f76585536760","modified":1488291856000},{"_id":"source/_posts/start.md","hash":"12513f3769ea31ca1810e8920f4eaea07d5c8c40","modified":1487689287000},{"_id":"source/_posts/springaop.md","hash":"28facf167855cd28d5894dabe222b5fb71d37c03","modified":1489235011000},{"_id":"source/_posts/thailand00.md","hash":"0d130c15564be25d4ff9d23f37adda0805097b75","modified":1488455309000},{"_id":"source/_posts/taiday1.md","hash":"4fadb7d920fd724f02230f83d902711c4f4e3735","modified":1489312077000},{"_id":"source/_posts/thailand01.md","hash":"73be240b2be1c999fc3b5b84322c919089157584","modified":1489309224000},{"_id":"source/_posts/uml.md","hash":"bcd2c84ecc96a50c9313360a4adf725325b927f5","modified":1491488597000},{"_id":"source/_posts/transaction.md","hash":"6e312e46798c4ed6d478eaf4ac8a953580eb8a43","modified":1496936107000},{"_id":"themes/yilia/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1487691215000},{"_id":"source/_posts/transction.md","hash":"dd6bd403638df5c5c96447ab7480ddd64ede8d76","modified":1487689287000},{"_id":"source/_posts/viewOracle.md","hash":"ae4162a607a08be50a684c2a32c9e26088c94bdc","modified":1496578470000},{"_id":"themes/yilia/.git/config","hash":"256e47c5a4386e6881318e44d2a716fdc3197863","modified":1487691215000},{"_id":"themes/yilia/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1487691150000},{"_id":"themes/yilia/.git/index","hash":"a8efabfbe4729f3643bfe6b808e15a819514005e","modified":1488792087000},{"_id":"themes/yilia/.git/packed-refs","hash":"ce0fffa24e8426ff1d3cdd215fc2af90b9c41a37","modified":1487691215000},{"_id":"themes/yilia/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1487691215000},{"_id":"themes/yilia/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1487691215000},{"_id":"themes/yilia/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1487691215000},{"_id":"themes/yilia/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1487691215000},{"_id":"themes/yilia/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1487691215000},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1487691215000},{"_id":"themes/yilia/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1487691215000},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1487691215000},{"_id":"themes/yilia/layout/layout.ejs","hash":"0a332bdbd3b86c231d690614687f5b97186b85d5","modified":1487691215000},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1487691215000},{"_id":"themes/yilia/layout/index.ejs","hash":"a35dc900203f9d8dd863ea4c1722198d6d457ec8","modified":1487691215000},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1487691215000},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1487691215000},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1487691215000},{"_id":"themes/yilia/source/main.2d7529.css","hash":"2eef112e365f9b00664302ba98b517662c75d411","modified":1487691215000},{"_id":"themes/yilia/source/mobile.d238ee.js","hash":"a054884092af1cc5c2c14e5e11a4dac6d9254481","modified":1487691215000},{"_id":"themes/yilia/source/slider.885efe.js","hash":"1f1a6548c6016cc132bf65a1701cc8421a1f8414","modified":1487691215000},{"_id":"themes/yilia/source-src/css.ejs","hash":"94dbdb02ca11849e415d54fb28546a598f2cffb1","modified":1487691215000},{"_id":"themes/yilia/source-src/script.ejs","hash":"c21381e1317db7bb157f1d182b8c088cb7cba411","modified":1487691215000},{"_id":"themes/yilia/source/main.2d7529.js","hash":"988c141a741441812bcf4c408ef530d7a01522f3","modified":1487691215000},{"_id":"source/_posts/hash/687474703a2f2f3778727a6c6d2e636f6d312e7a302e676c622e636c6f7564646e2e636f6d2f6a617661636f2e706e67.png","hash":"2fcafaa1fe9027d5bd3bbe1201c3476e711d9eee","modified":1489235616000},{"_id":"source/_posts/hash/pengzhuang.png","hash":"458ef6041efac083b6e57763a50b224576e01289","modified":1488893989000},{"_id":"source/_posts/hash/lianbiao.png","hash":"9d50d8bc7508ad448e10101f923a55c5088cbec4","modified":1488890052000},{"_id":"source/_posts/javacopy/ref.png","hash":"356868453f36425488d1ead9254de984085bc411","modified":1489296741000},{"_id":"source/_posts/hash/tance.png","hash":"e6ddc94a2e7f1abc06b5e3edd1b0a431951834f1","modified":1488892415000},{"_id":"source/_posts/hashmap/gouzao.png","hash":"46c346e30edef194c9f4fbdbef8283f02873241f","modified":1488895417000},{"_id":"source/_posts/springaop/proxy.png","hash":"a2aa4923e334ba2b6ba33024f2405afef8871b04","modified":1489219685000},{"_id":"source/_posts/thailand00/.DS_Store","hash":"e2a9a4d394125835568054906ddef39ea81acf2d","modified":1488465525000},{"_id":"source/_posts/uml/class.png","hash":"d7ba67d267175ef9dc14c3dfe8d5a430101c8d06","modified":1491486669000},{"_id":"themes/yilia/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1487691150000},{"_id":"source/_posts/uml/relation.png","hash":"b6d3da133f261a2861fe227533d1a45c6b3cd887","modified":1491487581000},{"_id":"themes/yilia/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1487691150000},{"_id":"themes/yilia/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1487691150000},{"_id":"themes/yilia/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1487691150000},{"_id":"themes/yilia/.git/logs/HEAD","hash":"36c18827449178f39d4caa90145eb1b5d7eb4708","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"1f7d4819b7f67602c4a1b99871808d2160b60978","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"010e012311daa9d07c4b667f4a598dc801f894ed","modified":1498205824000},{"_id":"themes/yilia/layout/_partial/baidu-analytics.ejs","hash":"f0e6e88f9f7eb08b8fe51449a8a3016273507924","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/css.ejs","hash":"db8c42ab7e339c240b7044896a3987555ea9b5b8","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"d336d05368d3ba7b7dd858b22d77499df9255853","modified":1487737399000},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"f2994e0acd1d606ebf4680afc4fa652e148ccf4e","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"64f092186b5a744aa1603ce22bb1d44a34446add","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1488683203000},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"151a1ef2173ba7b6789d349f0f8da89616cc1394","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"7fbbfabf5e29525b24ada14613c21a26789132b4","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"df92d77fe3980d10338785022bb96639eb80d850","modified":1489460736000},{"_id":"themes/yilia/layout/_partial/script.ejs","hash":"8c295469bd1602e9d3bbf2fee81ff84cacb1d701","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/tools.ejs","hash":"f5e98b6013c968afb867626ed6617cd1cedc3d3a","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/viewer.ejs","hash":"e495790b2abe2290875817e42bd505bc611d3e26","modified":1487691215000},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1487691215000},{"_id":"themes/yilia/source/fonts/iconfont.59e68b.eot","hash":"b7f28dc802d6e32281e8fe7930d4dd2022d00717","modified":1487691215000},{"_id":"themes/yilia/source/fonts/iconfont.b7ae25.ttf","hash":"697449e7790edd12e208706ecaa8d5d0eed44cde","modified":1487691215000},{"_id":"themes/yilia/source/fonts/iconfont.ca3627.woff","hash":"cda0ea1dc25dc3d329d7637afe2cd6aec37e351b","modified":1487691215000},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1487691215000},{"_id":"themes/yilia/source/fonts/iconfont.dba24b.svg","hash":"3313bf984fbee56b022942a5d19c916b4734fd60","modified":1487691215000},{"_id":"themes/yilia/source/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1487691215000},{"_id":"themes/yilia/source/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1487691215000},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1487691215000},{"_id":"themes/yilia/source-src/css/_core.scss","hash":"24f347a2412abbf58318369152504da9538f8d3b","modified":1487691215000},{"_id":"themes/yilia/source-src/css/_function.scss","hash":"93a50dd19a93485712da1f8d0a1672482dd1eabc","modified":1487691215000},{"_id":"themes/yilia/source-src/css/archive.scss","hash":"b750499d5120f963b683d0c96ac3f345c714e448","modified":1487691215000},{"_id":"themes/yilia/source-src/css/article-inner.scss","hash":"ce24ab7049be634c17a163e2db39f1f0b1f7c119","modified":1487691215000},{"_id":"themes/yilia/source-src/css/article-main.scss","hash":"3fad68bd74260326f83090b0974dd80707e7bac7","modified":1487691215000},{"_id":"themes/yilia/source-src/css/article-nav.scss","hash":"b68772aa2b47d0ed89ce95d4e9d3d27931fe885c","modified":1487691215000},{"_id":"themes/yilia/source-src/css/duoshuo.scss","hash":"5e3feefbbba70d8da0ec2c75db41762dd4762a81","modified":1487691215000},{"_id":"themes/yilia/source-src/css/article.scss","hash":"0f6d61af99ed4db87f8589db1feaea7747b55963","modified":1487691215000},{"_id":"themes/yilia/source-src/css/global.scss","hash":"b4cb4f45a55d4250cd9056f76dab2a3c0dabcec4","modified":1487691215000},{"_id":"themes/yilia/source-src/css/grid.scss","hash":"849a29fcd7150214fcf7b9715fa5dc71d1f9b896","modified":1487691215000},{"_id":"themes/yilia/source-src/css/footer.scss","hash":"7c995410b25baaf61dfc5e148e22ca60330abcd3","modified":1487691215000},{"_id":"themes/yilia/source-src/css/fonts.scss","hash":"d9c1a22a561dc6072833a2f049b3639c0007283d","modified":1487691215000},{"_id":"themes/yilia/source-src/css/highlight.scss","hash":"3719994c2c9393813cc1d42b657205c368a329cb","modified":1487691215000},{"_id":"themes/yilia/source-src/css/left.scss","hash":"0ce6345a86c44e3fea5a4aa439614541112538f3","modified":1487691215000},{"_id":"themes/yilia/source-src/css/mobile.scss","hash":"12abb65289eed5391d657b963a20f96a473b1cbd","modified":1487691215000},{"_id":"themes/yilia/source-src/css/main.scss","hash":"40c055e8360973a75db7c13f3280a4f465f9e5e3","modified":1487691215000},{"_id":"themes/yilia/source-src/css/scroll.scss","hash":"9c8dfd1c76854ef063494ca76fac6360b391ed6d","modified":1487691215000},{"_id":"themes/yilia/source-src/css/mobile-slider.scss","hash":"f053c609d84df0dd9eee1d11ddf0c19163a456be","modified":1487691215000},{"_id":"themes/yilia/source-src/css/share.scss","hash":"150c6425f6582e7ec78a873256ce49c9930e8805","modified":1487691215000},{"_id":"themes/yilia/source-src/css/page.scss","hash":"bf206bb7f7d0967bc8b7fdf01b7ffc99aff9ba88","modified":1487691215000},{"_id":"themes/yilia/source-src/css/tags-cloud.scss","hash":"c8aa84fca93862d3caae77c552873b8610f33327","modified":1487691215000},{"_id":"themes/yilia/source-src/css/tags.scss","hash":"ac67a3c7097849206244db9b0ba91daaba017ef5","modified":1487691215000},{"_id":"themes/yilia/source-src/css/reward.scss","hash":"80a4fcf9171d4a33235da96ac8a2b7dcabc45dfb","modified":1487691215000},{"_id":"themes/yilia/source-src/css/social.scss","hash":"a14f37a57ce7a720a36196f6469d8be955284f8c","modified":1487691215000},{"_id":"themes/yilia/source-src/css/tools.scss","hash":"61917c928d09783a3bc8a91503a59ab3a8696e90","modified":1487691215000},{"_id":"themes/yilia/source-src/css/tooltip.scss","hash":"53d5a554bc2f38e9bb3d26400a47767013c05216","modified":1487691215000},{"_id":"themes/yilia/source-src/js/browser.js","hash":"04095b38cfd4316a23f8eb14b1ffaf95f78a4260","modified":1487691215000},{"_id":"themes/yilia/source-src/js/anm.js","hash":"4a4c5d82b09a3063f91a434388e6aa064fd7fd98","modified":1487691215000},{"_id":"themes/yilia/source-src/js/fix.js","hash":"17be4f27eb8951835c29dafd0f6ba1b18e47cc6b","modified":1487691215000},{"_id":"themes/yilia/source-src/js/Q.js","hash":"d011af172064b6c6e0c7051d8f9879373ddac113","modified":1487691215000},{"_id":"themes/yilia/source-src/js/main.js","hash":"d665f4cf30450984591bc8ad2348a1baf720d04b","modified":1487691215000},{"_id":"themes/yilia/source-src/js/mobile.js","hash":"4d823b039fd296d24a454eae5a798b93c44560cb","modified":1487691215000},{"_id":"themes/yilia/source-src/js/share.js","hash":"b090f82cf80cba7da764753906d9e2cc2acdf30d","modified":1487691215000},{"_id":"themes/yilia/source-src/js/report.js","hash":"4f1d9a18a936ce40b037f636a39127dd19175b6e","modified":1487691215000},{"_id":"themes/yilia/source-src/js/slider.js","hash":"3bf0d70ae171404a0dc73c33ec48927fc2521a54","modified":1487691215000},{"_id":"themes/yilia/source-src/js/viewer.js","hash":"808a2e1ed407984cfdc929b827d3638f70ec9a2a","modified":1487691215000},{"_id":"themes/yilia/source-src/js/util.js","hash":"8456e9d6b19532742582c99b2fb9d09e146e1c58","modified":1487691215000},{"_id":"themes/yilia/source/img/WechatIMG1.jpeg","hash":"36bc1ce0e9bd5f89667440c2519cdad89dc1a138","modified":1488453233000},{"_id":"source/_posts/dataWarehouse/dw.jpeg","hash":"f594bf18937d3a5a3716710294f4e11375f5a58a","modified":1496586978000},{"_id":"source/_posts/logicalRegression/sigmod.jpeg","hash":"b26a2c79fd78370f3fc389d771c7a5f8ddcd0bed","modified":1498701947000},{"_id":"source/_posts/thailand00/friends.jpeg","hash":"16737cbf8d05b9030945bb78d4ec100f22a5d4d1","modified":1488453233000},{"_id":"themes/yilia/.git/objects/pack/pack-00cb1b394438441bdb4dd3ae1952fa02d3b96034.idx","hash":"e1b8c892d9cb8f8445f88570b13ab5a1e7bd0940","modified":1487691215000},{"_id":"themes/yilia/.git/refs/heads/master","hash":"16c9033891e94fe5e58ea0af0d925519a76eb2c1","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"c2dccf1a95ec09ceeee5004293ac7edb7e1c9a66","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"ef71c4081e866a494367575c59610e7e6339ece0","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"1036c8e4e1a7bc935ba173744da735a0d6ed09cd","modified":1488683200000},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"2e783e68755abb852760eb0e627a3fbb50a05a55","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/post/share.ejs","hash":"341103df70d0b476e3acd0afbc507a4a120d8f5f","modified":1487691215000},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"7b7df9b5644ce4f76e34ba59d206fc5239dc099c","modified":1487738212000},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1487691215000},{"_id":"themes/yilia/source-src/css/core/_media-queries.scss","hash":"491ab3378d5c11005ba65c607608bb36b368a9d5","modified":1487691215000},{"_id":"themes/yilia/source-src/css/core/_animation.scss","hash":"63a37f26276f9207405afe0f2d65339ce295bbaf","modified":1487691215000},{"_id":"themes/yilia/source-src/css/core/_mixin.scss","hash":"3bba5c77bad5981eac859fe05c9561d580ba7fa9","modified":1487691215000},{"_id":"themes/yilia/source-src/css/core/_reset.scss","hash":"fab871fa93bd542e76a71a56428f2994a4aaf443","modified":1487691215000},{"_id":"themes/yilia/source-src/css/core/_variables.scss","hash":"fb511c505d1309249f21dc577d4ad2bad99a764f","modified":1487691215000},{"_id":"themes/yilia/source-src/css/fonts/iconfont.woff","hash":"cda0ea1dc25dc3d329d7637afe2cd6aec37e351b","modified":1487691215000},{"_id":"themes/yilia/source-src/css/fonts/iconfont.eot","hash":"b7f28dc802d6e32281e8fe7930d4dd2022d00717","modified":1487691215000},{"_id":"themes/yilia/source-src/css/fonts/iconfont.ttf","hash":"697449e7790edd12e208706ecaa8d5d0eed44cde","modified":1487691215000},{"_id":"themes/yilia/source-src/css/fonts/iconfont.svg","hash":"3313bf984fbee56b022942a5d19c916b4734fd60","modified":1487691215000},{"_id":"themes/yilia/source-src/css/img/checkered-pattern.png","hash":"049262fa0886989d750637b264bed34ab51c23c8","modified":1487691215000},{"_id":"themes/yilia/source-src/css/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1487691215000},{"_id":"themes/yilia/source-src/css/img/tooltip.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1487691215000},{"_id":"source/_posts/logicalRegression/logical.jpeg","hash":"1b3602647859a3fa18f3248b824c697f5e4bdd73","modified":1498703001000},{"_id":"source/_posts/logicalRegression/loss.jpeg","hash":"1b3602647859a3fa18f3248b824c697f5e4bdd73","modified":1498703001000},{"_id":"themes/yilia/.git/logs/refs/heads/master","hash":"36c18827449178f39d4caa90145eb1b5d7eb4708","modified":1487691215000},{"_id":"themes/yilia/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1487691215000},{"_id":"source/_posts/taiday1/tai1.jpeg","hash":"ef5bee8c3803e236422234cfd6e43a7f441f960b","modified":1489311690000},{"_id":"themes/yilia/.git/logs/refs/remotes/origin/HEAD","hash":"36c18827449178f39d4caa90145eb1b5d7eb4708","modified":1487691215000},{"_id":"source/_posts/taiday1/tai2.jpeg","hash":"4225f36fc60a42eb0c52128e6589b5252ccab879","modified":1489311690000},{"_id":"source/_posts/TreeMap/test.jpg","hash":"96d3f6c1293cc8b6c31feaebc131397808d6bf49","modified":1488290733000},{"_id":"source/_posts/taiday1/tai3.jpeg","hash":"b69f511cd7f1a91753c3bfd7bb5d7159d5caddbe","modified":1489311708000},{"_id":"themes/yilia/.git/objects/pack/pack-00cb1b394438441bdb4dd3ae1952fa02d3b96034.pack","hash":"710b6974229ca82c99c6a2ecf93184316fd6af3a","modified":1487691215000}],"Category":[{"name":"plan","_id":"cj4jc1uc00002ffcawng3r6vi"},{"name":"java","_id":"cj4jc1ucv000hffcabz8jdqd2"},{"name":"blog","_id":"cj4jc1ud0000offca45s1swlu"},{"name":"bug","_id":"cj4jc1ud7000uffcalv7ykrg4"},{"name":"数据库","_id":"cj4jc1udp001gffca9m1rdov3"},{"name":"nginx","_id":"cj4jc1udy001mffcaias3dm20"},{"name":"travel","_id":"cj4jc1ue2001sffcaoau1bkrh"},{"name":"算法","_id":"cj4jc1ue90021ffcaalnmcvm8"}],"Data":[],"Page":[],"Post":[{"title":"小章鱼2017年计划","date":"2017-01-14T15:53:55.000Z","_content":"## 前言\n  2016年已经过去了。\n\n---\n\n## 2017年计划非技术\n\n### 文艺片\n1. 至少观看两部话剧(周五晚上)，话剧表演艺术以及观众对的素质，是我深深的爱上了话剧这种艺术形式\n2. 至少观看六部电影\n3. 至少看十本课外书，生活不止眼前的苟且，还有诗和远方的田野。\n4. 去上海野生动物园(携程买)，喜欢看BBC对于动物纪录片的记录。\n\n<!-- more -->\n\n5. 找有意思的地方，逛逛街，拍照(周末)，陪她走过尘世的美好。\n6. 给对方写信(要真诚)，把真情融入文字中。\n\n### 励志片(祝福她考研成功)\n7. 每天背单词(互相打卡)加油！\n8. 坚定她考研信念，不放弃，给她鼓励。\n\n### 最终目标\n9. 帮助她考上研究生，然后一起去台湾或者云南玩耍。\n\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=27390873&auto=1&height=66\"></iframe>","source":"_posts/2017plan.md","raw":"---\ntitle: 小章鱼2017年计划\ncategories: plan                    #文章文类\ndate: 2017-01-14 23:53:55\ntags: [小章鱼, paln, 随笔]\n---\n## 前言\n  2016年已经过去了。\n\n---\n\n## 2017年计划非技术\n\n### 文艺片\n1. 至少观看两部话剧(周五晚上)，话剧表演艺术以及观众对的素质，是我深深的爱上了话剧这种艺术形式\n2. 至少观看六部电影\n3. 至少看十本课外书，生活不止眼前的苟且，还有诗和远方的田野。\n4. 去上海野生动物园(携程买)，喜欢看BBC对于动物纪录片的记录。\n\n<!-- more -->\n\n5. 找有意思的地方，逛逛街，拍照(周末)，陪她走过尘世的美好。\n6. 给对方写信(要真诚)，把真情融入文字中。\n\n### 励志片(祝福她考研成功)\n7. 每天背单词(互相打卡)加油！\n8. 坚定她考研信念，不放弃，给她鼓励。\n\n### 最终目标\n9. 帮助她考上研究生，然后一起去台湾或者云南玩耍。\n\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=27390873&auto=1&height=66\"></iframe>","slug":"2017plan","published":1,"updated":"2017-03-18T14:29:44.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ubs0000ffcap1h6dfr0","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>  2016年已经过去了。</p>\n<hr>\n<h2 id=\"2017年计划非技术\"><a href=\"#2017年计划非技术\" class=\"headerlink\" title=\"2017年计划非技术\"></a>2017年计划非技术</h2><h3 id=\"文艺片\"><a href=\"#文艺片\" class=\"headerlink\" title=\"文艺片\"></a>文艺片</h3><ol>\n<li>至少观看两部话剧(周五晚上)，话剧表演艺术以及观众对的素质，是我深深的爱上了话剧这种艺术形式</li>\n<li>至少观看六部电影</li>\n<li>至少看十本课外书，生活不止眼前的苟且，还有诗和远方的田野。</li>\n<li>去上海野生动物园(携程买)，喜欢看BBC对于动物纪录片的记录。</li>\n</ol>\n<a id=\"more\"></a>\n<ol>\n<li>找有意思的地方，逛逛街，拍照(周末)，陪她走过尘世的美好。</li>\n<li>给对方写信(要真诚)，把真情融入文字中。</li>\n</ol>\n<h3 id=\"励志片-祝福她考研成功\"><a href=\"#励志片-祝福她考研成功\" class=\"headerlink\" title=\"励志片(祝福她考研成功)\"></a>励志片(祝福她考研成功)</h3><ol>\n<li>每天背单词(互相打卡)加油！</li>\n<li>坚定她考研信念，不放弃，给她鼓励。</li>\n</ol>\n<h3 id=\"最终目标\"><a href=\"#最终目标\" class=\"headerlink\" title=\"最终目标\"></a>最终目标</h3><ol>\n<li>帮助她考上研究生，然后一起去台湾或者云南玩耍。</li>\n</ol>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=27390873&auto=1&height=66\"></iframe>","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>  2016年已经过去了。</p>\n<hr>\n<h2 id=\"2017年计划非技术\"><a href=\"#2017年计划非技术\" class=\"headerlink\" title=\"2017年计划非技术\"></a>2017年计划非技术</h2><h3 id=\"文艺片\"><a href=\"#文艺片\" class=\"headerlink\" title=\"文艺片\"></a>文艺片</h3><ol>\n<li>至少观看两部话剧(周五晚上)，话剧表演艺术以及观众对的素质，是我深深的爱上了话剧这种艺术形式</li>\n<li>至少观看六部电影</li>\n<li>至少看十本课外书，生活不止眼前的苟且，还有诗和远方的田野。</li>\n<li>去上海野生动物园(携程买)，喜欢看BBC对于动物纪录片的记录。</li>\n</ol>","more":"<ol>\n<li>找有意思的地方，逛逛街，拍照(周末)，陪她走过尘世的美好。</li>\n<li>给对方写信(要真诚)，把真情融入文字中。</li>\n</ol>\n<h3 id=\"励志片-祝福她考研成功\"><a href=\"#励志片-祝福她考研成功\" class=\"headerlink\" title=\"励志片(祝福她考研成功)\"></a>励志片(祝福她考研成功)</h3><ol>\n<li>每天背单词(互相打卡)加油！</li>\n<li>坚定她考研信念，不放弃，给她鼓励。</li>\n</ol>\n<h3 id=\"最终目标\"><a href=\"#最终目标\" class=\"headerlink\" title=\"最终目标\"></a>最终目标</h3><ol>\n<li>帮助她考上研究生，然后一起去台湾或者云南玩耍。</li>\n</ol>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=27390873&auto=1&height=66\"></iframe>"},{"title":"R数据操作","date":"2017-06-25T13:54:59.000Z","_content":"\n## 前言\nR主要是基于向量处理数据，与使用for循环逐个处理单个数据的方式相比，基于向量的处理速度更快。\n\n## R中常用数据集\n```\n数据集           |   含义\nAirPassenger    |    Box & Jenkins航空公司1949～1960年每月国际航线乘客数 \nairquality      |    纽约市1973年5月～9月每日空气质量\ncars            |    20世纪20年代汽车速度对刹车距离的影响\nmtcars          |    1974年美国Motor Trend杂志上刊登的的32辆车的11个指标数据\nTitanic         |    “泰坦尼克”号生还者信息，包含舱室（一等舱、二等舱、三等舱）、性别、年龄、是否生还\nInsectSprays    |    使用6中杀虫剂后各自的害虫存活率\nOrange          |    橙数的种类、树龄、树围\nswiss           |    1888年前后，瑞士联邦47个法语州的生育率鱼社会经济指标\n```\n\n<!--more-->\n\n## apply系列函数\n```\n函数         |  说明\napply()      |  向数组或矩阵应用指定函数，然后将结果以向量、数组或列表形式返回 \nlapply()     |  向向量、列表或表达式应用函数，并以列表形式返回\nsapply()     |  与lapply()类似，但以向量、矩阵或数组形式返回\ntapply()     |  根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果\nmapply()     |  sapply()扩展版本，借助参数接收多个向量或列表，然后对各个数据的第一个元素应用函数计算结果，然后针对第二个。。。类推，然后返回计算结果\n```\n\n### apply()\n```\n说明：沿着MARGIN方向，向数组或矩阵应用函数FUN，并以向量、数组或列表形式返回结果\napply(\n\tx,         # 数组或矩阵\n\tMARGIN，   # 应用函数方向，1是沿着行方向，2是沿着列方向 c(1,2)表示同时沿着行和列方向\n\tFUN        # 应用函数\n\t\t\n)\nFUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵；返回长度不同向量时，返回列表\n```\n\n### lapply()\n```\n说明：向列表、向量、表达式、数据框等应用指定函数，并将结果以列表形式返回\nlapply(\n\tx,   # 向向量、列表或表达式\n\tFUN, # 应用函数\n\t...  # 额外参数，会传给FUN\n)\n返回于x等长的列表\n```\n\n### sapply()\n```\n说明：与lapply()类似，但以向量、矩阵形式返回\nsapply(\n\tx,   # 向向量、列表或表达式\n\tFUN, # 应用函数\n\t...  # 额外参数，会传给FUN\n)\nFUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵\n```\n\n### tapply()\n```\n说明：根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果\ntapply(\n\tx,  # 向量\n\tINDEX, # 数据分组索引，该参数应该设置为因子，非因子的数据类型会被自动转换为因子\n\tFUN,  # 要向分组应用的函数\n\t...   # 额外参数，这些参数被传递给FUN函数\n)\n```\n\n### mapply()\n```\n说明：将以列表或向量形式给出的参数传递给指定函数，并返回函数执行结果\nmapply(\n\tFUN, # 等待执行的函数\n\t...  # 等待传递的参数\n)\n```\n\n## 随机数生成函数\n```\n函数                          |  含义 \nrnorm(n, mean = 0, sd = 1)   |  生成n个均值为mean、标准差为sd的正态分布的随机数\nruninf(n, min = 0, max = 1)  |  生成n个均匀分布的随机数，最小值为min，最大值为max\nrpois(n, lambda)             |  生成n个lamada为lambada的泊松分布随机数\nrexp(n, rate = 1)            |  生成n个lambda为rate的指数分布随机数\n```\n\n## 数据拆分于合并函数\n```\n函数       |  特征\nsplit()   |  根据给定条件拆分数据\nsubset()  |  选择满足给定条件的数据\nmerge()   |  基于共同值的合并数据\n```\n### split() \n```\n说明：根据给定条件拆分数据\nsplit(\n\tx, # 拆分数据\n\tf  # 保存拆分的因子\n)\n返回保存拆分数据的列表\n```\n\n### subset()\n```\n说明：选择满足给定条件的数据\nsubset(\n\tx,      # 等待选取局部数据\n\tsubset  # 是否要选取数据\n)\n\nsubset(\n\tx,      # 等待选取局部数据\n\tsubset,  # 是否要选取数据\n\tselect   # 数据框时，要选取的列\n)\n```\n\n### merge\n```\n说明：根据共同的列名或行名合并数据\nmerge(\n\tx,  # 等待合并的数据框\n\ty   # 等待合并的数据框\n)\n\nmerge(\n\tx,  # 等待合并的数据框\n\ty,  # 等待合并的数据框\n\tby, # 用于合并基准的列，x,y列名不同时，\n\tall = FALSE,\n\tall.x,\n\tall.y\n)\n```\n\n## 访问数据框中的列\n```\n访问数据框中的列，若每次都要使用df$colname的形式，则意味着每次都要反复使用数据框名称df和$符号，这回造成代码冗余。\n函数      |  特征\nwith()    |  允许在代码块内部只使用属性名直接访问数据\nwithin()  |  功能于with()一样，但可以轻松修改数据值 \nattach()  |  attach()之后的代码中，可以只使用属性名直接访问数据\ndetach()  |  作用和attach()相反，detach()之后的代码中，无法继续使用属性名直接访问数据\n```\n## 参考资料\n《R语言与数据分析》","source":"_posts/Rdata.md","raw":"---\ntitle: R数据操作\ndate: 2017-06-25 21:54:59\ntags: [R, 数据操作]\n---\n\n## 前言\nR主要是基于向量处理数据，与使用for循环逐个处理单个数据的方式相比，基于向量的处理速度更快。\n\n## R中常用数据集\n```\n数据集           |   含义\nAirPassenger    |    Box & Jenkins航空公司1949～1960年每月国际航线乘客数 \nairquality      |    纽约市1973年5月～9月每日空气质量\ncars            |    20世纪20年代汽车速度对刹车距离的影响\nmtcars          |    1974年美国Motor Trend杂志上刊登的的32辆车的11个指标数据\nTitanic         |    “泰坦尼克”号生还者信息，包含舱室（一等舱、二等舱、三等舱）、性别、年龄、是否生还\nInsectSprays    |    使用6中杀虫剂后各自的害虫存活率\nOrange          |    橙数的种类、树龄、树围\nswiss           |    1888年前后，瑞士联邦47个法语州的生育率鱼社会经济指标\n```\n\n<!--more-->\n\n## apply系列函数\n```\n函数         |  说明\napply()      |  向数组或矩阵应用指定函数，然后将结果以向量、数组或列表形式返回 \nlapply()     |  向向量、列表或表达式应用函数，并以列表形式返回\nsapply()     |  与lapply()类似，但以向量、矩阵或数组形式返回\ntapply()     |  根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果\nmapply()     |  sapply()扩展版本，借助参数接收多个向量或列表，然后对各个数据的第一个元素应用函数计算结果，然后针对第二个。。。类推，然后返回计算结果\n```\n\n### apply()\n```\n说明：沿着MARGIN方向，向数组或矩阵应用函数FUN，并以向量、数组或列表形式返回结果\napply(\n\tx,         # 数组或矩阵\n\tMARGIN，   # 应用函数方向，1是沿着行方向，2是沿着列方向 c(1,2)表示同时沿着行和列方向\n\tFUN        # 应用函数\n\t\t\n)\nFUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵；返回长度不同向量时，返回列表\n```\n\n### lapply()\n```\n说明：向列表、向量、表达式、数据框等应用指定函数，并将结果以列表形式返回\nlapply(\n\tx,   # 向向量、列表或表达式\n\tFUN, # 应用函数\n\t...  # 额外参数，会传给FUN\n)\n返回于x等长的列表\n```\n\n### sapply()\n```\n说明：与lapply()类似，但以向量、矩阵形式返回\nsapply(\n\tx,   # 向向量、列表或表达式\n\tFUN, # 应用函数\n\t...  # 额外参数，会传给FUN\n)\nFUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵\n```\n\n### tapply()\n```\n说明：根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果\ntapply(\n\tx,  # 向量\n\tINDEX, # 数据分组索引，该参数应该设置为因子，非因子的数据类型会被自动转换为因子\n\tFUN,  # 要向分组应用的函数\n\t...   # 额外参数，这些参数被传递给FUN函数\n)\n```\n\n### mapply()\n```\n说明：将以列表或向量形式给出的参数传递给指定函数，并返回函数执行结果\nmapply(\n\tFUN, # 等待执行的函数\n\t...  # 等待传递的参数\n)\n```\n\n## 随机数生成函数\n```\n函数                          |  含义 \nrnorm(n, mean = 0, sd = 1)   |  生成n个均值为mean、标准差为sd的正态分布的随机数\nruninf(n, min = 0, max = 1)  |  生成n个均匀分布的随机数，最小值为min，最大值为max\nrpois(n, lambda)             |  生成n个lamada为lambada的泊松分布随机数\nrexp(n, rate = 1)            |  生成n个lambda为rate的指数分布随机数\n```\n\n## 数据拆分于合并函数\n```\n函数       |  特征\nsplit()   |  根据给定条件拆分数据\nsubset()  |  选择满足给定条件的数据\nmerge()   |  基于共同值的合并数据\n```\n### split() \n```\n说明：根据给定条件拆分数据\nsplit(\n\tx, # 拆分数据\n\tf  # 保存拆分的因子\n)\n返回保存拆分数据的列表\n```\n\n### subset()\n```\n说明：选择满足给定条件的数据\nsubset(\n\tx,      # 等待选取局部数据\n\tsubset  # 是否要选取数据\n)\n\nsubset(\n\tx,      # 等待选取局部数据\n\tsubset,  # 是否要选取数据\n\tselect   # 数据框时，要选取的列\n)\n```\n\n### merge\n```\n说明：根据共同的列名或行名合并数据\nmerge(\n\tx,  # 等待合并的数据框\n\ty   # 等待合并的数据框\n)\n\nmerge(\n\tx,  # 等待合并的数据框\n\ty,  # 等待合并的数据框\n\tby, # 用于合并基准的列，x,y列名不同时，\n\tall = FALSE,\n\tall.x,\n\tall.y\n)\n```\n\n## 访问数据框中的列\n```\n访问数据框中的列，若每次都要使用df$colname的形式，则意味着每次都要反复使用数据框名称df和$符号，这回造成代码冗余。\n函数      |  特征\nwith()    |  允许在代码块内部只使用属性名直接访问数据\nwithin()  |  功能于with()一样，但可以轻松修改数据值 \nattach()  |  attach()之后的代码中，可以只使用属性名直接访问数据\ndetach()  |  作用和attach()相反，detach()之后的代码中，无法继续使用属性名直接访问数据\n```\n## 参考资料\n《R语言与数据分析》","slug":"Rdata","published":1,"updated":"2017-06-26T02:53:23.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ubx0001ffca9opnw8xb","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>R主要是基于向量处理数据，与使用for循环逐个处理单个数据的方式相比，基于向量的处理速度更快。</p>\n<h2 id=\"R中常用数据集\"><a href=\"#R中常用数据集\" class=\"headerlink\" title=\"R中常用数据集\"></a>R中常用数据集</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">数据集           |   含义</div><div class=\"line\">AirPassenger    |    Box &amp; Jenkins航空公司1949～1960年每月国际航线乘客数 </div><div class=\"line\">airquality      |    纽约市1973年5月～9月每日空气质量</div><div class=\"line\">cars            |    20世纪20年代汽车速度对刹车距离的影响</div><div class=\"line\">mtcars          |    1974年美国Motor Trend杂志上刊登的的32辆车的11个指标数据</div><div class=\"line\">Titanic         |    “泰坦尼克”号生还者信息，包含舱室（一等舱、二等舱、三等舱）、性别、年龄、是否生还</div><div class=\"line\">InsectSprays    |    使用6中杀虫剂后各自的害虫存活率</div><div class=\"line\">Orange          |    橙数的种类、树龄、树围</div><div class=\"line\">swiss           |    1888年前后，瑞士联邦47个法语州的生育率鱼社会经济指标</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"apply系列函数\"><a href=\"#apply系列函数\" class=\"headerlink\" title=\"apply系列函数\"></a>apply系列函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">函数         |  说明</div><div class=\"line\">apply()      |  向数组或矩阵应用指定函数，然后将结果以向量、数组或列表形式返回 </div><div class=\"line\">lapply()     |  向向量、列表或表达式应用函数，并以列表形式返回</div><div class=\"line\">sapply()     |  与lapply()类似，但以向量、矩阵或数组形式返回</div><div class=\"line\">tapply()     |  根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果</div><div class=\"line\">mapply()     |  sapply()扩展版本，借助参数接收多个向量或列表，然后对各个数据的第一个元素应用函数计算结果，然后针对第二个。。。类推，然后返回计算结果</div></pre></td></tr></table></figure>\n<h3 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply()\"></a>apply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：沿着MARGIN方向，向数组或矩阵应用函数FUN，并以向量、数组或列表形式返回结果</div><div class=\"line\">apply(</div><div class=\"line\">\tx,         # 数组或矩阵</div><div class=\"line\">\tMARGIN，   # 应用函数方向，1是沿着行方向，2是沿着列方向 c(1,2)表示同时沿着行和列方向</div><div class=\"line\">\tFUN        # 应用函数</div><div class=\"line\">\t\t</div><div class=\"line\">)</div><div class=\"line\">FUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵；返回长度不同向量时，返回列表</div></pre></td></tr></table></figure>\n<h3 id=\"lapply\"><a href=\"#lapply\" class=\"headerlink\" title=\"lapply()\"></a>lapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：向列表、向量、表达式、数据框等应用指定函数，并将结果以列表形式返回</div><div class=\"line\">lapply(</div><div class=\"line\">\tx,   # 向向量、列表或表达式</div><div class=\"line\">\tFUN, # 应用函数</div><div class=\"line\">\t...  # 额外参数，会传给FUN</div><div class=\"line\">)</div><div class=\"line\">返回于x等长的列表</div></pre></td></tr></table></figure>\n<h3 id=\"sapply\"><a href=\"#sapply\" class=\"headerlink\" title=\"sapply()\"></a>sapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：与lapply()类似，但以向量、矩阵形式返回</div><div class=\"line\">sapply(</div><div class=\"line\">\tx,   # 向向量、列表或表达式</div><div class=\"line\">\tFUN, # 应用函数</div><div class=\"line\">\t...  # 额外参数，会传给FUN</div><div class=\"line\">)</div><div class=\"line\">FUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵</div></pre></td></tr></table></figure>\n<h3 id=\"tapply\"><a href=\"#tapply\" class=\"headerlink\" title=\"tapply()\"></a>tapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果</div><div class=\"line\">tapply(</div><div class=\"line\">\tx,  # 向量</div><div class=\"line\">\tINDEX, # 数据分组索引，该参数应该设置为因子，非因子的数据类型会被自动转换为因子</div><div class=\"line\">\tFUN,  # 要向分组应用的函数</div><div class=\"line\">\t...   # 额外参数，这些参数被传递给FUN函数</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h3 id=\"mapply\"><a href=\"#mapply\" class=\"headerlink\" title=\"mapply()\"></a>mapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：将以列表或向量形式给出的参数传递给指定函数，并返回函数执行结果</div><div class=\"line\">mapply(</div><div class=\"line\">\tFUN, # 等待执行的函数</div><div class=\"line\">\t...  # 等待传递的参数</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"随机数生成函数\"><a href=\"#随机数生成函数\" class=\"headerlink\" title=\"随机数生成函数\"></a>随机数生成函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">函数                          |  含义 </div><div class=\"line\">rnorm(n, mean = 0, sd = 1)   |  生成n个均值为mean、标准差为sd的正态分布的随机数</div><div class=\"line\">runinf(n, min = 0, max = 1)  |  生成n个均匀分布的随机数，最小值为min，最大值为max</div><div class=\"line\">rpois(n, lambda)             |  生成n个lamada为lambada的泊松分布随机数</div><div class=\"line\">rexp(n, rate = 1)            |  生成n个lambda为rate的指数分布随机数</div></pre></td></tr></table></figure>\n<h2 id=\"数据拆分于合并函数\"><a href=\"#数据拆分于合并函数\" class=\"headerlink\" title=\"数据拆分于合并函数\"></a>数据拆分于合并函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">函数       |  特征</div><div class=\"line\">split()   |  根据给定条件拆分数据</div><div class=\"line\">subset()  |  选择满足给定条件的数据</div><div class=\"line\">merge()   |  基于共同值的合并数据</div></pre></td></tr></table></figure>\n<h3 id=\"split\"><a href=\"#split\" class=\"headerlink\" title=\"split()\"></a>split()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：根据给定条件拆分数据</div><div class=\"line\">split(</div><div class=\"line\">\tx, # 拆分数据</div><div class=\"line\">\tf  # 保存拆分的因子</div><div class=\"line\">)</div><div class=\"line\">返回保存拆分数据的列表</div></pre></td></tr></table></figure>\n<h3 id=\"subset\"><a href=\"#subset\" class=\"headerlink\" title=\"subset()\"></a>subset()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：选择满足给定条件的数据</div><div class=\"line\">subset(</div><div class=\"line\">\tx,      # 等待选取局部数据</div><div class=\"line\">\tsubset  # 是否要选取数据</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">subset(</div><div class=\"line\">\tx,      # 等待选取局部数据</div><div class=\"line\">\tsubset,  # 是否要选取数据</div><div class=\"line\">\tselect   # 数据框时，要选取的列</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h3 id=\"merge\"><a href=\"#merge\" class=\"headerlink\" title=\"merge\"></a>merge</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：根据共同的列名或行名合并数据</div><div class=\"line\">merge(</div><div class=\"line\">\tx,  # 等待合并的数据框</div><div class=\"line\">\ty   # 等待合并的数据框</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">merge(</div><div class=\"line\">\tx,  # 等待合并的数据框</div><div class=\"line\">\ty,  # 等待合并的数据框</div><div class=\"line\">\tby, # 用于合并基准的列，x,y列名不同时，</div><div class=\"line\">\tall = FALSE,</div><div class=\"line\">\tall.x,</div><div class=\"line\">\tall.y</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"访问数据框中的列\"><a href=\"#访问数据框中的列\" class=\"headerlink\" title=\"访问数据框中的列\"></a>访问数据框中的列</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">访问数据框中的列，若每次都要使用df$colname的形式，则意味着每次都要反复使用数据框名称df和$符号，这回造成代码冗余。</div><div class=\"line\">函数      |  特征</div><div class=\"line\">with()    |  允许在代码块内部只使用属性名直接访问数据</div><div class=\"line\">within()  |  功能于with()一样，但可以轻松修改数据值 </div><div class=\"line\">attach()  |  attach()之后的代码中，可以只使用属性名直接访问数据</div><div class=\"line\">detach()  |  作用和attach()相反，detach()之后的代码中，无法继续使用属性名直接访问数据</div></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p>《R语言与数据分析》</p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>R主要是基于向量处理数据，与使用for循环逐个处理单个数据的方式相比，基于向量的处理速度更快。</p>\n<h2 id=\"R中常用数据集\"><a href=\"#R中常用数据集\" class=\"headerlink\" title=\"R中常用数据集\"></a>R中常用数据集</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">数据集           |   含义</div><div class=\"line\">AirPassenger    |    Box &amp; Jenkins航空公司1949～1960年每月国际航线乘客数 </div><div class=\"line\">airquality      |    纽约市1973年5月～9月每日空气质量</div><div class=\"line\">cars            |    20世纪20年代汽车速度对刹车距离的影响</div><div class=\"line\">mtcars          |    1974年美国Motor Trend杂志上刊登的的32辆车的11个指标数据</div><div class=\"line\">Titanic         |    “泰坦尼克”号生还者信息，包含舱室（一等舱、二等舱、三等舱）、性别、年龄、是否生还</div><div class=\"line\">InsectSprays    |    使用6中杀虫剂后各自的害虫存活率</div><div class=\"line\">Orange          |    橙数的种类、树龄、树围</div><div class=\"line\">swiss           |    1888年前后，瑞士联邦47个法语州的生育率鱼社会经济指标</div></pre></td></tr></table></figure>","more":"<h2 id=\"apply系列函数\"><a href=\"#apply系列函数\" class=\"headerlink\" title=\"apply系列函数\"></a>apply系列函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">函数         |  说明</div><div class=\"line\">apply()      |  向数组或矩阵应用指定函数，然后将结果以向量、数组或列表形式返回 </div><div class=\"line\">lapply()     |  向向量、列表或表达式应用函数，并以列表形式返回</div><div class=\"line\">sapply()     |  与lapply()类似，但以向量、矩阵或数组形式返回</div><div class=\"line\">tapply()     |  根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果</div><div class=\"line\">mapply()     |  sapply()扩展版本，借助参数接收多个向量或列表，然后对各个数据的第一个元素应用函数计算结果，然后针对第二个。。。类推，然后返回计算结果</div></pre></td></tr></table></figure>\n<h3 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply()\"></a>apply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：沿着MARGIN方向，向数组或矩阵应用函数FUN，并以向量、数组或列表形式返回结果</div><div class=\"line\">apply(</div><div class=\"line\">\tx,         # 数组或矩阵</div><div class=\"line\">\tMARGIN，   # 应用函数方向，1是沿着行方向，2是沿着列方向 c(1,2)表示同时沿着行和列方向</div><div class=\"line\">\tFUN        # 应用函数</div><div class=\"line\">\t\t</div><div class=\"line\">)</div><div class=\"line\">FUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵；返回长度不同向量时，返回列表</div></pre></td></tr></table></figure>\n<h3 id=\"lapply\"><a href=\"#lapply\" class=\"headerlink\" title=\"lapply()\"></a>lapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：向列表、向量、表达式、数据框等应用指定函数，并将结果以列表形式返回</div><div class=\"line\">lapply(</div><div class=\"line\">\tx,   # 向向量、列表或表达式</div><div class=\"line\">\tFUN, # 应用函数</div><div class=\"line\">\t...  # 额外参数，会传给FUN</div><div class=\"line\">)</div><div class=\"line\">返回于x等长的列表</div></pre></td></tr></table></figure>\n<h3 id=\"sapply\"><a href=\"#sapply\" class=\"headerlink\" title=\"sapply()\"></a>sapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：与lapply()类似，但以向量、矩阵形式返回</div><div class=\"line\">sapply(</div><div class=\"line\">\tx,   # 向向量、列表或表达式</div><div class=\"line\">\tFUN, # 应用函数</div><div class=\"line\">\t...  # 额外参数，会传给FUN</div><div class=\"line\">)</div><div class=\"line\">FUN函数返回长度为1的向量时，返回向量；返回大于1的向量时，返回矩阵</div></pre></td></tr></table></figure>\n<h3 id=\"tapply\"><a href=\"#tapply\" class=\"headerlink\" title=\"tapply()\"></a>tapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：根据指定标准对向量中的数据分组，然后对每个分组应用指定函数，并返回结果</div><div class=\"line\">tapply(</div><div class=\"line\">\tx,  # 向量</div><div class=\"line\">\tINDEX, # 数据分组索引，该参数应该设置为因子，非因子的数据类型会被自动转换为因子</div><div class=\"line\">\tFUN,  # 要向分组应用的函数</div><div class=\"line\">\t...   # 额外参数，这些参数被传递给FUN函数</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h3 id=\"mapply\"><a href=\"#mapply\" class=\"headerlink\" title=\"mapply()\"></a>mapply()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：将以列表或向量形式给出的参数传递给指定函数，并返回函数执行结果</div><div class=\"line\">mapply(</div><div class=\"line\">\tFUN, # 等待执行的函数</div><div class=\"line\">\t...  # 等待传递的参数</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"随机数生成函数\"><a href=\"#随机数生成函数\" class=\"headerlink\" title=\"随机数生成函数\"></a>随机数生成函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">函数                          |  含义 </div><div class=\"line\">rnorm(n, mean = 0, sd = 1)   |  生成n个均值为mean、标准差为sd的正态分布的随机数</div><div class=\"line\">runinf(n, min = 0, max = 1)  |  生成n个均匀分布的随机数，最小值为min，最大值为max</div><div class=\"line\">rpois(n, lambda)             |  生成n个lamada为lambada的泊松分布随机数</div><div class=\"line\">rexp(n, rate = 1)            |  生成n个lambda为rate的指数分布随机数</div></pre></td></tr></table></figure>\n<h2 id=\"数据拆分于合并函数\"><a href=\"#数据拆分于合并函数\" class=\"headerlink\" title=\"数据拆分于合并函数\"></a>数据拆分于合并函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">函数       |  特征</div><div class=\"line\">split()   |  根据给定条件拆分数据</div><div class=\"line\">subset()  |  选择满足给定条件的数据</div><div class=\"line\">merge()   |  基于共同值的合并数据</div></pre></td></tr></table></figure>\n<h3 id=\"split\"><a href=\"#split\" class=\"headerlink\" title=\"split()\"></a>split()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：根据给定条件拆分数据</div><div class=\"line\">split(</div><div class=\"line\">\tx, # 拆分数据</div><div class=\"line\">\tf  # 保存拆分的因子</div><div class=\"line\">)</div><div class=\"line\">返回保存拆分数据的列表</div></pre></td></tr></table></figure>\n<h3 id=\"subset\"><a href=\"#subset\" class=\"headerlink\" title=\"subset()\"></a>subset()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：选择满足给定条件的数据</div><div class=\"line\">subset(</div><div class=\"line\">\tx,      # 等待选取局部数据</div><div class=\"line\">\tsubset  # 是否要选取数据</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">subset(</div><div class=\"line\">\tx,      # 等待选取局部数据</div><div class=\"line\">\tsubset,  # 是否要选取数据</div><div class=\"line\">\tselect   # 数据框时，要选取的列</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h3 id=\"merge\"><a href=\"#merge\" class=\"headerlink\" title=\"merge\"></a>merge</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：根据共同的列名或行名合并数据</div><div class=\"line\">merge(</div><div class=\"line\">\tx,  # 等待合并的数据框</div><div class=\"line\">\ty   # 等待合并的数据框</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">merge(</div><div class=\"line\">\tx,  # 等待合并的数据框</div><div class=\"line\">\ty,  # 等待合并的数据框</div><div class=\"line\">\tby, # 用于合并基准的列，x,y列名不同时，</div><div class=\"line\">\tall = FALSE,</div><div class=\"line\">\tall.x,</div><div class=\"line\">\tall.y</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"访问数据框中的列\"><a href=\"#访问数据框中的列\" class=\"headerlink\" title=\"访问数据框中的列\"></a>访问数据框中的列</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">访问数据框中的列，若每次都要使用df$colname的形式，则意味着每次都要反复使用数据框名称df和$符号，这回造成代码冗余。</div><div class=\"line\">函数      |  特征</div><div class=\"line\">with()    |  允许在代码块内部只使用属性名直接访问数据</div><div class=\"line\">within()  |  功能于with()一样，但可以轻松修改数据值 </div><div class=\"line\">attach()  |  attach()之后的代码中，可以只使用属性名直接访问数据</div><div class=\"line\">detach()  |  作用和attach()相反，detach()之后的代码中，无法继续使用属性名直接访问数据</div></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p>《R语言与数据分析》</p>"},{"title":"R数据可视化-ggplot2","date":"2017-06-22T01:46:03.000Z","_content":"\n## 前言\n数据可视化是最直观的展示数据的一种方式。R语言提供了多种绘图系统，借助它们可以轻松绘制散点图(scatter plot)、折线图(graph of broken line)、条形图(bar graph)、箱线图(box plot)等。R的绘图功能主要由graphics、lattice、ggplot这3个包提供\n\n## plot\n```\nplot(\n\tx,     # x\n\ty,     # y\n\txlab,  # 横坐标name\n\tylab,  # 纵坐标name\n\tmain,  # 图name\n\tpch,   # 点类型\n\tcex,   # 点大小\n\tcol,   # 点颜色\n\txlim,  # x范围\n\tylim,  # y范围\n\ttype   # 图像类型，p点，l线，b点线\n)\n```\n\n## par\n```\n使用plot绘图，每次都会新建一个窗口，可以使用par\npar(\n\t... # 采用tag = value 方式设置参数\n)\n```\n\n## jitter\n```\njitter(\n\tx,              # 数据\n\tfactor = 1,     # 设置噪声水平\n\tamount = null\n)\n```\n\npoints、lines、abline在plot的图纸上添加点和线、直线\n\n\n## 安装\ninstall.packages(\"tidyverse\")\nlibrary(tidyverse)\n\n## 绘图函数\nggplot(data = <DATA>) + \n  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))\n\n\n## 例子\n```\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy, size = class))\n说明:\nmpg是这个包中自带的一份数据，这个数据是美国环境保护局对于38种车型的统计数据\n\n\nmpg\n#> # A tibble: 234 × 11\n#>   manufacturer model displ  year   cyl      trans   drv   cty   hwy    fl\n#>          <chr> <chr> <dbl> <int> <int>      <chr> <chr> <int> <int> <chr>\n#> 1         audi    a4   1.8  1999     4   auto(l5)     f    18    29     p\n#> 2         audi    a4   1.8  1999     4 manual(m5)     f    21    29     p\n#> 3         audi    a4   2.0  2008     4 manual(m6)     f    20    31     p\n#> 4         audi    a4   2.0  2008     4   auto(av)     f    21    30     p\n#> 5         audi    a4   2.8  1999     6   auto(l5)     f    16    26     p\n#> 6         audi    a4   2.8  1999     6 manual(m5)     f    18    26     p\n#> # ... with 228 more rows, and 1 more variables: class <chr>\n\naes(x = displ, y = hwy)：\n这里是绘制displ和hwy关系的二维图像\nsize = class:\n对于图像中的点根据class分类使用不同的大小，这里还可以使用color，shape，alpha，这几个单词的字面意思，大家可以动手实现一下\n\n```\n## 切分图像\n```\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy)) + \n  facet_wrap(~ class)\nfacet_wrap 第一个参数是切分依据的字段，该字段需要是离散的\n```\n<!--more-->\n\n## 线性\n```\nggplot(data = mpg) + \n  geom_smooth(mapping = aes(x = displ, y = hwy))\n说明：\ngeom_smoothgenjudispl和hwy线性拟合，如果加上入入geom_point后一样的分类现实例如：color=drv,将根据drv分类拟合并且显示不同的颜色\n\n```\n\n## 统计\n```\ndiamonds\n# A tibble: 53,940 x 10\n   carat       cut color clarity depth table price     x     y     z\n   <dbl>     <ord> <ord>   <ord> <dbl> <dbl> <int> <dbl> <dbl> <dbl>\n 1  0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43\n 2  0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31\n 3  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31\n 4  0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63\n 5  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75\n 6  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48\n 7  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47\n 8  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53\n 9  0.22      Fair     E     VS2  65.1    61   337  3.87  3.78  2.49\n10  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39\n# ... with 53,930 more rows\n\nggplot(data = diamonds) + \n  geom_bar(mapping = aes(x = cut))\n说明：\n直方图，横坐标是cut，纵坐标默认是count，可以改变图像的颜色，fill属性改变填充色，color属性改变外围色，alpha改变透明度\n```\n\n\n## 参考链接\n[Data visualisation](http://r4ds.had.co.nz/data-visualisation.html)\n[PDF](http://vita.had.co.nz/papers/layered-grammar.pdf)\n","source":"_posts/RDataVisualization.md","raw":"---\ntitle: R数据可视化-ggplot2\ndate: 2017-06-22 09:46:03\ntags: [R, 数据可视化]\n---\n\n## 前言\n数据可视化是最直观的展示数据的一种方式。R语言提供了多种绘图系统，借助它们可以轻松绘制散点图(scatter plot)、折线图(graph of broken line)、条形图(bar graph)、箱线图(box plot)等。R的绘图功能主要由graphics、lattice、ggplot这3个包提供\n\n## plot\n```\nplot(\n\tx,     # x\n\ty,     # y\n\txlab,  # 横坐标name\n\tylab,  # 纵坐标name\n\tmain,  # 图name\n\tpch,   # 点类型\n\tcex,   # 点大小\n\tcol,   # 点颜色\n\txlim,  # x范围\n\tylim,  # y范围\n\ttype   # 图像类型，p点，l线，b点线\n)\n```\n\n## par\n```\n使用plot绘图，每次都会新建一个窗口，可以使用par\npar(\n\t... # 采用tag = value 方式设置参数\n)\n```\n\n## jitter\n```\njitter(\n\tx,              # 数据\n\tfactor = 1,     # 设置噪声水平\n\tamount = null\n)\n```\n\npoints、lines、abline在plot的图纸上添加点和线、直线\n\n\n## 安装\ninstall.packages(\"tidyverse\")\nlibrary(tidyverse)\n\n## 绘图函数\nggplot(data = <DATA>) + \n  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))\n\n\n## 例子\n```\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy, size = class))\n说明:\nmpg是这个包中自带的一份数据，这个数据是美国环境保护局对于38种车型的统计数据\n\n\nmpg\n#> # A tibble: 234 × 11\n#>   manufacturer model displ  year   cyl      trans   drv   cty   hwy    fl\n#>          <chr> <chr> <dbl> <int> <int>      <chr> <chr> <int> <int> <chr>\n#> 1         audi    a4   1.8  1999     4   auto(l5)     f    18    29     p\n#> 2         audi    a4   1.8  1999     4 manual(m5)     f    21    29     p\n#> 3         audi    a4   2.0  2008     4 manual(m6)     f    20    31     p\n#> 4         audi    a4   2.0  2008     4   auto(av)     f    21    30     p\n#> 5         audi    a4   2.8  1999     6   auto(l5)     f    16    26     p\n#> 6         audi    a4   2.8  1999     6 manual(m5)     f    18    26     p\n#> # ... with 228 more rows, and 1 more variables: class <chr>\n\naes(x = displ, y = hwy)：\n这里是绘制displ和hwy关系的二维图像\nsize = class:\n对于图像中的点根据class分类使用不同的大小，这里还可以使用color，shape，alpha，这几个单词的字面意思，大家可以动手实现一下\n\n```\n## 切分图像\n```\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy)) + \n  facet_wrap(~ class)\nfacet_wrap 第一个参数是切分依据的字段，该字段需要是离散的\n```\n<!--more-->\n\n## 线性\n```\nggplot(data = mpg) + \n  geom_smooth(mapping = aes(x = displ, y = hwy))\n说明：\ngeom_smoothgenjudispl和hwy线性拟合，如果加上入入geom_point后一样的分类现实例如：color=drv,将根据drv分类拟合并且显示不同的颜色\n\n```\n\n## 统计\n```\ndiamonds\n# A tibble: 53,940 x 10\n   carat       cut color clarity depth table price     x     y     z\n   <dbl>     <ord> <ord>   <ord> <dbl> <dbl> <int> <dbl> <dbl> <dbl>\n 1  0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43\n 2  0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31\n 3  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31\n 4  0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63\n 5  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75\n 6  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48\n 7  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47\n 8  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53\n 9  0.22      Fair     E     VS2  65.1    61   337  3.87  3.78  2.49\n10  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39\n# ... with 53,930 more rows\n\nggplot(data = diamonds) + \n  geom_bar(mapping = aes(x = cut))\n说明：\n直方图，横坐标是cut，纵坐标默认是count，可以改变图像的颜色，fill属性改变填充色，color属性改变外围色，alpha改变透明度\n```\n\n\n## 参考链接\n[Data visualisation](http://r4ds.had.co.nz/data-visualisation.html)\n[PDF](http://vita.had.co.nz/papers/layered-grammar.pdf)\n","slug":"RDataVisualization","published":1,"updated":"2017-06-26T06:09:59.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1uc40004ffcat0ep55tu","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>数据可视化是最直观的展示数据的一种方式。R语言提供了多种绘图系统，借助它们可以轻松绘制散点图(scatter plot)、折线图(graph of broken line)、条形图(bar graph)、箱线图(box plot)等。R的绘图功能主要由graphics、lattice、ggplot这3个包提供</p>\n<h2 id=\"plot\"><a href=\"#plot\" class=\"headerlink\" title=\"plot\"></a>plot</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">plot(</div><div class=\"line\">\tx,     # x</div><div class=\"line\">\ty,     # y</div><div class=\"line\">\txlab,  # 横坐标name</div><div class=\"line\">\tylab,  # 纵坐标name</div><div class=\"line\">\tmain,  # 图name</div><div class=\"line\">\tpch,   # 点类型</div><div class=\"line\">\tcex,   # 点大小</div><div class=\"line\">\tcol,   # 点颜色</div><div class=\"line\">\txlim,  # x范围</div><div class=\"line\">\tylim,  # y范围</div><div class=\"line\">\ttype   # 图像类型，p点，l线，b点线</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"par\"><a href=\"#par\" class=\"headerlink\" title=\"par\"></a>par</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">使用plot绘图，每次都会新建一个窗口，可以使用par</div><div class=\"line\">par(</div><div class=\"line\">\t... # 采用tag = value 方式设置参数</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"jitter\"><a href=\"#jitter\" class=\"headerlink\" title=\"jitter\"></a>jitter</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">jitter(</div><div class=\"line\">\tx,              # 数据</div><div class=\"line\">\tfactor = 1,     # 设置噪声水平</div><div class=\"line\">\tamount = null</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>points、lines、abline在plot的图纸上添加点和线、直线</p>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>install.packages(“tidyverse”)<br>library(tidyverse)</p>\n<h2 id=\"绘图函数\"><a href=\"#绘图函数\" class=\"headerlink\" title=\"绘图函数\"></a>绘图函数</h2><p>ggplot(data = <data>) +<br>  <geom_function>(mapping = aes(<mappings>))</mappings></geom_function></data></p>\n<h2 id=\"例子\"><a href=\"#例子\" class=\"headerlink\" title=\"例子\"></a>例子</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">ggplot(data = mpg) + </div><div class=\"line\">  geom_point(mapping = aes(x = displ, y = hwy, size = class))</div><div class=\"line\">说明:</div><div class=\"line\">mpg是这个包中自带的一份数据，这个数据是美国环境保护局对于38种车型的统计数据</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">mpg</div><div class=\"line\">#&gt; # A tibble: 234 × 11</div><div class=\"line\">#&gt;   manufacturer model displ  year   cyl      trans   drv   cty   hwy    fl</div><div class=\"line\">#&gt;          &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt;      &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;</div><div class=\"line\">#&gt; 1         audi    a4   1.8  1999     4   auto(l5)     f    18    29     p</div><div class=\"line\">#&gt; 2         audi    a4   1.8  1999     4 manual(m5)     f    21    29     p</div><div class=\"line\">#&gt; 3         audi    a4   2.0  2008     4 manual(m6)     f    20    31     p</div><div class=\"line\">#&gt; 4         audi    a4   2.0  2008     4   auto(av)     f    21    30     p</div><div class=\"line\">#&gt; 5         audi    a4   2.8  1999     6   auto(l5)     f    16    26     p</div><div class=\"line\">#&gt; 6         audi    a4   2.8  1999     6 manual(m5)     f    18    26     p</div><div class=\"line\">#&gt; # ... with 228 more rows, and 1 more variables: class &lt;chr&gt;</div><div class=\"line\"></div><div class=\"line\">aes(x = displ, y = hwy)：</div><div class=\"line\">这里是绘制displ和hwy关系的二维图像</div><div class=\"line\">size = class:</div><div class=\"line\">对于图像中的点根据class分类使用不同的大小，这里还可以使用color，shape，alpha，这几个单词的字面意思，大家可以动手实现一下</div></pre></td></tr></table></figure>\n<h2 id=\"切分图像\"><a href=\"#切分图像\" class=\"headerlink\" title=\"切分图像\"></a>切分图像</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">ggplot(data = mpg) + </div><div class=\"line\">  geom_point(mapping = aes(x = displ, y = hwy)) + </div><div class=\"line\">  facet_wrap(~ class)</div><div class=\"line\">facet_wrap 第一个参数是切分依据的字段，该字段需要是离散的</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"线性\"><a href=\"#线性\" class=\"headerlink\" title=\"线性\"></a>线性</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">ggplot(data = mpg) + </div><div class=\"line\">  geom_smooth(mapping = aes(x = displ, y = hwy))</div><div class=\"line\">说明：</div><div class=\"line\">geom_smoothgenjudispl和hwy线性拟合，如果加上入入geom_point后一样的分类现实例如：color=drv,将根据drv分类拟合并且显示不同的颜色</div></pre></td></tr></table></figure>\n<h2 id=\"统计\"><a href=\"#统计\" class=\"headerlink\" title=\"统计\"></a>统计</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">diamonds</div><div class=\"line\"># A tibble: 53,940 x 10</div><div class=\"line\">   carat       cut color clarity depth table price     x     y     z</div><div class=\"line\">   &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</div><div class=\"line\"> 1  0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43</div><div class=\"line\"> 2  0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31</div><div class=\"line\"> 3  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31</div><div class=\"line\"> 4  0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63</div><div class=\"line\"> 5  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75</div><div class=\"line\"> 6  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48</div><div class=\"line\"> 7  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47</div><div class=\"line\"> 8  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53</div><div class=\"line\"> 9  0.22      Fair     E     VS2  65.1    61   337  3.87  3.78  2.49</div><div class=\"line\">10  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39</div><div class=\"line\"># ... with 53,930 more rows</div><div class=\"line\"></div><div class=\"line\">ggplot(data = diamonds) + </div><div class=\"line\">  geom_bar(mapping = aes(x = cut))</div><div class=\"line\">说明：</div><div class=\"line\">直方图，横坐标是cut，纵坐标默认是count，可以改变图像的颜色，fill属性改变填充色，color属性改变外围色，alpha改变透明度</div></pre></td></tr></table></figure>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://r4ds.had.co.nz/data-visualisation.html\" target=\"_blank\" rel=\"external\">Data visualisation</a><br><a href=\"http://vita.had.co.nz/papers/layered-grammar.pdf\" target=\"_blank\" rel=\"external\">PDF</a></p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>数据可视化是最直观的展示数据的一种方式。R语言提供了多种绘图系统，借助它们可以轻松绘制散点图(scatter plot)、折线图(graph of broken line)、条形图(bar graph)、箱线图(box plot)等。R的绘图功能主要由graphics、lattice、ggplot这3个包提供</p>\n<h2 id=\"plot\"><a href=\"#plot\" class=\"headerlink\" title=\"plot\"></a>plot</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">plot(</div><div class=\"line\">\tx,     # x</div><div class=\"line\">\ty,     # y</div><div class=\"line\">\txlab,  # 横坐标name</div><div class=\"line\">\tylab,  # 纵坐标name</div><div class=\"line\">\tmain,  # 图name</div><div class=\"line\">\tpch,   # 点类型</div><div class=\"line\">\tcex,   # 点大小</div><div class=\"line\">\tcol,   # 点颜色</div><div class=\"line\">\txlim,  # x范围</div><div class=\"line\">\tylim,  # y范围</div><div class=\"line\">\ttype   # 图像类型，p点，l线，b点线</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"par\"><a href=\"#par\" class=\"headerlink\" title=\"par\"></a>par</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">使用plot绘图，每次都会新建一个窗口，可以使用par</div><div class=\"line\">par(</div><div class=\"line\">\t... # 采用tag = value 方式设置参数</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"jitter\"><a href=\"#jitter\" class=\"headerlink\" title=\"jitter\"></a>jitter</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">jitter(</div><div class=\"line\">\tx,              # 数据</div><div class=\"line\">\tfactor = 1,     # 设置噪声水平</div><div class=\"line\">\tamount = null</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>points、lines、abline在plot的图纸上添加点和线、直线</p>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>install.packages(“tidyverse”)<br>library(tidyverse)</p>\n<h2 id=\"绘图函数\"><a href=\"#绘图函数\" class=\"headerlink\" title=\"绘图函数\"></a>绘图函数</h2><p>ggplot(data = <DATA>) +<br>  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))</MAPPINGS></GEOM_FUNCTION></DATA></p>\n<h2 id=\"例子\"><a href=\"#例子\" class=\"headerlink\" title=\"例子\"></a>例子</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">ggplot(data = mpg) + </div><div class=\"line\">  geom_point(mapping = aes(x = displ, y = hwy, size = class))</div><div class=\"line\">说明:</div><div class=\"line\">mpg是这个包中自带的一份数据，这个数据是美国环境保护局对于38种车型的统计数据</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">mpg</div><div class=\"line\">#&gt; # A tibble: 234 × 11</div><div class=\"line\">#&gt;   manufacturer model displ  year   cyl      trans   drv   cty   hwy    fl</div><div class=\"line\">#&gt;          &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt;      &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;</div><div class=\"line\">#&gt; 1         audi    a4   1.8  1999     4   auto(l5)     f    18    29     p</div><div class=\"line\">#&gt; 2         audi    a4   1.8  1999     4 manual(m5)     f    21    29     p</div><div class=\"line\">#&gt; 3         audi    a4   2.0  2008     4 manual(m6)     f    20    31     p</div><div class=\"line\">#&gt; 4         audi    a4   2.0  2008     4   auto(av)     f    21    30     p</div><div class=\"line\">#&gt; 5         audi    a4   2.8  1999     6   auto(l5)     f    16    26     p</div><div class=\"line\">#&gt; 6         audi    a4   2.8  1999     6 manual(m5)     f    18    26     p</div><div class=\"line\">#&gt; # ... with 228 more rows, and 1 more variables: class &lt;chr&gt;</div><div class=\"line\"></div><div class=\"line\">aes(x = displ, y = hwy)：</div><div class=\"line\">这里是绘制displ和hwy关系的二维图像</div><div class=\"line\">size = class:</div><div class=\"line\">对于图像中的点根据class分类使用不同的大小，这里还可以使用color，shape，alpha，这几个单词的字面意思，大家可以动手实现一下</div></pre></td></tr></table></figure>\n<h2 id=\"切分图像\"><a href=\"#切分图像\" class=\"headerlink\" title=\"切分图像\"></a>切分图像</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">ggplot(data = mpg) + </div><div class=\"line\">  geom_point(mapping = aes(x = displ, y = hwy)) + </div><div class=\"line\">  facet_wrap(~ class)</div><div class=\"line\">facet_wrap 第一个参数是切分依据的字段，该字段需要是离散的</div></pre></td></tr></table></figure>","more":"<h2 id=\"线性\"><a href=\"#线性\" class=\"headerlink\" title=\"线性\"></a>线性</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">ggplot(data = mpg) + </div><div class=\"line\">  geom_smooth(mapping = aes(x = displ, y = hwy))</div><div class=\"line\">说明：</div><div class=\"line\">geom_smoothgenjudispl和hwy线性拟合，如果加上入入geom_point后一样的分类现实例如：color=drv,将根据drv分类拟合并且显示不同的颜色</div></pre></td></tr></table></figure>\n<h2 id=\"统计\"><a href=\"#统计\" class=\"headerlink\" title=\"统计\"></a>统计</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">diamonds</div><div class=\"line\"># A tibble: 53,940 x 10</div><div class=\"line\">   carat       cut color clarity depth table price     x     y     z</div><div class=\"line\">   &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</div><div class=\"line\"> 1  0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43</div><div class=\"line\"> 2  0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31</div><div class=\"line\"> 3  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31</div><div class=\"line\"> 4  0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63</div><div class=\"line\"> 5  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75</div><div class=\"line\"> 6  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48</div><div class=\"line\"> 7  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47</div><div class=\"line\"> 8  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53</div><div class=\"line\"> 9  0.22      Fair     E     VS2  65.1    61   337  3.87  3.78  2.49</div><div class=\"line\">10  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39</div><div class=\"line\"># ... with 53,930 more rows</div><div class=\"line\"></div><div class=\"line\">ggplot(data = diamonds) + </div><div class=\"line\">  geom_bar(mapping = aes(x = cut))</div><div class=\"line\">说明：</div><div class=\"line\">直方图，横坐标是cut，纵坐标默认是count，可以改变图像的颜色，fill属性改变填充色，color属性改变外围色，alpha改变透明度</div></pre></td></tr></table></figure>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://r4ds.had.co.nz/data-visualisation.html\">Data visualisation</a><br><a href=\"http://vita.had.co.nz/papers/layered-grammar.pdf\">PDF</a></p>"},{"title":"R常用函数和数据结构","date":"2017-06-21T03:14:05.000Z","_content":"\n# 前言\n开始了R语言的学习\n\n## 基础函数\n```\n# 首先要学习的函数\n? # 和help函数一样\nstr # struture的简写\n\n# 重要的运算符和赋值函数\n%in%, match  # a%in%y 判断a是否为y中的元素\n=, <-, <<- # x=c(1,2,3) x<<-x*2 结果 x=c(2,4,6)更新x的值\n$, [, [[, head, tail, subset # head(1:50, 10) [1]1  2  3  4  5  6  7  8  9 10 tail(1:50, 10)  [1] 41 42 43 44 45 46 47 48 49 50\nwith\nassign, get\n\n# 比较\nall.equal, identical # identical(a,b) 判断对象是否相同 \n!=, ==, >, >=, <, <=\nis.na, complete.cases\nis.finite\n\n# 基础数学\n*, +, -, /, ^, %%, %/% # %% 取余 # %/% 取整\nabs, sign # sign 指示函数\nacos, asin, atan, atan2\nsin, cos, tan\nceiling, floor, round, trunc, signif # trunc 去除小数  signif(data, n) data 精确的位数为n，包括整数\nexp, log, log10, log2, sqrt\nmax, min, prod, sum # prod 连乘\ncummax, cummin, cumprod, cumsum, diff # cu开头的函数计算累计值 # diff计算间隔\npmax, pmin  # pmax(x,y,z) 返回x,y,z各列的最大值\nrange # 取出最大最小值\nmean, median, cor, sd, var # cor 相关系数  sd 均方差Standard Deviation var 方差\nrle # Run Length Encoding 连续变量统计\n\n# 处理函数的函数\nfunction\nmissing\non.exit\nreturn, invisible\n\n# 逻辑与集合\n&, |, !, xor  # &, | 用于对保存逻辑值的向量进行运算运算，并按元素逐个进行\n&&, || # &&, ||  &&并不用于在向量的元素之间的运算，它用于运算两个逻辑值\nall, any\nintersect, union, setdiff, setequal # union 求合集 intersect 求交集 setdiff 求差集 setequal 判断x和y是否相同\nwhich # 用法which(test)。返回test为真值的位置 \n\n# 向量与矩阵\nc, matrix\n# 强制转换规则字符型(character)>数值型(numeric)逻辑型(logical)\nlength, dim, ncol, nrow\ncbind, rbind # rbind(x,y) # 按行合并指定数据\nnames, colnames, rownames # names 定义或返回向量c的元素名字\nt # 求转置\ndiag\nsweep\nas.matrix, data.matrix\n\n# 构建向量\nc\nrep, rep_len # 保存重复向量值的向量 rep(x,times,each) x:保存重复的向量 times:整个向量重复的次数 each:每个元素重复的次数\nseq, seq_len, seq_along # 连续数字组成的向量 seq 创建序列，seq(from, to, by) by是步长默认是1 seq_along(along.with) 根据along.with的长度n创建序列 seq_len(n) 根据n创建长度为n的序列\nrev\nsample\nchoose, factorial, combn\n(is/as).(character/numeric/logical/...)\n\n# 列表和数据框\nlist, unlist  # unlist 将列表转换为向量 unlist(x,recursive=FALSE,use.names=TRUE)\ndata.frame, as.data.frame\nsplit # 根据给定条件拆分数据 split(x,f) x:要拆分的向量或数据框 f:保存拆分基准的因子\nexpand.grid\n\n# 控制流\nif, &&, || (short circuiting)\nfor, while\nnext, break\nswitch\nifelse # ifelse(test, yes, no) test为真，输出yes值，否则输出no值。\n\n# apply函数和相似函数\nlapply, sapply, vapply \napply # 向数据或矩阵应用指定函数，然后奖结果值以向量、数组或列表的方式返回\ntapply\nreplicate # replicate(n, f) # 对于函数f运行n次\n```\n<!-- more -->\n### 常见数据结构\n```\n# 日期时间\nISOdate, ISOdatetime, strftime, strptime, date \ndifftime # difftime(date1, date2) 返回时间差\njulian, months, quarters, weekdays # weekdays(date) 返回星期几 # quarters() 返回季度 # moths() 返回月份 # julian(date) 返回date离19700101的天数\nlibrary(lubridate)\n\n# 字符处理\ngrep, agrep\ngsub # 字符替换 gsub(pattern, replacement, x)\nstrsplit\nchartr\nnchar\ntolower, toupper\nsubstr\npaste # paste(data1, data2, sep = \"world\") 结果是data1和data2拼接中间以world连接，world是可以自己定义的\nlibrary(string)\n\n# 因子\nfactor, levels, nlevels\nreorder, relevel\ncut, findInterval\ninteraction\noptions(stringAsFactors = FALSE)\n\n# 数组处理\narray\ndim\ndimnames\naperm\nlibrary(abind)\n```\n\n### 统计函数\n```\n# 排序和制表\nduplicated, unique  # unique 找出不同的元素\nmerge\norder, rank, quantile\nsort\ntable, ftable\n\n# 线性模型\nfitted, predict, resid, restandard\nlm, glm\nhat, influence.measures\nlogLik, df, deviance\nformula, ~, I\nanova, coef, confint, vcov\ncontrasts\n\n# 测试类函数\napropos(\"\\\\.test$\")\n\n# 随机变量\n(q, p, d, r) * (beta, binom, cauchy, chisq, exp, f, gamma, geom, hyper, lnorm, logis, multinom, nbinom, norm, pois, signrank, t, unif, weibull, wilcox, birthday, tukey)\n\n# 矩阵运算\ncrossprod, tcrossprod\neigen, qr, svd\n%*%, %o%, outer # a%*%b 求矩阵a和矩阵b的积\nrcond\nsolve # solve(a,b) a矩阵，b向量或矩阵 求a%*%x=b的x，若不指定，则求a的逆矩阵\n```\n\n### 使用R\n```\n# 工作空间\nls, exists, rm # ls: 当前工作空间中的objects # exists 判断是否存在当前工作空间 # rm 删除工作空间中某个object\ngetwd, setwd # 返回当前工作空间 # 设置当前工作空间\nq # 退出\nsource # \"预装\"函数,向R脚本导入其他函数并运行\ninstall.packages, library, require \n\n# 帮助\nhelp, ?\nhelp.search\napropos\nRSiteSearch\ncitation\ndemo\nexample\nvignette\n\n# 调试\ntraceback\nbrowser\nrecover\noptions(error = )\nstop, warning, message\ntraCath, try\n```\n\n### I/O函数\n```\n# 输出\nprint, cat\nmessage, warning\ndput\nformat\nsink, capture.output\n\n# 读／写数据\ndata\ncount.fields\nread.csv, write.csv\nread.delim, write.delim \nread.fwf \nreadLines, writeLines\nreadRDS, saveRDS\nload, save \nlibrary(foreign)\n\n# 文件和目录\ndir\nbasename, dirname, tools::file_ext\nfile.path\npath.expand, normalizePath\nfile.choose\nfile.copy, file.create, file.remove, file.rename, dir.create\nfile.exists, file.info\ntempdir, tempfile\ndownload.file, library(downloader)\n\n```\n\n## 查看帮助\n```\nhelp 或 ? :调用帮助系统\n\nhelp.search 或 ??: 搜索包含指定字符串的文档\n\nexample: 运行帮助页面中的Example部分\n\nhelp.start: 现实包含R系统帮助的html页面\n```\n\n## NA处理函数\nna.fail(object, ...) # 若object中包含NA，则失败\nna.omit(object, ...) # 若object中包含NA，则排除\nna.exlude(object, ...) # 若object中包含NA，则排除，这与na.omit一样。但使用naresid napredeitct的函数中，通过NA排除的行再次添加到结果\nna.pass(object, ...) # 即使object含有NA值，也使之通过\n\n## 参考文献\n[require和library](https://stackoverflow.com/questions/5595512/what-is-the-difference-between-require-and-library)\n《R语言与数据分析》","source":"_posts/Rfunction.md","raw":"---\ntitle: R常用函数和数据结构\ndate: 2017-06-21 11:14:05\ntags: [R]\n---\n\n# 前言\n开始了R语言的学习\n\n## 基础函数\n```\n# 首先要学习的函数\n? # 和help函数一样\nstr # struture的简写\n\n# 重要的运算符和赋值函数\n%in%, match  # a%in%y 判断a是否为y中的元素\n=, <-, <<- # x=c(1,2,3) x<<-x*2 结果 x=c(2,4,6)更新x的值\n$, [, [[, head, tail, subset # head(1:50, 10) [1]1  2  3  4  5  6  7  8  9 10 tail(1:50, 10)  [1] 41 42 43 44 45 46 47 48 49 50\nwith\nassign, get\n\n# 比较\nall.equal, identical # identical(a,b) 判断对象是否相同 \n!=, ==, >, >=, <, <=\nis.na, complete.cases\nis.finite\n\n# 基础数学\n*, +, -, /, ^, %%, %/% # %% 取余 # %/% 取整\nabs, sign # sign 指示函数\nacos, asin, atan, atan2\nsin, cos, tan\nceiling, floor, round, trunc, signif # trunc 去除小数  signif(data, n) data 精确的位数为n，包括整数\nexp, log, log10, log2, sqrt\nmax, min, prod, sum # prod 连乘\ncummax, cummin, cumprod, cumsum, diff # cu开头的函数计算累计值 # diff计算间隔\npmax, pmin  # pmax(x,y,z) 返回x,y,z各列的最大值\nrange # 取出最大最小值\nmean, median, cor, sd, var # cor 相关系数  sd 均方差Standard Deviation var 方差\nrle # Run Length Encoding 连续变量统计\n\n# 处理函数的函数\nfunction\nmissing\non.exit\nreturn, invisible\n\n# 逻辑与集合\n&, |, !, xor  # &, | 用于对保存逻辑值的向量进行运算运算，并按元素逐个进行\n&&, || # &&, ||  &&并不用于在向量的元素之间的运算，它用于运算两个逻辑值\nall, any\nintersect, union, setdiff, setequal # union 求合集 intersect 求交集 setdiff 求差集 setequal 判断x和y是否相同\nwhich # 用法which(test)。返回test为真值的位置 \n\n# 向量与矩阵\nc, matrix\n# 强制转换规则字符型(character)>数值型(numeric)逻辑型(logical)\nlength, dim, ncol, nrow\ncbind, rbind # rbind(x,y) # 按行合并指定数据\nnames, colnames, rownames # names 定义或返回向量c的元素名字\nt # 求转置\ndiag\nsweep\nas.matrix, data.matrix\n\n# 构建向量\nc\nrep, rep_len # 保存重复向量值的向量 rep(x,times,each) x:保存重复的向量 times:整个向量重复的次数 each:每个元素重复的次数\nseq, seq_len, seq_along # 连续数字组成的向量 seq 创建序列，seq(from, to, by) by是步长默认是1 seq_along(along.with) 根据along.with的长度n创建序列 seq_len(n) 根据n创建长度为n的序列\nrev\nsample\nchoose, factorial, combn\n(is/as).(character/numeric/logical/...)\n\n# 列表和数据框\nlist, unlist  # unlist 将列表转换为向量 unlist(x,recursive=FALSE,use.names=TRUE)\ndata.frame, as.data.frame\nsplit # 根据给定条件拆分数据 split(x,f) x:要拆分的向量或数据框 f:保存拆分基准的因子\nexpand.grid\n\n# 控制流\nif, &&, || (short circuiting)\nfor, while\nnext, break\nswitch\nifelse # ifelse(test, yes, no) test为真，输出yes值，否则输出no值。\n\n# apply函数和相似函数\nlapply, sapply, vapply \napply # 向数据或矩阵应用指定函数，然后奖结果值以向量、数组或列表的方式返回\ntapply\nreplicate # replicate(n, f) # 对于函数f运行n次\n```\n<!-- more -->\n### 常见数据结构\n```\n# 日期时间\nISOdate, ISOdatetime, strftime, strptime, date \ndifftime # difftime(date1, date2) 返回时间差\njulian, months, quarters, weekdays # weekdays(date) 返回星期几 # quarters() 返回季度 # moths() 返回月份 # julian(date) 返回date离19700101的天数\nlibrary(lubridate)\n\n# 字符处理\ngrep, agrep\ngsub # 字符替换 gsub(pattern, replacement, x)\nstrsplit\nchartr\nnchar\ntolower, toupper\nsubstr\npaste # paste(data1, data2, sep = \"world\") 结果是data1和data2拼接中间以world连接，world是可以自己定义的\nlibrary(string)\n\n# 因子\nfactor, levels, nlevels\nreorder, relevel\ncut, findInterval\ninteraction\noptions(stringAsFactors = FALSE)\n\n# 数组处理\narray\ndim\ndimnames\naperm\nlibrary(abind)\n```\n\n### 统计函数\n```\n# 排序和制表\nduplicated, unique  # unique 找出不同的元素\nmerge\norder, rank, quantile\nsort\ntable, ftable\n\n# 线性模型\nfitted, predict, resid, restandard\nlm, glm\nhat, influence.measures\nlogLik, df, deviance\nformula, ~, I\nanova, coef, confint, vcov\ncontrasts\n\n# 测试类函数\napropos(\"\\\\.test$\")\n\n# 随机变量\n(q, p, d, r) * (beta, binom, cauchy, chisq, exp, f, gamma, geom, hyper, lnorm, logis, multinom, nbinom, norm, pois, signrank, t, unif, weibull, wilcox, birthday, tukey)\n\n# 矩阵运算\ncrossprod, tcrossprod\neigen, qr, svd\n%*%, %o%, outer # a%*%b 求矩阵a和矩阵b的积\nrcond\nsolve # solve(a,b) a矩阵，b向量或矩阵 求a%*%x=b的x，若不指定，则求a的逆矩阵\n```\n\n### 使用R\n```\n# 工作空间\nls, exists, rm # ls: 当前工作空间中的objects # exists 判断是否存在当前工作空间 # rm 删除工作空间中某个object\ngetwd, setwd # 返回当前工作空间 # 设置当前工作空间\nq # 退出\nsource # \"预装\"函数,向R脚本导入其他函数并运行\ninstall.packages, library, require \n\n# 帮助\nhelp, ?\nhelp.search\napropos\nRSiteSearch\ncitation\ndemo\nexample\nvignette\n\n# 调试\ntraceback\nbrowser\nrecover\noptions(error = )\nstop, warning, message\ntraCath, try\n```\n\n### I/O函数\n```\n# 输出\nprint, cat\nmessage, warning\ndput\nformat\nsink, capture.output\n\n# 读／写数据\ndata\ncount.fields\nread.csv, write.csv\nread.delim, write.delim \nread.fwf \nreadLines, writeLines\nreadRDS, saveRDS\nload, save \nlibrary(foreign)\n\n# 文件和目录\ndir\nbasename, dirname, tools::file_ext\nfile.path\npath.expand, normalizePath\nfile.choose\nfile.copy, file.create, file.remove, file.rename, dir.create\nfile.exists, file.info\ntempdir, tempfile\ndownload.file, library(downloader)\n\n```\n\n## 查看帮助\n```\nhelp 或 ? :调用帮助系统\n\nhelp.search 或 ??: 搜索包含指定字符串的文档\n\nexample: 运行帮助页面中的Example部分\n\nhelp.start: 现实包含R系统帮助的html页面\n```\n\n## NA处理函数\nna.fail(object, ...) # 若object中包含NA，则失败\nna.omit(object, ...) # 若object中包含NA，则排除\nna.exlude(object, ...) # 若object中包含NA，则排除，这与na.omit一样。但使用naresid napredeitct的函数中，通过NA排除的行再次添加到结果\nna.pass(object, ...) # 即使object含有NA值，也使之通过\n\n## 参考文献\n[require和library](https://stackoverflow.com/questions/5595512/what-is-the-difference-between-require-and-library)\n《R语言与数据分析》","slug":"Rfunction","published":1,"updated":"2017-06-26T06:22:52.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucb0005ffcakofp5nn2","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>开始了R语言的学习</p>\n<h2 id=\"基础函数\"><a href=\"#基础函数\" class=\"headerlink\" title=\"基础函数\"></a>基础函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 首先要学习的函数</div><div class=\"line\">? # 和help函数一样</div><div class=\"line\">str # struture的简写</div><div class=\"line\"></div><div class=\"line\"># 重要的运算符和赋值函数</div><div class=\"line\">%in%, match  # a%in%y 判断a是否为y中的元素</div><div class=\"line\">=, &lt;-, &lt;&lt;- # x=c(1,2,3) x&lt;&lt;-x*2 结果 x=c(2,4,6)更新x的值</div><div class=\"line\">$, [, [[, head, tail, subset # head(1:50, 10) [1]1  2  3  4  5  6  7  8  9 10 tail(1:50, 10)  [1] 41 42 43 44 45 46 47 48 49 50</div><div class=\"line\">with</div><div class=\"line\">assign, get</div><div class=\"line\"></div><div class=\"line\"># 比较</div><div class=\"line\">all.equal, identical # identical(a,b) 判断对象是否相同 </div><div class=\"line\">!=, ==, &gt;, &gt;=, &lt;, &lt;=</div><div class=\"line\">is.na, complete.cases</div><div class=\"line\">is.finite</div><div class=\"line\"></div><div class=\"line\"># 基础数学</div><div class=\"line\">*, +, -, /, ^, %%, %/% # %% 取余 # %/% 取整</div><div class=\"line\">abs, sign # sign 指示函数</div><div class=\"line\">acos, asin, atan, atan2</div><div class=\"line\">sin, cos, tan</div><div class=\"line\">ceiling, floor, round, trunc, signif # trunc 去除小数  signif(data, n) data 精确的位数为n，包括整数</div><div class=\"line\">exp, log, log10, log2, sqrt</div><div class=\"line\">max, min, prod, sum # prod 连乘</div><div class=\"line\">cummax, cummin, cumprod, cumsum, diff # cu开头的函数计算累计值 # diff计算间隔</div><div class=\"line\">pmax, pmin  # pmax(x,y,z) 返回x,y,z各列的最大值</div><div class=\"line\">range # 取出最大最小值</div><div class=\"line\">mean, median, cor, sd, var # cor 相关系数  sd 均方差Standard Deviation var 方差</div><div class=\"line\">rle # Run Length Encoding 连续变量统计</div><div class=\"line\"></div><div class=\"line\"># 处理函数的函数</div><div class=\"line\">function</div><div class=\"line\">missing</div><div class=\"line\">on.exit</div><div class=\"line\">return, invisible</div><div class=\"line\"></div><div class=\"line\"># 逻辑与集合</div><div class=\"line\">&amp;, |, !, xor  # &amp;, | 用于对保存逻辑值的向量进行运算运算，并按元素逐个进行</div><div class=\"line\">&amp;&amp;, || # &amp;&amp;, ||  &amp;&amp;并不用于在向量的元素之间的运算，它用于运算两个逻辑值</div><div class=\"line\">all, any</div><div class=\"line\">intersect, union, setdiff, setequal # union 求合集 intersect 求交集 setdiff 求差集 setequal 判断x和y是否相同</div><div class=\"line\">which # 用法which(test)。返回test为真值的位置 </div><div class=\"line\"></div><div class=\"line\"># 向量与矩阵</div><div class=\"line\">c, matrix</div><div class=\"line\"># 强制转换规则字符型(character)&gt;数值型(numeric)逻辑型(logical)</div><div class=\"line\">length, dim, ncol, nrow</div><div class=\"line\">cbind, rbind # rbind(x,y) # 按行合并指定数据</div><div class=\"line\">names, colnames, rownames # names 定义或返回向量c的元素名字</div><div class=\"line\">t # 求转置</div><div class=\"line\">diag</div><div class=\"line\">sweep</div><div class=\"line\">as.matrix, data.matrix</div><div class=\"line\"></div><div class=\"line\"># 构建向量</div><div class=\"line\">c</div><div class=\"line\">rep, rep_len # 保存重复向量值的向量 rep(x,times,each) x:保存重复的向量 times:整个向量重复的次数 each:每个元素重复的次数</div><div class=\"line\">seq, seq_len, seq_along # 连续数字组成的向量 seq 创建序列，seq(from, to, by) by是步长默认是1 seq_along(along.with) 根据along.with的长度n创建序列 seq_len(n) 根据n创建长度为n的序列</div><div class=\"line\">rev</div><div class=\"line\">sample</div><div class=\"line\">choose, factorial, combn</div><div class=\"line\">(is/as).(character/numeric/logical/...)</div><div class=\"line\"></div><div class=\"line\"># 列表和数据框</div><div class=\"line\">list, unlist  # unlist 将列表转换为向量 unlist(x,recursive=FALSE,use.names=TRUE)</div><div class=\"line\">data.frame, as.data.frame</div><div class=\"line\">split # 根据给定条件拆分数据 split(x,f) x:要拆分的向量或数据框 f:保存拆分基准的因子</div><div class=\"line\">expand.grid</div><div class=\"line\"></div><div class=\"line\"># 控制流</div><div class=\"line\">if, &amp;&amp;, || (short circuiting)</div><div class=\"line\">for, while</div><div class=\"line\">next, break</div><div class=\"line\">switch</div><div class=\"line\">ifelse # ifelse(test, yes, no) test为真，输出yes值，否则输出no值。</div><div class=\"line\"></div><div class=\"line\"># apply函数和相似函数</div><div class=\"line\">lapply, sapply, vapply </div><div class=\"line\">apply # 向数据或矩阵应用指定函数，然后奖结果值以向量、数组或列表的方式返回</div><div class=\"line\">tapply</div><div class=\"line\">replicate # replicate(n, f) # 对于函数f运行n次</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"常见数据结构\"><a href=\"#常见数据结构\" class=\"headerlink\" title=\"常见数据结构\"></a>常见数据结构</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 日期时间</div><div class=\"line\">ISOdate, ISOdatetime, strftime, strptime, date </div><div class=\"line\">difftime # difftime(date1, date2) 返回时间差</div><div class=\"line\">julian, months, quarters, weekdays # weekdays(date) 返回星期几 # quarters() 返回季度 # moths() 返回月份 # julian(date) 返回date离19700101的天数</div><div class=\"line\">library(lubridate)</div><div class=\"line\"></div><div class=\"line\"># 字符处理</div><div class=\"line\">grep, agrep</div><div class=\"line\">gsub # 字符替换 gsub(pattern, replacement, x)</div><div class=\"line\">strsplit</div><div class=\"line\">chartr</div><div class=\"line\">nchar</div><div class=\"line\">tolower, toupper</div><div class=\"line\">substr</div><div class=\"line\">paste # paste(data1, data2, sep = &quot;world&quot;) 结果是data1和data2拼接中间以world连接，world是可以自己定义的</div><div class=\"line\">library(string)</div><div class=\"line\"></div><div class=\"line\"># 因子</div><div class=\"line\">factor, levels, nlevels</div><div class=\"line\">reorder, relevel</div><div class=\"line\">cut, findInterval</div><div class=\"line\">interaction</div><div class=\"line\">options(stringAsFactors = FALSE)</div><div class=\"line\"></div><div class=\"line\"># 数组处理</div><div class=\"line\">array</div><div class=\"line\">dim</div><div class=\"line\">dimnames</div><div class=\"line\">aperm</div><div class=\"line\">library(abind)</div></pre></td></tr></table></figure>\n<h3 id=\"统计函数\"><a href=\"#统计函数\" class=\"headerlink\" title=\"统计函数\"></a>统计函数</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 排序和制表</div><div class=\"line\">duplicated, unique  # unique 找出不同的元素</div><div class=\"line\">merge</div><div class=\"line\">order, rank, quantile</div><div class=\"line\">sort</div><div class=\"line\">table, ftable</div><div class=\"line\"></div><div class=\"line\"># 线性模型</div><div class=\"line\">fitted, predict, resid, restandard</div><div class=\"line\">lm, glm</div><div class=\"line\">hat, influence.measures</div><div class=\"line\">logLik, df, deviance</div><div class=\"line\">formula, ~, I</div><div class=\"line\">anova, coef, confint, vcov</div><div class=\"line\">contrasts</div><div class=\"line\"></div><div class=\"line\"># 测试类函数</div><div class=\"line\">apropos(&quot;\\\\.test$&quot;)</div><div class=\"line\"></div><div class=\"line\"># 随机变量</div><div class=\"line\">(q, p, d, r) * (beta, binom, cauchy, chisq, exp, f, gamma, geom, hyper, lnorm, logis, multinom, nbinom, norm, pois, signrank, t, unif, weibull, wilcox, birthday, tukey)</div><div class=\"line\"></div><div class=\"line\"># 矩阵运算</div><div class=\"line\">crossprod, tcrossprod</div><div class=\"line\">eigen, qr, svd</div><div class=\"line\">%*%, %o%, outer # a%*%b 求矩阵a和矩阵b的积</div><div class=\"line\">rcond</div><div class=\"line\">solve # solve(a,b) a矩阵，b向量或矩阵 求a%*%x=b的x，若不指定，则求a的逆矩阵</div></pre></td></tr></table></figure>\n<h3 id=\"使用R\"><a href=\"#使用R\" class=\"headerlink\" title=\"使用R\"></a>使用R</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 工作空间</div><div class=\"line\">ls, exists, rm # ls: 当前工作空间中的objects # exists 判断是否存在当前工作空间 # rm 删除工作空间中某个object</div><div class=\"line\">getwd, setwd # 返回当前工作空间 # 设置当前工作空间</div><div class=\"line\">q # 退出</div><div class=\"line\">source # &quot;预装&quot;函数,向R脚本导入其他函数并运行</div><div class=\"line\">install.packages, library, require </div><div class=\"line\"></div><div class=\"line\"># 帮助</div><div class=\"line\">help, ?</div><div class=\"line\">help.search</div><div class=\"line\">apropos</div><div class=\"line\">RSiteSearch</div><div class=\"line\">citation</div><div class=\"line\">demo</div><div class=\"line\">example</div><div class=\"line\">vignette</div><div class=\"line\"></div><div class=\"line\"># 调试</div><div class=\"line\">traceback</div><div class=\"line\">browser</div><div class=\"line\">recover</div><div class=\"line\">options(error = )</div><div class=\"line\">stop, warning, message</div><div class=\"line\">traCath, try</div></pre></td></tr></table></figure>\n<h3 id=\"I-O函数\"><a href=\"#I-O函数\" class=\"headerlink\" title=\"I/O函数\"></a>I/O函数</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 输出</div><div class=\"line\">print, cat</div><div class=\"line\">message, warning</div><div class=\"line\">dput</div><div class=\"line\">format</div><div class=\"line\">sink, capture.output</div><div class=\"line\"></div><div class=\"line\"># 读／写数据</div><div class=\"line\">data</div><div class=\"line\">count.fields</div><div class=\"line\">read.csv, write.csv</div><div class=\"line\">read.delim, write.delim </div><div class=\"line\">read.fwf </div><div class=\"line\">readLines, writeLines</div><div class=\"line\">readRDS, saveRDS</div><div class=\"line\">load, save </div><div class=\"line\">library(foreign)</div><div class=\"line\"></div><div class=\"line\"># 文件和目录</div><div class=\"line\">dir</div><div class=\"line\">basename, dirname, tools::file_ext</div><div class=\"line\">file.path</div><div class=\"line\">path.expand, normalizePath</div><div class=\"line\">file.choose</div><div class=\"line\">file.copy, file.create, file.remove, file.rename, dir.create</div><div class=\"line\">file.exists, file.info</div><div class=\"line\">tempdir, tempfile</div><div class=\"line\">download.file, library(downloader)</div></pre></td></tr></table></figure>\n<h2 id=\"查看帮助\"><a href=\"#查看帮助\" class=\"headerlink\" title=\"查看帮助\"></a>查看帮助</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">help 或 ? :调用帮助系统</div><div class=\"line\"></div><div class=\"line\">help.search 或 ??: 搜索包含指定字符串的文档</div><div class=\"line\"></div><div class=\"line\">example: 运行帮助页面中的Example部分</div><div class=\"line\"></div><div class=\"line\">help.start: 现实包含R系统帮助的html页面</div></pre></td></tr></table></figure>\n<h2 id=\"NA处理函数\"><a href=\"#NA处理函数\" class=\"headerlink\" title=\"NA处理函数\"></a>NA处理函数</h2><p>na.fail(object, …) # 若object中包含NA，则失败<br>na.omit(object, …) # 若object中包含NA，则排除<br>na.exlude(object, …) # 若object中包含NA，则排除，这与na.omit一样。但使用naresid napredeitct的函数中，通过NA排除的行再次添加到结果<br>na.pass(object, …) # 即使object含有NA值，也使之通过</p>\n<h2 id=\"参考文献\"><a href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"></a>参考文献</h2><p><a href=\"https://stackoverflow.com/questions/5595512/what-is-the-difference-between-require-and-library\" target=\"_blank\" rel=\"external\">require和library</a><br>《R语言与数据分析》</p>\n","excerpt":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>开始了R语言的学习</p>\n<h2 id=\"基础函数\"><a href=\"#基础函数\" class=\"headerlink\" title=\"基础函数\"></a>基础函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 首先要学习的函数</div><div class=\"line\">? # 和help函数一样</div><div class=\"line\">str # struture的简写</div><div class=\"line\"></div><div class=\"line\"># 重要的运算符和赋值函数</div><div class=\"line\">%in%, match  # a%in%y 判断a是否为y中的元素</div><div class=\"line\">=, &lt;-, &lt;&lt;- # x=c(1,2,3) x&lt;&lt;-x*2 结果 x=c(2,4,6)更新x的值</div><div class=\"line\">$, [, [[, head, tail, subset # head(1:50, 10) [1]1  2  3  4  5  6  7  8  9 10 tail(1:50, 10)  [1] 41 42 43 44 45 46 47 48 49 50</div><div class=\"line\">with</div><div class=\"line\">assign, get</div><div class=\"line\"></div><div class=\"line\"># 比较</div><div class=\"line\">all.equal, identical # identical(a,b) 判断对象是否相同 </div><div class=\"line\">!=, ==, &gt;, &gt;=, &lt;, &lt;=</div><div class=\"line\">is.na, complete.cases</div><div class=\"line\">is.finite</div><div class=\"line\"></div><div class=\"line\"># 基础数学</div><div class=\"line\">*, +, -, /, ^, %%, %/% # %% 取余 # %/% 取整</div><div class=\"line\">abs, sign # sign 指示函数</div><div class=\"line\">acos, asin, atan, atan2</div><div class=\"line\">sin, cos, tan</div><div class=\"line\">ceiling, floor, round, trunc, signif # trunc 去除小数  signif(data, n) data 精确的位数为n，包括整数</div><div class=\"line\">exp, log, log10, log2, sqrt</div><div class=\"line\">max, min, prod, sum # prod 连乘</div><div class=\"line\">cummax, cummin, cumprod, cumsum, diff # cu开头的函数计算累计值 # diff计算间隔</div><div class=\"line\">pmax, pmin  # pmax(x,y,z) 返回x,y,z各列的最大值</div><div class=\"line\">range # 取出最大最小值</div><div class=\"line\">mean, median, cor, sd, var # cor 相关系数  sd 均方差Standard Deviation var 方差</div><div class=\"line\">rle # Run Length Encoding 连续变量统计</div><div class=\"line\"></div><div class=\"line\"># 处理函数的函数</div><div class=\"line\">function</div><div class=\"line\">missing</div><div class=\"line\">on.exit</div><div class=\"line\">return, invisible</div><div class=\"line\"></div><div class=\"line\"># 逻辑与集合</div><div class=\"line\">&amp;, |, !, xor  # &amp;, | 用于对保存逻辑值的向量进行运算运算，并按元素逐个进行</div><div class=\"line\">&amp;&amp;, || # &amp;&amp;, ||  &amp;&amp;并不用于在向量的元素之间的运算，它用于运算两个逻辑值</div><div class=\"line\">all, any</div><div class=\"line\">intersect, union, setdiff, setequal # union 求合集 intersect 求交集 setdiff 求差集 setequal 判断x和y是否相同</div><div class=\"line\">which # 用法which(test)。返回test为真值的位置 </div><div class=\"line\"></div><div class=\"line\"># 向量与矩阵</div><div class=\"line\">c, matrix</div><div class=\"line\"># 强制转换规则字符型(character)&gt;数值型(numeric)逻辑型(logical)</div><div class=\"line\">length, dim, ncol, nrow</div><div class=\"line\">cbind, rbind # rbind(x,y) # 按行合并指定数据</div><div class=\"line\">names, colnames, rownames # names 定义或返回向量c的元素名字</div><div class=\"line\">t # 求转置</div><div class=\"line\">diag</div><div class=\"line\">sweep</div><div class=\"line\">as.matrix, data.matrix</div><div class=\"line\"></div><div class=\"line\"># 构建向量</div><div class=\"line\">c</div><div class=\"line\">rep, rep_len # 保存重复向量值的向量 rep(x,times,each) x:保存重复的向量 times:整个向量重复的次数 each:每个元素重复的次数</div><div class=\"line\">seq, seq_len, seq_along # 连续数字组成的向量 seq 创建序列，seq(from, to, by) by是步长默认是1 seq_along(along.with) 根据along.with的长度n创建序列 seq_len(n) 根据n创建长度为n的序列</div><div class=\"line\">rev</div><div class=\"line\">sample</div><div class=\"line\">choose, factorial, combn</div><div class=\"line\">(is/as).(character/numeric/logical/...)</div><div class=\"line\"></div><div class=\"line\"># 列表和数据框</div><div class=\"line\">list, unlist  # unlist 将列表转换为向量 unlist(x,recursive=FALSE,use.names=TRUE)</div><div class=\"line\">data.frame, as.data.frame</div><div class=\"line\">split # 根据给定条件拆分数据 split(x,f) x:要拆分的向量或数据框 f:保存拆分基准的因子</div><div class=\"line\">expand.grid</div><div class=\"line\"></div><div class=\"line\"># 控制流</div><div class=\"line\">if, &amp;&amp;, || (short circuiting)</div><div class=\"line\">for, while</div><div class=\"line\">next, break</div><div class=\"line\">switch</div><div class=\"line\">ifelse # ifelse(test, yes, no) test为真，输出yes值，否则输出no值。</div><div class=\"line\"></div><div class=\"line\"># apply函数和相似函数</div><div class=\"line\">lapply, sapply, vapply </div><div class=\"line\">apply # 向数据或矩阵应用指定函数，然后奖结果值以向量、数组或列表的方式返回</div><div class=\"line\">tapply</div><div class=\"line\">replicate # replicate(n, f) # 对于函数f运行n次</div></pre></td></tr></table></figure>","more":"<h3 id=\"常见数据结构\"><a href=\"#常见数据结构\" class=\"headerlink\" title=\"常见数据结构\"></a>常见数据结构</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 日期时间</div><div class=\"line\">ISOdate, ISOdatetime, strftime, strptime, date </div><div class=\"line\">difftime # difftime(date1, date2) 返回时间差</div><div class=\"line\">julian, months, quarters, weekdays # weekdays(date) 返回星期几 # quarters() 返回季度 # moths() 返回月份 # julian(date) 返回date离19700101的天数</div><div class=\"line\">library(lubridate)</div><div class=\"line\"></div><div class=\"line\"># 字符处理</div><div class=\"line\">grep, agrep</div><div class=\"line\">gsub # 字符替换 gsub(pattern, replacement, x)</div><div class=\"line\">strsplit</div><div class=\"line\">chartr</div><div class=\"line\">nchar</div><div class=\"line\">tolower, toupper</div><div class=\"line\">substr</div><div class=\"line\">paste # paste(data1, data2, sep = &quot;world&quot;) 结果是data1和data2拼接中间以world连接，world是可以自己定义的</div><div class=\"line\">library(string)</div><div class=\"line\"></div><div class=\"line\"># 因子</div><div class=\"line\">factor, levels, nlevels</div><div class=\"line\">reorder, relevel</div><div class=\"line\">cut, findInterval</div><div class=\"line\">interaction</div><div class=\"line\">options(stringAsFactors = FALSE)</div><div class=\"line\"></div><div class=\"line\"># 数组处理</div><div class=\"line\">array</div><div class=\"line\">dim</div><div class=\"line\">dimnames</div><div class=\"line\">aperm</div><div class=\"line\">library(abind)</div></pre></td></tr></table></figure>\n<h3 id=\"统计函数\"><a href=\"#统计函数\" class=\"headerlink\" title=\"统计函数\"></a>统计函数</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 排序和制表</div><div class=\"line\">duplicated, unique  # unique 找出不同的元素</div><div class=\"line\">merge</div><div class=\"line\">order, rank, quantile</div><div class=\"line\">sort</div><div class=\"line\">table, ftable</div><div class=\"line\"></div><div class=\"line\"># 线性模型</div><div class=\"line\">fitted, predict, resid, restandard</div><div class=\"line\">lm, glm</div><div class=\"line\">hat, influence.measures</div><div class=\"line\">logLik, df, deviance</div><div class=\"line\">formula, ~, I</div><div class=\"line\">anova, coef, confint, vcov</div><div class=\"line\">contrasts</div><div class=\"line\"></div><div class=\"line\"># 测试类函数</div><div class=\"line\">apropos(&quot;\\\\.test$&quot;)</div><div class=\"line\"></div><div class=\"line\"># 随机变量</div><div class=\"line\">(q, p, d, r) * (beta, binom, cauchy, chisq, exp, f, gamma, geom, hyper, lnorm, logis, multinom, nbinom, norm, pois, signrank, t, unif, weibull, wilcox, birthday, tukey)</div><div class=\"line\"></div><div class=\"line\"># 矩阵运算</div><div class=\"line\">crossprod, tcrossprod</div><div class=\"line\">eigen, qr, svd</div><div class=\"line\">%*%, %o%, outer # a%*%b 求矩阵a和矩阵b的积</div><div class=\"line\">rcond</div><div class=\"line\">solve # solve(a,b) a矩阵，b向量或矩阵 求a%*%x=b的x，若不指定，则求a的逆矩阵</div></pre></td></tr></table></figure>\n<h3 id=\"使用R\"><a href=\"#使用R\" class=\"headerlink\" title=\"使用R\"></a>使用R</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 工作空间</div><div class=\"line\">ls, exists, rm # ls: 当前工作空间中的objects # exists 判断是否存在当前工作空间 # rm 删除工作空间中某个object</div><div class=\"line\">getwd, setwd # 返回当前工作空间 # 设置当前工作空间</div><div class=\"line\">q # 退出</div><div class=\"line\">source # &quot;预装&quot;函数,向R脚本导入其他函数并运行</div><div class=\"line\">install.packages, library, require </div><div class=\"line\"></div><div class=\"line\"># 帮助</div><div class=\"line\">help, ?</div><div class=\"line\">help.search</div><div class=\"line\">apropos</div><div class=\"line\">RSiteSearch</div><div class=\"line\">citation</div><div class=\"line\">demo</div><div class=\"line\">example</div><div class=\"line\">vignette</div><div class=\"line\"></div><div class=\"line\"># 调试</div><div class=\"line\">traceback</div><div class=\"line\">browser</div><div class=\"line\">recover</div><div class=\"line\">options(error = )</div><div class=\"line\">stop, warning, message</div><div class=\"line\">traCath, try</div></pre></td></tr></table></figure>\n<h3 id=\"I-O函数\"><a href=\"#I-O函数\" class=\"headerlink\" title=\"I/O函数\"></a>I/O函数</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 输出</div><div class=\"line\">print, cat</div><div class=\"line\">message, warning</div><div class=\"line\">dput</div><div class=\"line\">format</div><div class=\"line\">sink, capture.output</div><div class=\"line\"></div><div class=\"line\"># 读／写数据</div><div class=\"line\">data</div><div class=\"line\">count.fields</div><div class=\"line\">read.csv, write.csv</div><div class=\"line\">read.delim, write.delim </div><div class=\"line\">read.fwf </div><div class=\"line\">readLines, writeLines</div><div class=\"line\">readRDS, saveRDS</div><div class=\"line\">load, save </div><div class=\"line\">library(foreign)</div><div class=\"line\"></div><div class=\"line\"># 文件和目录</div><div class=\"line\">dir</div><div class=\"line\">basename, dirname, tools::file_ext</div><div class=\"line\">file.path</div><div class=\"line\">path.expand, normalizePath</div><div class=\"line\">file.choose</div><div class=\"line\">file.copy, file.create, file.remove, file.rename, dir.create</div><div class=\"line\">file.exists, file.info</div><div class=\"line\">tempdir, tempfile</div><div class=\"line\">download.file, library(downloader)</div></pre></td></tr></table></figure>\n<h2 id=\"查看帮助\"><a href=\"#查看帮助\" class=\"headerlink\" title=\"查看帮助\"></a>查看帮助</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">help 或 ? :调用帮助系统</div><div class=\"line\"></div><div class=\"line\">help.search 或 ??: 搜索包含指定字符串的文档</div><div class=\"line\"></div><div class=\"line\">example: 运行帮助页面中的Example部分</div><div class=\"line\"></div><div class=\"line\">help.start: 现实包含R系统帮助的html页面</div></pre></td></tr></table></figure>\n<h2 id=\"NA处理函数\"><a href=\"#NA处理函数\" class=\"headerlink\" title=\"NA处理函数\"></a>NA处理函数</h2><p>na.fail(object, …) # 若object中包含NA，则失败<br>na.omit(object, …) # 若object中包含NA，则排除<br>na.exlude(object, …) # 若object中包含NA，则排除，这与na.omit一样。但使用naresid napredeitct的函数中，通过NA排除的行再次添加到结果<br>na.pass(object, …) # 即使object含有NA值，也使之通过</p>\n<h2 id=\"参考文献\"><a href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"></a>参考文献</h2><p><a href=\"https://stackoverflow.com/questions/5595512/what-is-the-difference-between-require-and-library\">require和library</a><br>《R语言与数据分析》</p>"},{"title":"R工具包-RMySQL和数据处理和加工相关包","date":"2017-06-26T03:12:41.000Z","_content":"\n## 前言\nR要处理的数据保存在数据库中，应考虑R与MySQL之间的数据输入和输出问题，RMySQL包正是为了解决这些问题而推出的。\n\n## RMySQL\n### 安装\n```\ninstall.packages(\"RMySQL\")\nlibrary(RMySQL)\n```\n\n### MySQL函数\n```\nRMySQL::dbConnect : 连接数据库\nRMySQL::dbConnect(\n\tdrv,\n\tuser,\n\tpassword,\n\tdbname,\n\thost\n)\n返回连接对象\n```\n\n<!--more-->\n\n```\nRMySQL::dbListTables : 获取数据库中的数据表列表\nRMySQL::dbListTables(\n\tconn # 数据库连接\n)\n返回数据库中的列表\n```\n\n```\nRMySQL::dbGetQuery : 想数据库运行给定查询\nRMySQL::dbGetQuery(\n\tconn,\n\tstatment\n)\n```\n## 数据处理和加工相关包\n```\n包           |  用途\nsqldf        |  使用SQL处理数据\nplyr         |  拆分数据，对拆分的数据应用apply函数，合并结果\nreshape2     |  数据整理与汇总\ndata.table   |  代替R数据框更快的数据类型\nforeach      |  用途\ndoParaller   |  用途 \ntestthat     |  用途\n```\n\n## 参考资料\n[github](https://github.com/rstats-db/RMySQL)","source":"_posts/RpackgeRmysql.md","raw":"---\ntitle: R工具包-RMySQL和数据处理和加工相关包\ndate: 2017-06-26 11:12:41\ntags: [R, Mysql]\n---\n\n## 前言\nR要处理的数据保存在数据库中，应考虑R与MySQL之间的数据输入和输出问题，RMySQL包正是为了解决这些问题而推出的。\n\n## RMySQL\n### 安装\n```\ninstall.packages(\"RMySQL\")\nlibrary(RMySQL)\n```\n\n### MySQL函数\n```\nRMySQL::dbConnect : 连接数据库\nRMySQL::dbConnect(\n\tdrv,\n\tuser,\n\tpassword,\n\tdbname,\n\thost\n)\n返回连接对象\n```\n\n<!--more-->\n\n```\nRMySQL::dbListTables : 获取数据库中的数据表列表\nRMySQL::dbListTables(\n\tconn # 数据库连接\n)\n返回数据库中的列表\n```\n\n```\nRMySQL::dbGetQuery : 想数据库运行给定查询\nRMySQL::dbGetQuery(\n\tconn,\n\tstatment\n)\n```\n## 数据处理和加工相关包\n```\n包           |  用途\nsqldf        |  使用SQL处理数据\nplyr         |  拆分数据，对拆分的数据应用apply函数，合并结果\nreshape2     |  数据整理与汇总\ndata.table   |  代替R数据框更快的数据类型\nforeach      |  用途\ndoParaller   |  用途 \ntestthat     |  用途\n```\n\n## 参考资料\n[github](https://github.com/rstats-db/RMySQL)","slug":"RpackgeRmysql","published":1,"updated":"2017-06-26T03:34:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1uch0006ffcauwo5x57c","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>R要处理的数据保存在数据库中，应考虑R与MySQL之间的数据输入和输出问题，RMySQL包正是为了解决这些问题而推出的。</p>\n<h2 id=\"RMySQL\"><a href=\"#RMySQL\" class=\"headerlink\" title=\"RMySQL\"></a>RMySQL</h2><h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">install.packages(&quot;RMySQL&quot;)</div><div class=\"line\">library(RMySQL)</div></pre></td></tr></table></figure>\n<h3 id=\"MySQL函数\"><a href=\"#MySQL函数\" class=\"headerlink\" title=\"MySQL函数\"></a>MySQL函数</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">RMySQL::dbConnect : 连接数据库</div><div class=\"line\">RMySQL::dbConnect(</div><div class=\"line\">\tdrv,</div><div class=\"line\">\tuser,</div><div class=\"line\">\tpassword,</div><div class=\"line\">\tdbname,</div><div class=\"line\">\thost</div><div class=\"line\">)</div><div class=\"line\">返回连接对象</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">RMySQL::dbListTables : 获取数据库中的数据表列表</div><div class=\"line\">RMySQL::dbListTables(</div><div class=\"line\">\tconn # 数据库连接</div><div class=\"line\">)</div><div class=\"line\">返回数据库中的列表</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">RMySQL::dbGetQuery : 想数据库运行给定查询</div><div class=\"line\">RMySQL::dbGetQuery(</div><div class=\"line\">\tconn,</div><div class=\"line\">\tstatment</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"数据处理和加工相关包\"><a href=\"#数据处理和加工相关包\" class=\"headerlink\" title=\"数据处理和加工相关包\"></a>数据处理和加工相关包</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">包           |  用途</div><div class=\"line\">sqldf        |  使用SQL处理数据</div><div class=\"line\">plyr         |  拆分数据，对拆分的数据应用apply函数，合并结果</div><div class=\"line\">reshape2     |  数据整理与汇总</div><div class=\"line\">data.table   |  代替R数据框更快的数据类型</div><div class=\"line\">foreach      |  用途</div><div class=\"line\">doParaller   |  用途 </div><div class=\"line\">testthat     |  用途</div></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p><a href=\"https://github.com/rstats-db/RMySQL\" target=\"_blank\" rel=\"external\">github</a></p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>R要处理的数据保存在数据库中，应考虑R与MySQL之间的数据输入和输出问题，RMySQL包正是为了解决这些问题而推出的。</p>\n<h2 id=\"RMySQL\"><a href=\"#RMySQL\" class=\"headerlink\" title=\"RMySQL\"></a>RMySQL</h2><h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">install.packages(&quot;RMySQL&quot;)</div><div class=\"line\">library(RMySQL)</div></pre></td></tr></table></figure>\n<h3 id=\"MySQL函数\"><a href=\"#MySQL函数\" class=\"headerlink\" title=\"MySQL函数\"></a>MySQL函数</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">RMySQL::dbConnect : 连接数据库</div><div class=\"line\">RMySQL::dbConnect(</div><div class=\"line\">\tdrv,</div><div class=\"line\">\tuser,</div><div class=\"line\">\tpassword,</div><div class=\"line\">\tdbname,</div><div class=\"line\">\thost</div><div class=\"line\">)</div><div class=\"line\">返回连接对象</div></pre></td></tr></table></figure>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">RMySQL::dbListTables : 获取数据库中的数据表列表</div><div class=\"line\">RMySQL::dbListTables(</div><div class=\"line\">\tconn # 数据库连接</div><div class=\"line\">)</div><div class=\"line\">返回数据库中的列表</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">RMySQL::dbGetQuery : 想数据库运行给定查询</div><div class=\"line\">RMySQL::dbGetQuery(</div><div class=\"line\">\tconn,</div><div class=\"line\">\tstatment</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<h2 id=\"数据处理和加工相关包\"><a href=\"#数据处理和加工相关包\" class=\"headerlink\" title=\"数据处理和加工相关包\"></a>数据处理和加工相关包</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">包           |  用途</div><div class=\"line\">sqldf        |  使用SQL处理数据</div><div class=\"line\">plyr         |  拆分数据，对拆分的数据应用apply函数，合并结果</div><div class=\"line\">reshape2     |  数据整理与汇总</div><div class=\"line\">data.table   |  代替R数据框更快的数据类型</div><div class=\"line\">foreach      |  用途</div><div class=\"line\">doParaller   |  用途 </div><div class=\"line\">testthat     |  用途</div></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p><a href=\"https://github.com/rstats-db/RMySQL\">github</a></p>"},{"title":"R工具包-dplyr","date":"2017-06-21T15:12:32.000Z","_content":"\n# 前言\n项目中用到了几个R语言的包，顺道仔细学习下\n\n\n## 函数\nname\tDescription\nselect()\t选择列 # select(data, [-,start_with(), ends_with(),contains(),matches(),one_of()]olumn name, ...) \nfilter()\t行过滤 # filter(data, column name[>, <, >=, <=, !=, %in%] condition)\narrange()\t整理行 # arrange(order, sleep_total) 排序\nmutate()\t新建列 # mutate(rem_proportion = sleep_rem / sleep_total) \nsummarise()\t统计  # summarise(avg_sleep = mean(sleep_total))\ngroup_by()\t分组 # group_by(order)\n\n<!--more-->\n\n## 管道函数 %>%\n功能类似于Linux的管道|一样\n\n# 参考链接\n[plyr_tutorial](http://genomicsclass.github.io/book/pages/dplyr_tutorial.html)\n","source":"_posts/Rpackgedply.md","raw":"---\ntitle: R工具包-dplyr\ndate: 2017-06-21 23:12:32\ntags: [R, dplyr]\n---\n\n# 前言\n项目中用到了几个R语言的包，顺道仔细学习下\n\n\n## 函数\nname\tDescription\nselect()\t选择列 # select(data, [-,start_with(), ends_with(),contains(),matches(),one_of()]olumn name, ...) \nfilter()\t行过滤 # filter(data, column name[>, <, >=, <=, !=, %in%] condition)\narrange()\t整理行 # arrange(order, sleep_total) 排序\nmutate()\t新建列 # mutate(rem_proportion = sleep_rem / sleep_total) \nsummarise()\t统计  # summarise(avg_sleep = mean(sleep_total))\ngroup_by()\t分组 # group_by(order)\n\n<!--more-->\n\n## 管道函数 %>%\n功能类似于Linux的管道|一样\n\n# 参考链接\n[plyr_tutorial](http://genomicsclass.github.io/book/pages/dplyr_tutorial.html)\n","slug":"Rpackgedply","published":1,"updated":"2017-06-26T01:57:14.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucn0008ffcak2dzy3ru","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>项目中用到了几个R语言的包，顺道仔细学习下</p>\n<h2 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h2><p>name    Description<br>select()    选择列 # select(data, [-,start_with(), ends_with(),contains(),matches(),one_of()]olumn name, …)<br>filter()    行过滤 # filter(data, column name[&gt;, &lt;, &gt;=, &lt;=, !=, %in%] condition)<br>arrange()    整理行 # arrange(order, sleep_total) 排序<br>mutate()    新建列 # mutate(rem_proportion = sleep_rem / sleep_total)<br>summarise()    统计  # summarise(avg_sleep = mean(sleep_total))<br>group_by()    分组 # group_by(order)</p>\n<a id=\"more\"></a>\n<h2 id=\"管道函数-gt\"><a href=\"#管道函数-gt\" class=\"headerlink\" title=\"管道函数 %&gt;%\"></a>管道函数 %&gt;%</h2><p>功能类似于Linux的管道|一样</p>\n<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://genomicsclass.github.io/book/pages/dplyr_tutorial.html\" target=\"_blank\" rel=\"external\">plyr_tutorial</a></p>\n","excerpt":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>项目中用到了几个R语言的包，顺道仔细学习下</p>\n<h2 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h2><p>name    Description<br>select()    选择列 # select(data, [-,start_with(), ends_with(),contains(),matches(),one_of()]olumn name, …)<br>filter()    行过滤 # filter(data, column name[&gt;, &lt;, &gt;=, &lt;=, !=, %in%] condition)<br>arrange()    整理行 # arrange(order, sleep_total) 排序<br>mutate()    新建列 # mutate(rem_proportion = sleep_rem / sleep_total)<br>summarise()    统计  # summarise(avg_sleep = mean(sleep_total))<br>group_by()    分组 # group_by(order)</p>","more":"<h2 id=\"管道函数-gt\"><a href=\"#管道函数-gt\" class=\"headerlink\" title=\"管道函数 %&gt;%\"></a>管道函数 %&gt;%</h2><p>功能类似于Linux的管道|一样</p>\n<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://genomicsclass.github.io/book/pages/dplyr_tutorial.html\">plyr_tutorial</a></p>"},{"title":"R工具包-lubridate","date":"2017-06-22T05:51:02.000Z","_content":"\n## 前言\nR语言用到了对于时间的处理\n\n## 安装\n```\ninstall.packages(\"lubridate\")\nlibrary(\"lubridate\")\n```\n<!--more-->\n\n## API\nymd(), ymd_hms, dmy(), dmy_hms, mdy()\n这一类是用来简化string转date，\n这里再简单介绍下as_date，y代表2为年(16)，Y代表4位年(16)，m代表月份(12)，d表示日期(3)，b表示月份英文简写，B表示月份英文全称\n\nyear(), month(), mday(), hour(), minute() and second()\n通过以上api获取日期的年月日时分秒\n\nwith_tz(), force_tz()\n显示和改变时区\n\n## 参考链接\n[lubridate](https://github.com/tidyverse/lubridate)\n[Dates and Times in R](https://www.stat.berkeley.edu/~s133/dates.html)\n\n","source":"_posts/Rpackgelubridate.md","raw":"---\ntitle: R工具包-lubridate\ndate: 2017-06-22 13:51:02\ntags: [R, lubridate]\n---\n\n## 前言\nR语言用到了对于时间的处理\n\n## 安装\n```\ninstall.packages(\"lubridate\")\nlibrary(\"lubridate\")\n```\n<!--more-->\n\n## API\nymd(), ymd_hms, dmy(), dmy_hms, mdy()\n这一类是用来简化string转date，\n这里再简单介绍下as_date，y代表2为年(16)，Y代表4位年(16)，m代表月份(12)，d表示日期(3)，b表示月份英文简写，B表示月份英文全称\n\nyear(), month(), mday(), hour(), minute() and second()\n通过以上api获取日期的年月日时分秒\n\nwith_tz(), force_tz()\n显示和改变时区\n\n## 参考链接\n[lubridate](https://github.com/tidyverse/lubridate)\n[Dates and Times in R](https://www.stat.berkeley.edu/~s133/dates.html)\n\n","slug":"Rpackgelubridate","published":1,"updated":"2017-06-26T01:57:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucp000affcax18zgrj5","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>R语言用到了对于时间的处理</p>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">install.packages(&quot;lubridate&quot;)</div><div class=\"line\">library(&quot;lubridate&quot;)</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><p>ymd(), ymd_hms, dmy(), dmy_hms, mdy()<br>这一类是用来简化string转date，<br>这里再简单介绍下as_date，y代表2为年(16)，Y代表4位年(16)，m代表月份(12)，d表示日期(3)，b表示月份英文简写，B表示月份英文全称</p>\n<p>year(), month(), mday(), hour(), minute() and second()<br>通过以上api获取日期的年月日时分秒</p>\n<p>with_tz(), force_tz()<br>显示和改变时区</p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://github.com/tidyverse/lubridate\" target=\"_blank\" rel=\"external\">lubridate</a><br><a href=\"https://www.stat.berkeley.edu/~s133/dates.html\" target=\"_blank\" rel=\"external\">Dates and Times in R</a></p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>R语言用到了对于时间的处理</p>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">install.packages(&quot;lubridate&quot;)</div><div class=\"line\">library(&quot;lubridate&quot;)</div></pre></td></tr></table></figure>","more":"<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><p>ymd(), ymd_hms, dmy(), dmy_hms, mdy()<br>这一类是用来简化string转date，<br>这里再简单介绍下as_date，y代表2为年(16)，Y代表4位年(16)，m代表月份(12)，d表示日期(3)，b表示月份英文简写，B表示月份英文全称</p>\n<p>year(), month(), mday(), hour(), minute() and second()<br>通过以上api获取日期的年月日时分秒</p>\n<p>with_tz(), force_tz()<br>显示和改变时区</p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://github.com/tidyverse/lubridate\">lubridate</a><br><a href=\"https://www.stat.berkeley.edu/~s133/dates.html\">Dates and Times in R</a></p>"},{"title":"R工具包-pryr","date":"2017-06-23T01:52:49.000Z","_content":"\n## 前言\n今天学习R学习到了面向对象编程，以为自己对于面向对象应该是很了解了，但是发现里面有对歌面向对象系统，S3，S4，参考类，基础类型。不多说其他的，开始学习下pryr的使用，然后掌握这4个面向对象系统。\n\n## 介绍\npryr是一个深入了解R底层的一个包\n\n## API\n* 方便理解内部实现的API:\n\t* promises对象：\n\t* 环境和作用域：\n\t* 闭包：\n\t* 函数调用关系：\n\t* 基础类型：\n\t* 复制和修改：\n* 观察和理解R面向对象系统的API:\n\t* 判断对象属于哪个面向对象系统：otype()\n\t* 判断方法属于哪个面向对象系统：ftype()\n* 辅助编程的API*\n\t* 改变创建函数：make_function(), f()\n\t* 表达式替换：substitute_q(), subs()\n\t* 修改：modify_lang()\n\t* 匿名函数：partial()\n\t* 函数匹配：find_funs()\n* 代码简化工具：\n\t* 创建延迟或直接绑定：%<d-%, %<a-%\n\t* 创建常量：%<c-%\n\t* 重新绑定：rebind, <<-\n\n## 安装\n```\ninstall.packages(\"pryr\")\nlibrary(pryr)\n```\n\n## 参考链接\n[github](https://github.com/hadley/pryr)\n[博客](http://blog.fens.me/r-pryr/)","source":"_posts/Rpackgepryr.md","raw":"---\ntitle: R工具包-pryr\ndate: 2017-06-23 09:52:49\ntags: [R, pryr]\n---\n\n## 前言\n今天学习R学习到了面向对象编程，以为自己对于面向对象应该是很了解了，但是发现里面有对歌面向对象系统，S3，S4，参考类，基础类型。不多说其他的，开始学习下pryr的使用，然后掌握这4个面向对象系统。\n\n## 介绍\npryr是一个深入了解R底层的一个包\n\n## API\n* 方便理解内部实现的API:\n\t* promises对象：\n\t* 环境和作用域：\n\t* 闭包：\n\t* 函数调用关系：\n\t* 基础类型：\n\t* 复制和修改：\n* 观察和理解R面向对象系统的API:\n\t* 判断对象属于哪个面向对象系统：otype()\n\t* 判断方法属于哪个面向对象系统：ftype()\n* 辅助编程的API*\n\t* 改变创建函数：make_function(), f()\n\t* 表达式替换：substitute_q(), subs()\n\t* 修改：modify_lang()\n\t* 匿名函数：partial()\n\t* 函数匹配：find_funs()\n* 代码简化工具：\n\t* 创建延迟或直接绑定：%<d-%, %<a-%\n\t* 创建常量：%<c-%\n\t* 重新绑定：rebind, <<-\n\n## 安装\n```\ninstall.packages(\"pryr\")\nlibrary(pryr)\n```\n\n## 参考链接\n[github](https://github.com/hadley/pryr)\n[博客](http://blog.fens.me/r-pryr/)","slug":"Rpackgepryr","published":1,"updated":"2017-06-29T06:37:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucr000cffcav0hatx2m","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>今天学习R学习到了面向对象编程，以为自己对于面向对象应该是很了解了，但是发现里面有对歌面向对象系统，S3，S4，参考类，基础类型。不多说其他的，开始学习下pryr的使用，然后掌握这4个面向对象系统。</p>\n<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>pryr是一个深入了解R底层的一个包</p>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><ul>\n<li>方便理解内部实现的API:<ul>\n<li>promises对象：</li>\n<li>环境和作用域：</li>\n<li>闭包：</li>\n<li>函数调用关系：</li>\n<li>基础类型：</li>\n<li>复制和修改：</li>\n</ul>\n</li>\n<li>观察和理解R面向对象系统的API:<ul>\n<li>判断对象属于哪个面向对象系统：otype()</li>\n<li>判断方法属于哪个面向对象系统：ftype()</li>\n</ul>\n</li>\n<li>辅助编程的API*<ul>\n<li>改变创建函数：make_function(), f()</li>\n<li>表达式替换：substitute_q(), subs()</li>\n<li>修改：modify_lang()</li>\n<li>匿名函数：partial()</li>\n<li>函数匹配：find_funs()</li>\n</ul>\n</li>\n<li>代码简化工具：<ul>\n<li>创建延迟或直接绑定：%&lt;d-%, %&lt;a-%</li>\n<li>创建常量：%&lt;c-%</li>\n<li>重新绑定：rebind, &lt;&lt;-</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">install.packages(&quot;pryr&quot;)</div><div class=\"line\">library(pryr)</div></pre></td></tr></table></figure>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://github.com/hadley/pryr\" target=\"_blank\" rel=\"external\">github</a><br><a href=\"http://blog.fens.me/r-pryr/\" target=\"_blank\" rel=\"external\">博客</a></p>\n","excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>今天学习R学习到了面向对象编程，以为自己对于面向对象应该是很了解了，但是发现里面有对歌面向对象系统，S3，S4，参考类，基础类型。不多说其他的，开始学习下pryr的使用，然后掌握这4个面向对象系统。</p>\n<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>pryr是一个深入了解R底层的一个包</p>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><ul>\n<li>方便理解内部实现的API:<ul>\n<li>promises对象：</li>\n<li>环境和作用域：</li>\n<li>闭包：</li>\n<li>函数调用关系：</li>\n<li>基础类型：</li>\n<li>复制和修改：</li>\n</ul>\n</li>\n<li>观察和理解R面向对象系统的API:<ul>\n<li>判断对象属于哪个面向对象系统：otype()</li>\n<li>判断方法属于哪个面向对象系统：ftype()</li>\n</ul>\n</li>\n<li>辅助编程的API*<ul>\n<li>改变创建函数：make_function(), f()</li>\n<li>表达式替换：substitute_q(), subs()</li>\n<li>修改：modify_lang()</li>\n<li>匿名函数：partial()</li>\n<li>函数匹配：find_funs()</li>\n</ul>\n</li>\n<li>代码简化工具：<ul>\n<li>创建延迟或直接绑定：%&lt;d-%, %&lt;a-%</li>\n<li>创建常量：%&lt;c-%</li>\n<li>重新绑定：rebind, &lt;&lt;-</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">install.packages(&quot;pryr&quot;)</div><div class=\"line\">library(pryr)</div></pre></td></tr></table></figure>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://github.com/hadley/pryr\">github</a><br><a href=\"http://blog.fens.me/r-pryr/\">博客</a></p>\n"},{"title":"二叉查找树","date":"2017-03-02T10:46:02.000Z","_content":"\n## 前言\n本来是准备了解下HashMap特点的，最后又看到源码，然后就想知道底层原理是什么。发现又遇到了红黑树这个概念，以前一直有遇到，但是每次看了一点点就放弃了。有句话不是说：今生的是一个回首是因为上辈子500次插肩而过。我得到的结论就是如果想撩到自己喜欢的妹子，那就要多几次插肩而过，所以我决定和二叉查找树，多联络联络感情。😂😂😂\n\n## 特点：\n二叉查找树满足按序搜索的性质，即对于树中的每个节点X，所有在X左子树中的元素的键值都比X的键值小，所有在X右子树中元素的键值逗逼X的键值要大。\n\n## 操作\n* find：从根开始，根据比较的结果，走左分支或右分支\n* findMin操作时只要有左孩子就搜索左分支，findMax也是类似。 \n* remove操作时很困难的，因为非叶子结点奖树连接在一起，而我们不希望断开这棵树\n\t* 如果一个结点只有一个孩子，通过让它的父节点跳过它来删除它。\n\t* 删除一个具有两个孩子的节点，只要用它右子树中最小的项来代替它。然后删除原来的右子树的最小节点。\n\n\n## TreeMap\n特点：\n* 实现了red 实现了red-black树结构。\n* 查找、插入和删除的时间复杂度是 $log\\left ( n \\right )$。\n* TreeMap 对象这方面比BinSearchTree对象高级，与AVLTree对象不相上下。\n* 元素按照键的顺序存储。\n\n## 红黑树 （red-black-tree）\n\n## 参考书籍\n《数据结构和java集合框架》","source":"_posts/TreeMap.md","raw":"---\ntitle: 二叉查找树\ndate: 2017-03-02 18:46:02\ncategories: java                    #文章文类\ntags: [\"数据结构\", \"Tree\", \"java\", 算法]\n---\n\n## 前言\n本来是准备了解下HashMap特点的，最后又看到源码，然后就想知道底层原理是什么。发现又遇到了红黑树这个概念，以前一直有遇到，但是每次看了一点点就放弃了。有句话不是说：今生的是一个回首是因为上辈子500次插肩而过。我得到的结论就是如果想撩到自己喜欢的妹子，那就要多几次插肩而过，所以我决定和二叉查找树，多联络联络感情。😂😂😂\n\n## 特点：\n二叉查找树满足按序搜索的性质，即对于树中的每个节点X，所有在X左子树中的元素的键值都比X的键值小，所有在X右子树中元素的键值逗逼X的键值要大。\n\n## 操作\n* find：从根开始，根据比较的结果，走左分支或右分支\n* findMin操作时只要有左孩子就搜索左分支，findMax也是类似。 \n* remove操作时很困难的，因为非叶子结点奖树连接在一起，而我们不希望断开这棵树\n\t* 如果一个结点只有一个孩子，通过让它的父节点跳过它来删除它。\n\t* 删除一个具有两个孩子的节点，只要用它右子树中最小的项来代替它。然后删除原来的右子树的最小节点。\n\n\n## TreeMap\n特点：\n* 实现了red 实现了red-black树结构。\n* 查找、插入和删除的时间复杂度是 $log\\left ( n \\right )$。\n* TreeMap 对象这方面比BinSearchTree对象高级，与AVLTree对象不相上下。\n* 元素按照键的顺序存储。\n\n## 红黑树 （red-black-tree）\n\n## 参考书籍\n《数据结构和java集合框架》","slug":"TreeMap","published":1,"updated":"2017-03-07T12:23:12.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucs000dffca18r3j48z","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>本来是准备了解下HashMap特点的，最后又看到源码，然后就想知道底层原理是什么。发现又遇到了红黑树这个概念，以前一直有遇到，但是每次看了一点点就放弃了。有句话不是说：今生的是一个回首是因为上辈子500次插肩而过。我得到的结论就是如果想撩到自己喜欢的妹子，那就要多几次插肩而过，所以我决定和二叉查找树，多联络联络感情。😂😂😂</p>\n<h2 id=\"特点：\"><a href=\"#特点：\" class=\"headerlink\" title=\"特点：\"></a>特点：</h2><p>二叉查找树满足按序搜索的性质，即对于树中的每个节点X，所有在X左子树中的元素的键值都比X的键值小，所有在X右子树中元素的键值逗逼X的键值要大。</p>\n<h2 id=\"操作\"><a href=\"#操作\" class=\"headerlink\" title=\"操作\"></a>操作</h2><ul>\n<li>find：从根开始，根据比较的结果，走左分支或右分支</li>\n<li>findMin操作时只要有左孩子就搜索左分支，findMax也是类似。 </li>\n<li>remove操作时很困难的，因为非叶子结点奖树连接在一起，而我们不希望断开这棵树<ul>\n<li>如果一个结点只有一个孩子，通过让它的父节点跳过它来删除它。</li>\n<li>删除一个具有两个孩子的节点，只要用它右子树中最小的项来代替它。然后删除原来的右子树的最小节点。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"TreeMap\"><a href=\"#TreeMap\" class=\"headerlink\" title=\"TreeMap\"></a>TreeMap</h2><p>特点：</p>\n<ul>\n<li>实现了red 实现了red-black树结构。</li>\n<li>查找、插入和删除的时间复杂度是 $log\\left ( n \\right )$。</li>\n<li>TreeMap 对象这方面比BinSearchTree对象高级，与AVLTree对象不相上下。</li>\n<li>元素按照键的顺序存储。</li>\n</ul>\n<h2 id=\"红黑树-（red-black-tree）\"><a href=\"#红黑树-（red-black-tree）\" class=\"headerlink\" title=\"红黑树 （red-black-tree）\"></a>红黑树 （red-black-tree）</h2><h2 id=\"参考书籍\"><a href=\"#参考书籍\" class=\"headerlink\" title=\"参考书籍\"></a>参考书籍</h2><p>《数据结构和java集合框架》</p>\n","excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>本来是准备了解下HashMap特点的，最后又看到源码，然后就想知道底层原理是什么。发现又遇到了红黑树这个概念，以前一直有遇到，但是每次看了一点点就放弃了。有句话不是说：今生的是一个回首是因为上辈子500次插肩而过。我得到的结论就是如果想撩到自己喜欢的妹子，那就要多几次插肩而过，所以我决定和二叉查找树，多联络联络感情。😂😂😂</p>\n<h2 id=\"特点：\"><a href=\"#特点：\" class=\"headerlink\" title=\"特点：\"></a>特点：</h2><p>二叉查找树满足按序搜索的性质，即对于树中的每个节点X，所有在X左子树中的元素的键值都比X的键值小，所有在X右子树中元素的键值逗逼X的键值要大。</p>\n<h2 id=\"操作\"><a href=\"#操作\" class=\"headerlink\" title=\"操作\"></a>操作</h2><ul>\n<li>find：从根开始，根据比较的结果，走左分支或右分支</li>\n<li>findMin操作时只要有左孩子就搜索左分支，findMax也是类似。 </li>\n<li>remove操作时很困难的，因为非叶子结点奖树连接在一起，而我们不希望断开这棵树<ul>\n<li>如果一个结点只有一个孩子，通过让它的父节点跳过它来删除它。</li>\n<li>删除一个具有两个孩子的节点，只要用它右子树中最小的项来代替它。然后删除原来的右子树的最小节点。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"TreeMap\"><a href=\"#TreeMap\" class=\"headerlink\" title=\"TreeMap\"></a>TreeMap</h2><p>特点：</p>\n<ul>\n<li>实现了red 实现了red-black树结构。</li>\n<li>查找、插入和删除的时间复杂度是 $log\\left ( n \\right )$。</li>\n<li>TreeMap 对象这方面比BinSearchTree对象高级，与AVLTree对象不相上下。</li>\n<li>元素按照键的顺序存储。</li>\n</ul>\n<h2 id=\"红黑树-（red-black-tree）\"><a href=\"#红黑树-（red-black-tree）\" class=\"headerlink\" title=\"红黑树 （red-black-tree）\"></a>红黑树 （red-black-tree）</h2><h2 id=\"参考书籍\"><a href=\"#参考书籍\" class=\"headerlink\" title=\"参考书籍\"></a>参考书籍</h2><p>《数据结构和java集合框架》</p>\n"},{"title":"hexo 安装第一篇","date":"2017-01-12T15:23:41.000Z","_content":"\n### 第一步\n安装 node\n[node](https://nodejs.org/en/)\n\n### 第二步\n安装 git\n[git](https://git-scm.com/)\n\n### 第三部\n安装  hexo \n`$ npm install -g hexo-cli`\n\n<!-- more -->\n\n### 第四步\n创建hexo文件夹\n'hexo init'\n这里有一个坑的地方在于使用的使npm安装的初始theme的时候很慢，你耐心等待就好了\n\n### 第五步\n安装hexo依赖\n`npm install`\n\n### 第六步\n创建hexo文件夹所在目录执行\n`hexo g`\n`hexo s`\n可以在localhost：4000访问到页面\n这里有一个坑的地方是如果以上步骤都对的话，如果访问4000端口没有页面，那就你就是安装了福新阅读器，不要问我问什么知道\n执行`hexo s -p 5000`\n\n本地的介绍到这里\n\n---\n参考链接\n[hexo官网](https://hexo.io/zh-cn/docs/setup.html)\n[博客](http://blog.csdn.net/u012246342/article/details/51543370)","source":"_posts/creathexo.md","raw":"---\ntitle: \"hexo 安装第一篇\"           #可以随意修改,可以是中文\ncategories: blog                    #文章文类\ndate: 2017-01-12 23:23:41\ntags: [小章鱼, hexo]                 #文章tag标签,多个标签用逗号隔开\n---\n\n### 第一步\n安装 node\n[node](https://nodejs.org/en/)\n\n### 第二步\n安装 git\n[git](https://git-scm.com/)\n\n### 第三部\n安装  hexo \n`$ npm install -g hexo-cli`\n\n<!-- more -->\n\n### 第四步\n创建hexo文件夹\n'hexo init'\n这里有一个坑的地方在于使用的使npm安装的初始theme的时候很慢，你耐心等待就好了\n\n### 第五步\n安装hexo依赖\n`npm install`\n\n### 第六步\n创建hexo文件夹所在目录执行\n`hexo g`\n`hexo s`\n可以在localhost：4000访问到页面\n这里有一个坑的地方是如果以上步骤都对的话，如果访问4000端口没有页面，那就你就是安装了福新阅读器，不要问我问什么知道\n执行`hexo s -p 5000`\n\n本地的介绍到这里\n\n---\n参考链接\n[hexo官网](https://hexo.io/zh-cn/docs/setup.html)\n[博客](http://blog.csdn.net/u012246342/article/details/51543370)","slug":"creathexo","published":1,"updated":"2017-02-21T15:01:27.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucu000fffcaghdimraq","content":"<h3 id=\"第一步\"><a href=\"#第一步\" class=\"headerlink\" title=\"第一步\"></a>第一步</h3><p>安装 node<br><a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"external\">node</a></p>\n<h3 id=\"第二步\"><a href=\"#第二步\" class=\"headerlink\" title=\"第二步\"></a>第二步</h3><p>安装 git<br><a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"external\">git</a></p>\n<h3 id=\"第三部\"><a href=\"#第三部\" class=\"headerlink\" title=\"第三部\"></a>第三部</h3><p>安装  hexo<br><code>$ npm install -g hexo-cli</code></p>\n<a id=\"more\"></a>\n<h3 id=\"第四步\"><a href=\"#第四步\" class=\"headerlink\" title=\"第四步\"></a>第四步</h3><p>创建hexo文件夹<br>‘hexo init’<br>这里有一个坑的地方在于使用的使npm安装的初始theme的时候很慢，你耐心等待就好了</p>\n<h3 id=\"第五步\"><a href=\"#第五步\" class=\"headerlink\" title=\"第五步\"></a>第五步</h3><p>安装hexo依赖<br><code>npm install</code></p>\n<h3 id=\"第六步\"><a href=\"#第六步\" class=\"headerlink\" title=\"第六步\"></a>第六步</h3><p>创建hexo文件夹所在目录执行<br><code>hexo g</code><br><code>hexo s</code><br>可以在localhost：4000访问到页面<br>这里有一个坑的地方是如果以上步骤都对的话，如果访问4000端口没有页面，那就你就是安装了福新阅读器，不要问我问什么知道<br>执行<code>hexo s -p 5000</code></p>\n<p>本地的介绍到这里</p>\n<hr>\n<p>参考链接<br><a href=\"https://hexo.io/zh-cn/docs/setup.html\" target=\"_blank\" rel=\"external\">hexo官网</a><br><a href=\"http://blog.csdn.net/u012246342/article/details/51543370\" target=\"_blank\" rel=\"external\">博客</a></p>\n","excerpt":"<h3 id=\"第一步\"><a href=\"#第一步\" class=\"headerlink\" title=\"第一步\"></a>第一步</h3><p>安装 node<br><a href=\"https://nodejs.org/en/\">node</a></p>\n<h3 id=\"第二步\"><a href=\"#第二步\" class=\"headerlink\" title=\"第二步\"></a>第二步</h3><p>安装 git<br><a href=\"https://git-scm.com/\">git</a></p>\n<h3 id=\"第三部\"><a href=\"#第三部\" class=\"headerlink\" title=\"第三部\"></a>第三部</h3><p>安装  hexo<br><code>$ npm install -g hexo-cli</code></p>","more":"<h3 id=\"第四步\"><a href=\"#第四步\" class=\"headerlink\" title=\"第四步\"></a>第四步</h3><p>创建hexo文件夹<br>‘hexo init’<br>这里有一个坑的地方在于使用的使npm安装的初始theme的时候很慢，你耐心等待就好了</p>\n<h3 id=\"第五步\"><a href=\"#第五步\" class=\"headerlink\" title=\"第五步\"></a>第五步</h3><p>安装hexo依赖<br><code>npm install</code></p>\n<h3 id=\"第六步\"><a href=\"#第六步\" class=\"headerlink\" title=\"第六步\"></a>第六步</h3><p>创建hexo文件夹所在目录执行<br><code>hexo g</code><br><code>hexo s</code><br>可以在localhost：4000访问到页面<br>这里有一个坑的地方是如果以上步骤都对的话，如果访问4000端口没有页面，那就你就是安装了福新阅读器，不要问我问什么知道<br>执行<code>hexo s -p 5000</code></p>\n<p>本地的介绍到这里</p>\n<hr>\n<p>参考链接<br><a href=\"https://hexo.io/zh-cn/docs/setup.html\">hexo官网</a><br><a href=\"http://blog.csdn.net/u012246342/article/details/51543370\">博客</a></p>"},{"title":"协同过滤","date":"2017-06-06T13:50:11.000Z","_content":"\n## 前言\n最近在实习数据挖掘的工作，但是做的事情就是将oracle的存储过程改成spark sql，这里坦白下我的Scala还在学习的路上。但是我的学习习惯是刨根问底，数据挖掘最终用到的算法才是最终吸引我的。而且最近真的喜欢用网易云听歌，一边听着JBL中放着的歌，一边看着算法，想象自己喝着红酒🍷。所以今天看看推荐算法是如何实现的。\n\n## 协同过滤 collaborative filtering\n之所以称为“协同”是因为该方法基于其他用户进行推荐。实际上，人们通过协同合作来形成推荐。其工作流程如下：假设要完成的任务是推荐一本书。那么会在网站上搜索与你兴趣类似的其他用户。一旦找到这个用户，就看看这个用户所喜欢的书然后将它们推荐给你。\n找到相似用户的方法一般是通过距离。\n距离一般化：明氏距离（Minkowski Distance）\n$$b(x,y)=(\\sum\\_{k=1}^{n} |x\\_{k}-y\\_{k}|)^{r^{1/r}}$$\n其中：\n* r=1时，上述公式计算的就是曼哈顿距离\n* r=2时，上述公式计算的就是欧式距离\n* r=3时，上述公式计算的是上确界距离\n\n缺点：r越到，某一维较大差异对最终差值的影响越大。\n\n曼哈顿距离函数\n```\ndef manhattan(rating1, rating2):\n    \"\"\"Computes the Manhattan distance. Both rating1 and rating2 are dictionaries\n       of the form {'The Strokes': 3.0, 'Slightly Stoopid': 2.5}\"\"\"\n    distance = 0\n    commonRatings = False \n    for key in rating1:\n        if key in rating2:\n            distance += abs(rating1[key] - rating2[key])\n            commonRatings = True\n    if commonRatings:\n        return distance\n    else:\n        return -1 #Indicates no ratings in common\n```\n\npearson 相关系数\n```\ndef pearson(self, rating1, rating2):\n        sum_xy = 0\n        sum_x = 0\n        sum_y = 0\n        sum_x2 = 0\n        sum_y2 = 0\n        n = 0\n        for key in rating1:\n            if key in rating2:\n                n += 1\n                x = rating1[key]\n                y = rating2[key]\n                sum_xy += x * y\n                sum_x += x\n                sum_y += y\n                sum_x2 += pow(x, 2)\n                sum_y2 += pow(y, 2)\n        if n == 0:\n            return 0\n        # now compute denominator\n        denominator = (sqrt(sum_x2 - pow(sum_x, 2) / n)\n                       * sqrt(sum_y2 - pow(sum_y, 2) / n))\n        if denominator == 0:\n            return 0\n        else:\n            return (sum_xy - (sum_x * sum_y) / n) / denominator\n```\n\n余弦相似度\n```\ndef dot_product(v1, v2):\n    return sum(a * b for a, b in zip(v1, v2))\ndef similarity(v1, v2):\n    return dot_product(v1, v2) / (magnitude(v1) * magnitude(v2) + .00000000001)\n```\n\n相似度选择：\n* 如果数据受到分数贬值（即不同用户使用不同的评价范围）的时候，使用皮尔逊系数\n* 如果数据稠密（几乎所有都没有零值）且属性值大小十分重要，那么可以使用欧氏距离或者曼哈顿距离\n* 如果数据稀疏，考虑使用余弦相似度\n\n<!-- more -->\n\n## 参考书籍和链接\n《写给程序员的数据挖掘》\n[书籍](http://guidetodatamining.com/)\n[博客](http://www.cnblogs.com/luchen927/archive/2012/02/01/2325360.html)\n[知乎](https://www.zhihu.com/question/19971859)\n\n## 每文音乐推荐\n评论：\n草莓味的咸鱼：顾城有一首叫作《避免》的诗\n“你不愿意种花\n你说：\n'我不愿看见它\n一点点凋落'\n是的\n为了避免结束\n你避免了一切开始”\n觉得和塞林格的《破碎故事之心》异曲同工之秒\nis a touch and yet not a touch\n想触碰却又收回手\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=36307219&auto=1&height=66\"></iframe>","source":"_posts/collaborativeFiltering.md","raw":"---\ntitle: 协同过滤\ndate: 2017-06-06 21:50:11\ntags: [数据挖掘, 算法]\n---\n\n## 前言\n最近在实习数据挖掘的工作，但是做的事情就是将oracle的存储过程改成spark sql，这里坦白下我的Scala还在学习的路上。但是我的学习习惯是刨根问底，数据挖掘最终用到的算法才是最终吸引我的。而且最近真的喜欢用网易云听歌，一边听着JBL中放着的歌，一边看着算法，想象自己喝着红酒🍷。所以今天看看推荐算法是如何实现的。\n\n## 协同过滤 collaborative filtering\n之所以称为“协同”是因为该方法基于其他用户进行推荐。实际上，人们通过协同合作来形成推荐。其工作流程如下：假设要完成的任务是推荐一本书。那么会在网站上搜索与你兴趣类似的其他用户。一旦找到这个用户，就看看这个用户所喜欢的书然后将它们推荐给你。\n找到相似用户的方法一般是通过距离。\n距离一般化：明氏距离（Minkowski Distance）\n$$b(x,y)=(\\sum\\_{k=1}^{n} |x\\_{k}-y\\_{k}|)^{r^{1/r}}$$\n其中：\n* r=1时，上述公式计算的就是曼哈顿距离\n* r=2时，上述公式计算的就是欧式距离\n* r=3时，上述公式计算的是上确界距离\n\n缺点：r越到，某一维较大差异对最终差值的影响越大。\n\n曼哈顿距离函数\n```\ndef manhattan(rating1, rating2):\n    \"\"\"Computes the Manhattan distance. Both rating1 and rating2 are dictionaries\n       of the form {'The Strokes': 3.0, 'Slightly Stoopid': 2.5}\"\"\"\n    distance = 0\n    commonRatings = False \n    for key in rating1:\n        if key in rating2:\n            distance += abs(rating1[key] - rating2[key])\n            commonRatings = True\n    if commonRatings:\n        return distance\n    else:\n        return -1 #Indicates no ratings in common\n```\n\npearson 相关系数\n```\ndef pearson(self, rating1, rating2):\n        sum_xy = 0\n        sum_x = 0\n        sum_y = 0\n        sum_x2 = 0\n        sum_y2 = 0\n        n = 0\n        for key in rating1:\n            if key in rating2:\n                n += 1\n                x = rating1[key]\n                y = rating2[key]\n                sum_xy += x * y\n                sum_x += x\n                sum_y += y\n                sum_x2 += pow(x, 2)\n                sum_y2 += pow(y, 2)\n        if n == 0:\n            return 0\n        # now compute denominator\n        denominator = (sqrt(sum_x2 - pow(sum_x, 2) / n)\n                       * sqrt(sum_y2 - pow(sum_y, 2) / n))\n        if denominator == 0:\n            return 0\n        else:\n            return (sum_xy - (sum_x * sum_y) / n) / denominator\n```\n\n余弦相似度\n```\ndef dot_product(v1, v2):\n    return sum(a * b for a, b in zip(v1, v2))\ndef similarity(v1, v2):\n    return dot_product(v1, v2) / (magnitude(v1) * magnitude(v2) + .00000000001)\n```\n\n相似度选择：\n* 如果数据受到分数贬值（即不同用户使用不同的评价范围）的时候，使用皮尔逊系数\n* 如果数据稠密（几乎所有都没有零值）且属性值大小十分重要，那么可以使用欧氏距离或者曼哈顿距离\n* 如果数据稀疏，考虑使用余弦相似度\n\n<!-- more -->\n\n## 参考书籍和链接\n《写给程序员的数据挖掘》\n[书籍](http://guidetodatamining.com/)\n[博客](http://www.cnblogs.com/luchen927/archive/2012/02/01/2325360.html)\n[知乎](https://www.zhihu.com/question/19971859)\n\n## 每文音乐推荐\n评论：\n草莓味的咸鱼：顾城有一首叫作《避免》的诗\n“你不愿意种花\n你说：\n'我不愿看见它\n一点点凋落'\n是的\n为了避免结束\n你避免了一切开始”\n觉得和塞林格的《破碎故事之心》异曲同工之秒\nis a touch and yet not a touch\n想触碰却又收回手\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=36307219&auto=1&height=66\"></iframe>","slug":"collaborativeFiltering","published":1,"updated":"2017-06-07T13:35:20.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucw000iffcaocmo3vok","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在实习数据挖掘的工作，但是做的事情就是将oracle的存储过程改成spark sql，这里坦白下我的Scala还在学习的路上。但是我的学习习惯是刨根问底，数据挖掘最终用到的算法才是最终吸引我的。而且最近真的喜欢用网易云听歌，一边听着JBL中放着的歌，一边看着算法，想象自己喝着红酒🍷。所以今天看看推荐算法是如何实现的。</p>\n<h2 id=\"协同过滤-collaborative-filtering\"><a href=\"#协同过滤-collaborative-filtering\" class=\"headerlink\" title=\"协同过滤 collaborative filtering\"></a>协同过滤 collaborative filtering</h2><p>之所以称为“协同”是因为该方法基于其他用户进行推荐。实际上，人们通过协同合作来形成推荐。其工作流程如下：假设要完成的任务是推荐一本书。那么会在网站上搜索与你兴趣类似的其他用户。一旦找到这个用户，就看看这个用户所喜欢的书然后将它们推荐给你。<br>找到相似用户的方法一般是通过距离。<br>距离一般化：明氏距离（Minkowski Distance）<br>$$b(x,y)=(\\sum_{k=1}^{n} |x_{k}-y_{k}|)^{r^{1/r}}$$<br>其中：</p>\n<ul>\n<li>r=1时，上述公式计算的就是曼哈顿距离</li>\n<li>r=2时，上述公式计算的就是欧式距离</li>\n<li>r=3时，上述公式计算的是上确界距离</li>\n</ul>\n<p>缺点：r越到，某一维较大差异对最终差值的影响越大。</p>\n<p>曼哈顿距离函数<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">def manhattan(rating1, rating2):</div><div class=\"line\">    &quot;&quot;&quot;Computes the Manhattan distance. Both rating1 and rating2 are dictionaries</div><div class=\"line\">       of the form &#123;&apos;The Strokes&apos;: 3.0, &apos;Slightly Stoopid&apos;: 2.5&#125;&quot;&quot;&quot;</div><div class=\"line\">    distance = 0</div><div class=\"line\">    commonRatings = False </div><div class=\"line\">    for key in rating1:</div><div class=\"line\">        if key in rating2:</div><div class=\"line\">            distance += abs(rating1[key] - rating2[key])</div><div class=\"line\">            commonRatings = True</div><div class=\"line\">    if commonRatings:</div><div class=\"line\">        return distance</div><div class=\"line\">    else:</div><div class=\"line\">        return -1 #Indicates no ratings in common</div></pre></td></tr></table></figure></p>\n<p>pearson 相关系数<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">def pearson(self, rating1, rating2):</div><div class=\"line\">        sum_xy = 0</div><div class=\"line\">        sum_x = 0</div><div class=\"line\">        sum_y = 0</div><div class=\"line\">        sum_x2 = 0</div><div class=\"line\">        sum_y2 = 0</div><div class=\"line\">        n = 0</div><div class=\"line\">        for key in rating1:</div><div class=\"line\">            if key in rating2:</div><div class=\"line\">                n += 1</div><div class=\"line\">                x = rating1[key]</div><div class=\"line\">                y = rating2[key]</div><div class=\"line\">                sum_xy += x * y</div><div class=\"line\">                sum_x += x</div><div class=\"line\">                sum_y += y</div><div class=\"line\">                sum_x2 += pow(x, 2)</div><div class=\"line\">                sum_y2 += pow(y, 2)</div><div class=\"line\">        if n == 0:</div><div class=\"line\">            return 0</div><div class=\"line\">        # now compute denominator</div><div class=\"line\">        denominator = (sqrt(sum_x2 - pow(sum_x, 2) / n)</div><div class=\"line\">                       * sqrt(sum_y2 - pow(sum_y, 2) / n))</div><div class=\"line\">        if denominator == 0:</div><div class=\"line\">            return 0</div><div class=\"line\">        else:</div><div class=\"line\">            return (sum_xy - (sum_x * sum_y) / n) / denominator</div></pre></td></tr></table></figure></p>\n<p>余弦相似度<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">def dot_product(v1, v2):</div><div class=\"line\">    return sum(a * b for a, b in zip(v1, v2))</div><div class=\"line\">def similarity(v1, v2):</div><div class=\"line\">    return dot_product(v1, v2) / (magnitude(v1) * magnitude(v2) + .00000000001)</div></pre></td></tr></table></figure></p>\n<p>相似度选择：</p>\n<ul>\n<li>如果数据受到分数贬值（即不同用户使用不同的评价范围）的时候，使用皮尔逊系数</li>\n<li>如果数据稠密（几乎所有都没有零值）且属性值大小十分重要，那么可以使用欧氏距离或者曼哈顿距离</li>\n<li>如果数据稀疏，考虑使用余弦相似度</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《写给程序员的数据挖掘》<br><a href=\"http://guidetodatamining.com/\" target=\"_blank\" rel=\"external\">书籍</a><br><a href=\"http://www.cnblogs.com/luchen927/archive/2012/02/01/2325360.html\" target=\"_blank\" rel=\"external\">博客</a><br><a href=\"https://www.zhihu.com/question/19971859\" target=\"_blank\" rel=\"external\">知乎</a></p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>评论：<br>草莓味的咸鱼：顾城有一首叫作《避免》的诗<br>“你不愿意种花<br>你说：<br>‘我不愿看见它<br>一点点凋落’<br>是的<br>为了避免结束<br>你避免了一切开始”<br>觉得和塞林格的《破碎故事之心》异曲同工之秒<br>is a touch and yet not a touch<br>想触碰却又收回手</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=36307219&auto=1&height=66\"></iframe>","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在实习数据挖掘的工作，但是做的事情就是将oracle的存储过程改成spark sql，这里坦白下我的Scala还在学习的路上。但是我的学习习惯是刨根问底，数据挖掘最终用到的算法才是最终吸引我的。而且最近真的喜欢用网易云听歌，一边听着JBL中放着的歌，一边看着算法，想象自己喝着红酒🍷。所以今天看看推荐算法是如何实现的。</p>\n<h2 id=\"协同过滤-collaborative-filtering\"><a href=\"#协同过滤-collaborative-filtering\" class=\"headerlink\" title=\"协同过滤 collaborative filtering\"></a>协同过滤 collaborative filtering</h2><p>之所以称为“协同”是因为该方法基于其他用户进行推荐。实际上，人们通过协同合作来形成推荐。其工作流程如下：假设要完成的任务是推荐一本书。那么会在网站上搜索与你兴趣类似的其他用户。一旦找到这个用户，就看看这个用户所喜欢的书然后将它们推荐给你。<br>找到相似用户的方法一般是通过距离。<br>距离一般化：明氏距离（Minkowski Distance）<br>$$b(x,y)=(\\sum_{k=1}^{n} |x_{k}-y_{k}|)^{r^{1/r}}$$<br>其中：</p>\n<ul>\n<li>r=1时，上述公式计算的就是曼哈顿距离</li>\n<li>r=2时，上述公式计算的就是欧式距离</li>\n<li>r=3时，上述公式计算的是上确界距离</li>\n</ul>\n<p>缺点：r越到，某一维较大差异对最终差值的影响越大。</p>\n<p>曼哈顿距离函数<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">def manhattan(rating1, rating2):</div><div class=\"line\">    &quot;&quot;&quot;Computes the Manhattan distance. Both rating1 and rating2 are dictionaries</div><div class=\"line\">       of the form &#123;&apos;The Strokes&apos;: 3.0, &apos;Slightly Stoopid&apos;: 2.5&#125;&quot;&quot;&quot;</div><div class=\"line\">    distance = 0</div><div class=\"line\">    commonRatings = False </div><div class=\"line\">    for key in rating1:</div><div class=\"line\">        if key in rating2:</div><div class=\"line\">            distance += abs(rating1[key] - rating2[key])</div><div class=\"line\">            commonRatings = True</div><div class=\"line\">    if commonRatings:</div><div class=\"line\">        return distance</div><div class=\"line\">    else:</div><div class=\"line\">        return -1 #Indicates no ratings in common</div></pre></td></tr></table></figure></p>\n<p>pearson 相关系数<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">def pearson(self, rating1, rating2):</div><div class=\"line\">        sum_xy = 0</div><div class=\"line\">        sum_x = 0</div><div class=\"line\">        sum_y = 0</div><div class=\"line\">        sum_x2 = 0</div><div class=\"line\">        sum_y2 = 0</div><div class=\"line\">        n = 0</div><div class=\"line\">        for key in rating1:</div><div class=\"line\">            if key in rating2:</div><div class=\"line\">                n += 1</div><div class=\"line\">                x = rating1[key]</div><div class=\"line\">                y = rating2[key]</div><div class=\"line\">                sum_xy += x * y</div><div class=\"line\">                sum_x += x</div><div class=\"line\">                sum_y += y</div><div class=\"line\">                sum_x2 += pow(x, 2)</div><div class=\"line\">                sum_y2 += pow(y, 2)</div><div class=\"line\">        if n == 0:</div><div class=\"line\">            return 0</div><div class=\"line\">        # now compute denominator</div><div class=\"line\">        denominator = (sqrt(sum_x2 - pow(sum_x, 2) / n)</div><div class=\"line\">                       * sqrt(sum_y2 - pow(sum_y, 2) / n))</div><div class=\"line\">        if denominator == 0:</div><div class=\"line\">            return 0</div><div class=\"line\">        else:</div><div class=\"line\">            return (sum_xy - (sum_x * sum_y) / n) / denominator</div></pre></td></tr></table></figure></p>\n<p>余弦相似度<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">def dot_product(v1, v2):</div><div class=\"line\">    return sum(a * b for a, b in zip(v1, v2))</div><div class=\"line\">def similarity(v1, v2):</div><div class=\"line\">    return dot_product(v1, v2) / (magnitude(v1) * magnitude(v2) + .00000000001)</div></pre></td></tr></table></figure></p>\n<p>相似度选择：</p>\n<ul>\n<li>如果数据受到分数贬值（即不同用户使用不同的评价范围）的时候，使用皮尔逊系数</li>\n<li>如果数据稠密（几乎所有都没有零值）且属性值大小十分重要，那么可以使用欧氏距离或者曼哈顿距离</li>\n<li>如果数据稀疏，考虑使用余弦相似度</li>\n</ul>","more":"<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《写给程序员的数据挖掘》<br><a href=\"http://guidetodatamining.com/\">书籍</a><br><a href=\"http://www.cnblogs.com/luchen927/archive/2012/02/01/2325360.html\">博客</a><br><a href=\"https://www.zhihu.com/question/19971859\">知乎</a></p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>评论：<br>草莓味的咸鱼：顾城有一首叫作《避免》的诗<br>“你不愿意种花<br>你说：<br>‘我不愿看见它<br>一点点凋落’<br>是的<br>为了避免结束<br>你避免了一切开始”<br>觉得和塞林格的《破碎故事之心》异曲同工之秒<br>is a touch and yet not a touch<br>想触碰却又收回手</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=36307219&auto=1&height=66\"></iframe>"},{"title":"开发中的bug","date":"2017-02-22T05:40:48.000Z","_content":"\n问题：解决maven 更新慢的问题\n系统：Mac\n解决方向：使用阿里镜像\n方法：\n1. cd /usr/local/Cellar/maven/3.3.9/libexec/conf(brew install maven 的路径)\n2. subl setting.xml (subl 在这里是使用sublime text 打开 文件 open -a )\n3. 将下面代码替换setting.xml中的 mirrors\t\n```\n<mirrors>\n  <!-- mirror\n   | Specifies a repository mirror site to use instead of a given repository. The repository that\n   | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n   | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n   |\n  <mirror>\n    <id>mirrorId</id>\n    <mirrorOf>repositoryId</mirrorOf>\n    <name>Human Readable Name for this Mirror.</name>\n    <url>http://my.repository.com/repo/path</url>\n  </mirror>\n   -->\n  <mirror>\n    <id>alimaven</id>\n    <name>aliyun maven</name>\n    <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n    <mirrorOf>central</mirrorOf>       \n  </mirror>\n</mirrors>\n```\n\n<!--more-->\n\n## matlab \n语法：imshow ( f, G) \n      imshow (f, [low high])\n      imshow (f, [ ])\n说明：G是显示该图像的灰度级数；\n      小于或等于low的值都显示为黑色，大于或等于high的值都显示为白色。\n          [ ]自动将变量low设置为f的最小值，将high设置为f的最大值。\n\n## idea 技巧\n快速生成\n```\npublic static void main(Sting[] agrs) {\n  \n}\n```\n解决方法：在idea中输入psvm，然后按tab就可以自动生成\n\n快速生成\n```\nSystem.out.println();\n```\n解决方法：在idea中输入sout，然后按tab就可以自动生成\n\n快速生成构造函数\n```\nclass Dog {\n    String name;\n    String says;\n   <!--  public Dog(String name, String says) {\n        this.name = name;\n        this.says = says;\n        这里被注释掉的是构造函数，如果快速生产\n    } --> \n}\n```\n解决方法： 在idea中选择code->generator 或者直接按下control+n（Mac环境下）\n\n## 参考链接\n[blog1](http://www.cnblogs.com/sword-successful/p/6408281.html)\n<!-- more -->\n## hexo 中写数学公式 Latex\n\nps:今天本来是准备动手看算法方面的东西，然后准备使用hexo看下数学公式怎么显示。然后就出现问题了，显示的时候会出现很多莫名的问题。重要的是我都没有数学编辑器，😂话说论文也要写了啊。所以开始找个好一点的数学编辑器，然后在b呼中找到了。那么问题来了，是时候写一篇练习Latex的文档了。\n\n[submlim + Latex](https://www.zhihu.com/question/23918126/answer/29977055)\n[b呼推荐](https://www.zhihu.com/question/20928639)\n[解决方法](http://draveness.me/hexozhong-latexde-shi-yong/)：就是把主题中的配置文件中的 mathjax: true 设置为true\n\n## 一些小概念\n语法糖(Syntactic sugar)：是由Peter J. Landin(和图灵一样的天才人物，是他最先发现了Lambda演算，由此而创立了函数式编程)创造的一个词语，它意指那些没有给计算机语言添加新功能，而只是对人类来说更“甜蜜”的语法。\n\nbrew 和 brew cask\nbrew是从下载源码解压然后./configure && make install,同时会包含相关依赖库。并自动配置好各种环境变量，而且易于卸载。\n\nbrew cask 是已经编译好的应用包，仅仅是下载解压，放在统一的目录中（/opt/homebrew-cask/Caskroo,），省掉了自己去下载 解压 安装步骤。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=27731391&auto=1&height=66\"></iframe>","source":"_posts/bug.md","raw":"---\ntitle: 开发中的bug\ncategories: bug\ndate: 2017-02-22 13:40:48\ntags: [bug, 小章鱼, hexo]\n---\n\n问题：解决maven 更新慢的问题\n系统：Mac\n解决方向：使用阿里镜像\n方法：\n1. cd /usr/local/Cellar/maven/3.3.9/libexec/conf(brew install maven 的路径)\n2. subl setting.xml (subl 在这里是使用sublime text 打开 文件 open -a )\n3. 将下面代码替换setting.xml中的 mirrors\t\n```\n<mirrors>\n  <!-- mirror\n   | Specifies a repository mirror site to use instead of a given repository. The repository that\n   | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n   | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n   |\n  <mirror>\n    <id>mirrorId</id>\n    <mirrorOf>repositoryId</mirrorOf>\n    <name>Human Readable Name for this Mirror.</name>\n    <url>http://my.repository.com/repo/path</url>\n  </mirror>\n   -->\n  <mirror>\n    <id>alimaven</id>\n    <name>aliyun maven</name>\n    <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n    <mirrorOf>central</mirrorOf>       \n  </mirror>\n</mirrors>\n```\n\n<!--more-->\n\n## matlab \n语法：imshow ( f, G) \n      imshow (f, [low high])\n      imshow (f, [ ])\n说明：G是显示该图像的灰度级数；\n      小于或等于low的值都显示为黑色，大于或等于high的值都显示为白色。\n          [ ]自动将变量low设置为f的最小值，将high设置为f的最大值。\n\n## idea 技巧\n快速生成\n```\npublic static void main(Sting[] agrs) {\n  \n}\n```\n解决方法：在idea中输入psvm，然后按tab就可以自动生成\n\n快速生成\n```\nSystem.out.println();\n```\n解决方法：在idea中输入sout，然后按tab就可以自动生成\n\n快速生成构造函数\n```\nclass Dog {\n    String name;\n    String says;\n   <!--  public Dog(String name, String says) {\n        this.name = name;\n        this.says = says;\n        这里被注释掉的是构造函数，如果快速生产\n    } --> \n}\n```\n解决方法： 在idea中选择code->generator 或者直接按下control+n（Mac环境下）\n\n## 参考链接\n[blog1](http://www.cnblogs.com/sword-successful/p/6408281.html)\n<!-- more -->\n## hexo 中写数学公式 Latex\n\nps:今天本来是准备动手看算法方面的东西，然后准备使用hexo看下数学公式怎么显示。然后就出现问题了，显示的时候会出现很多莫名的问题。重要的是我都没有数学编辑器，😂话说论文也要写了啊。所以开始找个好一点的数学编辑器，然后在b呼中找到了。那么问题来了，是时候写一篇练习Latex的文档了。\n\n[submlim + Latex](https://www.zhihu.com/question/23918126/answer/29977055)\n[b呼推荐](https://www.zhihu.com/question/20928639)\n[解决方法](http://draveness.me/hexozhong-latexde-shi-yong/)：就是把主题中的配置文件中的 mathjax: true 设置为true\n\n## 一些小概念\n语法糖(Syntactic sugar)：是由Peter J. Landin(和图灵一样的天才人物，是他最先发现了Lambda演算，由此而创立了函数式编程)创造的一个词语，它意指那些没有给计算机语言添加新功能，而只是对人类来说更“甜蜜”的语法。\n\nbrew 和 brew cask\nbrew是从下载源码解压然后./configure && make install,同时会包含相关依赖库。并自动配置好各种环境变量，而且易于卸载。\n\nbrew cask 是已经编译好的应用包，仅仅是下载解压，放在统一的目录中（/opt/homebrew-cask/Caskroo,），省掉了自己去下载 解压 安装步骤。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=27731391&auto=1&height=66\"></iframe>","slug":"bug","published":1,"updated":"2017-03-20T03:32:43.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucy000lffcao18wep7m","content":"<p>问题：解决maven 更新慢的问题<br>系统：Mac<br>解决方向：使用阿里镜像<br>方法：</p>\n<ol>\n<li>cd /usr/local/Cellar/maven/3.3.9/libexec/conf(brew install maven 的路径)</li>\n<li>subl setting.xml (subl 在这里是使用sublime text 打开 文件 open -a )</li>\n<li>将下面代码替换setting.xml中的 mirrors    <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;mirrors&gt;</div><div class=\"line\">  &lt;!-- mirror</div><div class=\"line\">   | Specifies a repository mirror site to use instead of a given repository. The repository that</div><div class=\"line\">   | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</div><div class=\"line\">   | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</div><div class=\"line\">   |</div><div class=\"line\">  &lt;mirror&gt;</div><div class=\"line\">    &lt;id&gt;mirrorId&lt;/id&gt;</div><div class=\"line\">    &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</div><div class=\"line\">    &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</div><div class=\"line\">    &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</div><div class=\"line\">  &lt;/mirror&gt;</div><div class=\"line\">   --&gt;</div><div class=\"line\">  &lt;mirror&gt;</div><div class=\"line\">    &lt;id&gt;alimaven&lt;/id&gt;</div><div class=\"line\">    &lt;name&gt;aliyun maven&lt;/name&gt;</div><div class=\"line\">    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;</div><div class=\"line\">    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;       </div><div class=\"line\">  &lt;/mirror&gt;</div><div class=\"line\">&lt;/mirrors&gt;</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<a id=\"more\"></a>\n<h2 id=\"matlab\"><a href=\"#matlab\" class=\"headerlink\" title=\"matlab\"></a>matlab</h2><p>语法：imshow ( f, G)<br>      imshow (f, [low high])<br>      imshow (f, [ ])<br>说明：G是显示该图像的灰度级数；<br>      小于或等于low的值都显示为黑色，大于或等于high的值都显示为白色。<br>          [ ]自动将变量low设置为f的最小值，将high设置为f的最大值。</p>\n<h2 id=\"idea-技巧\"><a href=\"#idea-技巧\" class=\"headerlink\" title=\"idea 技巧\"></a>idea 技巧</h2><p>快速生成<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static void main(Sting[] agrs) &#123;</div><div class=\"line\">  </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>解决方法：在idea中输入psvm，然后按tab就可以自动生成</p>\n<p>快速生成<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">System.out.println();</div></pre></td></tr></table></figure></p>\n<p>解决方法：在idea中输入sout，然后按tab就可以自动生成</p>\n<p>快速生成构造函数<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">class Dog &#123;</div><div class=\"line\">    String name;</div><div class=\"line\">    String says;</div><div class=\"line\">   &lt;!--  public Dog(String name, String says) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">        this.says = says;</div><div class=\"line\">        这里被注释掉的是构造函数，如果快速生产</div><div class=\"line\">    &#125; --&gt; </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>解决方法： 在idea中选择code-&gt;generator 或者直接按下control+n（Mac环境下）</p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://www.cnblogs.com/sword-successful/p/6408281.html\" target=\"_blank\" rel=\"external\">blog1</a><br><!-- more --></p>\n<h2 id=\"hexo-中写数学公式-Latex\"><a href=\"#hexo-中写数学公式-Latex\" class=\"headerlink\" title=\"hexo 中写数学公式 Latex\"></a>hexo 中写数学公式 Latex</h2><p>ps:今天本来是准备动手看算法方面的东西，然后准备使用hexo看下数学公式怎么显示。然后就出现问题了，显示的时候会出现很多莫名的问题。重要的是我都没有数学编辑器，😂话说论文也要写了啊。所以开始找个好一点的数学编辑器，然后在b呼中找到了。那么问题来了，是时候写一篇练习Latex的文档了。</p>\n<p><a href=\"https://www.zhihu.com/question/23918126/answer/29977055\" target=\"_blank\" rel=\"external\">submlim + Latex</a><br><a href=\"https://www.zhihu.com/question/20928639\" target=\"_blank\" rel=\"external\">b呼推荐</a><br><a href=\"http://draveness.me/hexozhong-latexde-shi-yong/\" target=\"_blank\" rel=\"external\">解决方法</a>：就是把主题中的配置文件中的 mathjax: true 设置为true</p>\n<h2 id=\"一些小概念\"><a href=\"#一些小概念\" class=\"headerlink\" title=\"一些小概念\"></a>一些小概念</h2><p>语法糖(Syntactic sugar)：是由Peter J. Landin(和图灵一样的天才人物，是他最先发现了Lambda演算，由此而创立了函数式编程)创造的一个词语，它意指那些没有给计算机语言添加新功能，而只是对人类来说更“甜蜜”的语法。</p>\n<p>brew 和 brew cask<br>brew是从下载源码解压然后./configure &amp;&amp; make install,同时会包含相关依赖库。并自动配置好各种环境变量，而且易于卸载。</p>\n<p>brew cask 是已经编译好的应用包，仅仅是下载解压，放在统一的目录中（/opt/homebrew-cask/Caskroo,），省掉了自己去下载 解压 安装步骤。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=27731391&auto=1&height=66\"></iframe>","excerpt":"<p>问题：解决maven 更新慢的问题<br>系统：Mac<br>解决方向：使用阿里镜像<br>方法：</p>\n<ol>\n<li>cd /usr/local/Cellar/maven/3.3.9/libexec/conf(brew install maven 的路径)</li>\n<li>subl setting.xml (subl 在这里是使用sublime text 打开 文件 open -a )</li>\n<li>将下面代码替换setting.xml中的 mirrors    <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;mirrors&gt;</div><div class=\"line\">  &lt;!-- mirror</div><div class=\"line\">   | Specifies a repository mirror site to use instead of a given repository. The repository that</div><div class=\"line\">   | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</div><div class=\"line\">   | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</div><div class=\"line\">   |</div><div class=\"line\">  &lt;mirror&gt;</div><div class=\"line\">    &lt;id&gt;mirrorId&lt;/id&gt;</div><div class=\"line\">    &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</div><div class=\"line\">    &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</div><div class=\"line\">    &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</div><div class=\"line\">  &lt;/mirror&gt;</div><div class=\"line\">   --&gt;</div><div class=\"line\">  &lt;mirror&gt;</div><div class=\"line\">    &lt;id&gt;alimaven&lt;/id&gt;</div><div class=\"line\">    &lt;name&gt;aliyun maven&lt;/name&gt;</div><div class=\"line\">    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;</div><div class=\"line\">    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;       </div><div class=\"line\">  &lt;/mirror&gt;</div><div class=\"line\">&lt;/mirrors&gt;</div></pre></td></tr></table></figure>\n</li>\n</ol>","more":"<h2 id=\"matlab\"><a href=\"#matlab\" class=\"headerlink\" title=\"matlab\"></a>matlab</h2><p>语法：imshow ( f, G)<br>      imshow (f, [low high])<br>      imshow (f, [ ])<br>说明：G是显示该图像的灰度级数；<br>      小于或等于low的值都显示为黑色，大于或等于high的值都显示为白色。<br>          [ ]自动将变量low设置为f的最小值，将high设置为f的最大值。</p>\n<h2 id=\"idea-技巧\"><a href=\"#idea-技巧\" class=\"headerlink\" title=\"idea 技巧\"></a>idea 技巧</h2><p>快速生成<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static void main(Sting[] agrs) &#123;</div><div class=\"line\">  </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>解决方法：在idea中输入psvm，然后按tab就可以自动生成</p>\n<p>快速生成<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">System.out.println();</div></pre></td></tr></table></figure></p>\n<p>解决方法：在idea中输入sout，然后按tab就可以自动生成</p>\n<p>快速生成构造函数<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">class Dog &#123;</div><div class=\"line\">    String name;</div><div class=\"line\">    String says;</div><div class=\"line\">   &lt;!--  public Dog(String name, String says) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">        this.says = says;</div><div class=\"line\">        这里被注释掉的是构造函数，如果快速生产</div><div class=\"line\">    &#125; --&gt; </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>解决方法： 在idea中选择code-&gt;generator 或者直接按下control+n（Mac环境下）</p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://www.cnblogs.com/sword-successful/p/6408281.html\">blog1</a><br><!-- more --></p>\n<h2 id=\"hexo-中写数学公式-Latex\"><a href=\"#hexo-中写数学公式-Latex\" class=\"headerlink\" title=\"hexo 中写数学公式 Latex\"></a>hexo 中写数学公式 Latex</h2><p>ps:今天本来是准备动手看算法方面的东西，然后准备使用hexo看下数学公式怎么显示。然后就出现问题了，显示的时候会出现很多莫名的问题。重要的是我都没有数学编辑器，😂话说论文也要写了啊。所以开始找个好一点的数学编辑器，然后在b呼中找到了。那么问题来了，是时候写一篇练习Latex的文档了。</p>\n<p><a href=\"https://www.zhihu.com/question/23918126/answer/29977055\">submlim + Latex</a><br><a href=\"https://www.zhihu.com/question/20928639\">b呼推荐</a><br><a href=\"http://draveness.me/hexozhong-latexde-shi-yong/\">解决方法</a>：就是把主题中的配置文件中的 mathjax: true 设置为true</p>\n<h2 id=\"一些小概念\"><a href=\"#一些小概念\" class=\"headerlink\" title=\"一些小概念\"></a>一些小概念</h2><p>语法糖(Syntactic sugar)：是由Peter J. Landin(和图灵一样的天才人物，是他最先发现了Lambda演算，由此而创立了函数式编程)创造的一个词语，它意指那些没有给计算机语言添加新功能，而只是对人类来说更“甜蜜”的语法。</p>\n<p>brew 和 brew cask<br>brew是从下载源码解压然后./configure &amp;&amp; make install,同时会包含相关依赖库。并自动配置好各种环境变量，而且易于卸载。</p>\n<p>brew cask 是已经编译好的应用包，仅仅是下载解压，放在统一的目录中（/opt/homebrew-cask/Caskroo,），省掉了自己去下载 解压 安装步骤。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=27731391&auto=1&height=66\"></iframe>"},{"title":"数据仓库","date":"2017-06-04T13:52:54.000Z","_content":"\n## 前言\n最近在银联实习也算是做数据挖掘方面的工作，先前虽然有接触算法这一块，学校也开了机器学习这门课，但是对于数据仓库不是很了解。那个和厂商聊起来，他问我学过数据仓库吗，我没答应上来，所以今天准备好好学习下数据仓库。\n\n## 定义\n20世纪80年代中期，“数据仓库”（Data Warahouse， DW）这个名词首次出现在号称“数据仓库之父”W.H.Inmon（恩门）的Building Data Warahouse一书中。恩门把数据仓库定义为“一个面向主题的，集成的，稳定的，随时间变化的数据的集合，以用于支持管理决策过程”。\n\n### 主题\n面向主题组织的数据具有以下特点：\n* 各个主题有完整，一致的内容以便在此基础上做分析处理\n* 主题之间有重叠的内容，反映主题间的联系。重叠是逻辑上的，不是物理上的。\n* 各主题的综合方式存在不同。\n* 主题域应该具有独立性（数据是否属于该主题有明确的界限）和完备性（对该主题进行分析所涉及的内容均要在主题域内）。\n\n\n### 集成性\n数据仓库中存储的数据一般从企业原有已建立的数据库系统中提取出来，但并不是所有数据的简单拷贝，而是经过抽取、筛选、清理、转换、综合等工作得到的数据。\n\n### 稳定性\n数据仓库在某个时间段内来看是保持不变的。\n\n### 随时间而变化\n数据仓库大多关注的是历史数据，其中数据是批量载入的，即定期操作型应用系统中接收新的数据内容，这使得数据仓库中的数据总是拥有时间维度。\n\n## 数据仓库系统\n\n### 数据仓库组成\n数据仓库系统通常指一个数据库环境，而不是指一件产品。数据仓库系统的一般体系结构如下图所示，整个数据仓库系统分为源数据层、数据存储和管理层、OLAP服务器层和前端分析工具层\n![数据仓库组成](dataWarahouse/dw.jpeg)\n\n<!-- more -->\n\n## 参考书籍和链接\n《数据仓库与数据挖掘概述》\n\n## 每文音乐推荐\n评论：\n贾听听听不来课：Bob Dylan在给他在纽约的第一任女友Suze Rotolo的信中这样写道：这儿什么也没发生.狗在等着出门,贼在等着老妇人,孩子们在等着上学,条子们在等着揍人.每个人都在等着更凉快的天气.而我只是在等你.那些美好就在我们身边,但却没有被留意....\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5057793&auto=1&height=66\"></iframe>","source":"_posts/dataWarehouse.md","raw":"---\ntitle: 数据仓库\ndate: 2017-06-04 21:52:54\ntags: [数据挖掘, 数据仓库, 数据库]\n---\n\n## 前言\n最近在银联实习也算是做数据挖掘方面的工作，先前虽然有接触算法这一块，学校也开了机器学习这门课，但是对于数据仓库不是很了解。那个和厂商聊起来，他问我学过数据仓库吗，我没答应上来，所以今天准备好好学习下数据仓库。\n\n## 定义\n20世纪80年代中期，“数据仓库”（Data Warahouse， DW）这个名词首次出现在号称“数据仓库之父”W.H.Inmon（恩门）的Building Data Warahouse一书中。恩门把数据仓库定义为“一个面向主题的，集成的，稳定的，随时间变化的数据的集合，以用于支持管理决策过程”。\n\n### 主题\n面向主题组织的数据具有以下特点：\n* 各个主题有完整，一致的内容以便在此基础上做分析处理\n* 主题之间有重叠的内容，反映主题间的联系。重叠是逻辑上的，不是物理上的。\n* 各主题的综合方式存在不同。\n* 主题域应该具有独立性（数据是否属于该主题有明确的界限）和完备性（对该主题进行分析所涉及的内容均要在主题域内）。\n\n\n### 集成性\n数据仓库中存储的数据一般从企业原有已建立的数据库系统中提取出来，但并不是所有数据的简单拷贝，而是经过抽取、筛选、清理、转换、综合等工作得到的数据。\n\n### 稳定性\n数据仓库在某个时间段内来看是保持不变的。\n\n### 随时间而变化\n数据仓库大多关注的是历史数据，其中数据是批量载入的，即定期操作型应用系统中接收新的数据内容，这使得数据仓库中的数据总是拥有时间维度。\n\n## 数据仓库系统\n\n### 数据仓库组成\n数据仓库系统通常指一个数据库环境，而不是指一件产品。数据仓库系统的一般体系结构如下图所示，整个数据仓库系统分为源数据层、数据存储和管理层、OLAP服务器层和前端分析工具层\n![数据仓库组成](dataWarahouse/dw.jpeg)\n\n<!-- more -->\n\n## 参考书籍和链接\n《数据仓库与数据挖掘概述》\n\n## 每文音乐推荐\n评论：\n贾听听听不来课：Bob Dylan在给他在纽约的第一任女友Suze Rotolo的信中这样写道：这儿什么也没发生.狗在等着出门,贼在等着老妇人,孩子们在等着上学,条子们在等着揍人.每个人都在等着更凉快的天气.而我只是在等你.那些美好就在我们身边,但却没有被留意....\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5057793&auto=1&height=66\"></iframe>","slug":"dataWarehouse","published":1,"updated":"2017-06-04T14:54:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ucz000nffca0xvcud3n","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在银联实习也算是做数据挖掘方面的工作，先前虽然有接触算法这一块，学校也开了机器学习这门课，但是对于数据仓库不是很了解。那个和厂商聊起来，他问我学过数据仓库吗，我没答应上来，所以今天准备好好学习下数据仓库。</p>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>20世纪80年代中期，“数据仓库”（Data Warahouse， DW）这个名词首次出现在号称“数据仓库之父”W.H.Inmon（恩门）的Building Data Warahouse一书中。恩门把数据仓库定义为“一个面向主题的，集成的，稳定的，随时间变化的数据的集合，以用于支持管理决策过程”。</p>\n<h3 id=\"主题\"><a href=\"#主题\" class=\"headerlink\" title=\"主题\"></a>主题</h3><p>面向主题组织的数据具有以下特点：</p>\n<ul>\n<li>各个主题有完整，一致的内容以便在此基础上做分析处理</li>\n<li>主题之间有重叠的内容，反映主题间的联系。重叠是逻辑上的，不是物理上的。</li>\n<li>各主题的综合方式存在不同。</li>\n<li>主题域应该具有独立性（数据是否属于该主题有明确的界限）和完备性（对该主题进行分析所涉及的内容均要在主题域内）。</li>\n</ul>\n<h3 id=\"集成性\"><a href=\"#集成性\" class=\"headerlink\" title=\"集成性\"></a>集成性</h3><p>数据仓库中存储的数据一般从企业原有已建立的数据库系统中提取出来，但并不是所有数据的简单拷贝，而是经过抽取、筛选、清理、转换、综合等工作得到的数据。</p>\n<h3 id=\"稳定性\"><a href=\"#稳定性\" class=\"headerlink\" title=\"稳定性\"></a>稳定性</h3><p>数据仓库在某个时间段内来看是保持不变的。</p>\n<h3 id=\"随时间而变化\"><a href=\"#随时间而变化\" class=\"headerlink\" title=\"随时间而变化\"></a>随时间而变化</h3><p>数据仓库大多关注的是历史数据，其中数据是批量载入的，即定期操作型应用系统中接收新的数据内容，这使得数据仓库中的数据总是拥有时间维度。</p>\n<h2 id=\"数据仓库系统\"><a href=\"#数据仓库系统\" class=\"headerlink\" title=\"数据仓库系统\"></a>数据仓库系统</h2><h3 id=\"数据仓库组成\"><a href=\"#数据仓库组成\" class=\"headerlink\" title=\"数据仓库组成\"></a>数据仓库组成</h3><p>数据仓库系统通常指一个数据库环境，而不是指一件产品。数据仓库系统的一般体系结构如下图所示，整个数据仓库系统分为源数据层、数据存储和管理层、OLAP服务器层和前端分析工具层<br><img src=\"/2017/06/04/dataWarehouse/dw.jpeg\" alt=\"数据仓库组成\"></p>\n<a id=\"more\"></a>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《数据仓库与数据挖掘概述》</p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>评论：<br>贾听听听不来课：Bob Dylan在给他在纽约的第一任女友Suze Rotolo的信中这样写道：这儿什么也没发生.狗在等着出门,贼在等着老妇人,孩子们在等着上学,条子们在等着揍人.每个人都在等着更凉快的天气.而我只是在等你.那些美好就在我们身边,但却没有被留意….</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5057793&auto=1&height=66\"></iframe>","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在银联实习也算是做数据挖掘方面的工作，先前虽然有接触算法这一块，学校也开了机器学习这门课，但是对于数据仓库不是很了解。那个和厂商聊起来，他问我学过数据仓库吗，我没答应上来，所以今天准备好好学习下数据仓库。</p>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>20世纪80年代中期，“数据仓库”（Data Warahouse， DW）这个名词首次出现在号称“数据仓库之父”W.H.Inmon（恩门）的Building Data Warahouse一书中。恩门把数据仓库定义为“一个面向主题的，集成的，稳定的，随时间变化的数据的集合，以用于支持管理决策过程”。</p>\n<h3 id=\"主题\"><a href=\"#主题\" class=\"headerlink\" title=\"主题\"></a>主题</h3><p>面向主题组织的数据具有以下特点：</p>\n<ul>\n<li>各个主题有完整，一致的内容以便在此基础上做分析处理</li>\n<li>主题之间有重叠的内容，反映主题间的联系。重叠是逻辑上的，不是物理上的。</li>\n<li>各主题的综合方式存在不同。</li>\n<li>主题域应该具有独立性（数据是否属于该主题有明确的界限）和完备性（对该主题进行分析所涉及的内容均要在主题域内）。</li>\n</ul>\n<h3 id=\"集成性\"><a href=\"#集成性\" class=\"headerlink\" title=\"集成性\"></a>集成性</h3><p>数据仓库中存储的数据一般从企业原有已建立的数据库系统中提取出来，但并不是所有数据的简单拷贝，而是经过抽取、筛选、清理、转换、综合等工作得到的数据。</p>\n<h3 id=\"稳定性\"><a href=\"#稳定性\" class=\"headerlink\" title=\"稳定性\"></a>稳定性</h3><p>数据仓库在某个时间段内来看是保持不变的。</p>\n<h3 id=\"随时间而变化\"><a href=\"#随时间而变化\" class=\"headerlink\" title=\"随时间而变化\"></a>随时间而变化</h3><p>数据仓库大多关注的是历史数据，其中数据是批量载入的，即定期操作型应用系统中接收新的数据内容，这使得数据仓库中的数据总是拥有时间维度。</p>\n<h2 id=\"数据仓库系统\"><a href=\"#数据仓库系统\" class=\"headerlink\" title=\"数据仓库系统\"></a>数据仓库系统</h2><h3 id=\"数据仓库组成\"><a href=\"#数据仓库组成\" class=\"headerlink\" title=\"数据仓库组成\"></a>数据仓库组成</h3><p>数据仓库系统通常指一个数据库环境，而不是指一件产品。数据仓库系统的一般体系结构如下图所示，整个数据仓库系统分为源数据层、数据存储和管理层、OLAP服务器层和前端分析工具层<br><img src=\"/2017/06/04/dataWarehouse/dw.jpeg\" alt=\"数据仓库组成\"></p>","more":"<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《数据仓库与数据挖掘概述》</p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>评论：<br>贾听听听不来课：Bob Dylan在给他在纽约的第一任女友Suze Rotolo的信中这样写道：这儿什么也没发生.狗在等着出门,贼在等着老妇人,孩子们在等着上学,条子们在等着揍人.每个人都在等着更凉快的天气.而我只是在等你.那些美好就在我们身边,但却没有被留意….</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5057793&auto=1&height=66\"></iframe>"},{"title":"java 异常","date":"2017-03-22T08:06:42.000Z","_content":"\n## 前言\n印象中对于，异常的了解就只是try，catch，然后用的比较多的几乎是Exception。以前学习的时候想的就是只要能用会用就好了，没怎么关注过异常，还以为Exception是所有异常的基类。昨天做了大众点评的实习笔试，发现自己理心仪的大众点评还是有一些差距的，笔试中关于异常的题目，自己都不是很了解。所以，今天就来探讨下java的异常和错误。\n\n## Throwable类\nThrowable类是java语言中所有错误和异常的基类，用来描述违例抛出的东西。Throwable有两种常规规范，Error和Exception。\n\n## Exception和Error\nError 代表编译期和系统错误，我们一般不必特意捕获它们（除在特殊情况以外）。Exception 是可以从任何标准 Java库的类方法中“掷”出的基本类型。此外，它们亦可从我们自己的方法以及运行期偶发事件中“掷”出。在Java中我们可以这样区分，异常(Exception)是一种非程序原因的操作失败(Failure)，而错误(Error)则意味着程序有缺陷(Bug)。\n\n<!--more-->\n\n## 构造函数\n```\nException的构造函数，Error和和他一样。\npublic Exception() {\n    super();\n}\n\n\npublic Exception(String message) {\n    super(message);\n}\n\npublic Exception(String message, Throwable cause) {\n    super(message, cause);\n}\n\n\npublic Exception(Throwable cause) {\n    super(cause);\n}\nTrowable主要的方法 public void printStackTrace() { printStackTrace(System.err);}\n将此 throwable 及其追踪输出至标准错误流。此方法将此 Throwable 对象的堆栈跟踪输出至错误输出流，作为字段 System.err 的值。输出的第一行包含此对象的 toString() 方法的结果。剩余行表示以前由方法 fillInStackTrace() 记录的数据。\n```\n## RuntimeException\nRuntimeException 是那些可能在 Java 虚拟机正常运行期间抛出的异常的超类。Java中区分Checked Exception和Unchecked Exception，前者继承于Exception，后者继承于RuntimeException。上面的IOException就是一个著名的Checked Exception。Java编译器对Checked Exception的约束包括两方面：对于方法编写者来讲，Checked Exception必须在方法签名上声明；对于方法调用者来讲，调用抛出Checked Exception的方法必须用try-catch捕获异常或者继续声明抛出。相反，Unchecked Exception则不需要显式声明，也不强制捕获。\n\nChecked Exception的用意在于明确地提醒调用者去处理它，防止遗漏。但是Checked Exception同时也给调用者带来了负担，通常会导致层层的try-catch，降低代码的可读性，前面例子中的Integer.valueOf方法虽然声明了NumberFormatException，但是它是一个RuntimeException，所以使用者不是必须用try-catch去捕获它。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5223019&auto=1&height=66\"></iframe>\n\n## 参考链接\n[java 编程思想](http://www.java17.cn/Javabased/26.html)\n[jdk](http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/)\n[博客](http://www.cnblogs.com/weidagang2046/p/exception-handling-principles.html)","source":"_posts/exception.md","raw":"---\ntitle: java 异常\ndate: 2017-03-22 16:06:42\ntags: [java, Exception]\n---\n\n## 前言\n印象中对于，异常的了解就只是try，catch，然后用的比较多的几乎是Exception。以前学习的时候想的就是只要能用会用就好了，没怎么关注过异常，还以为Exception是所有异常的基类。昨天做了大众点评的实习笔试，发现自己理心仪的大众点评还是有一些差距的，笔试中关于异常的题目，自己都不是很了解。所以，今天就来探讨下java的异常和错误。\n\n## Throwable类\nThrowable类是java语言中所有错误和异常的基类，用来描述违例抛出的东西。Throwable有两种常规规范，Error和Exception。\n\n## Exception和Error\nError 代表编译期和系统错误，我们一般不必特意捕获它们（除在特殊情况以外）。Exception 是可以从任何标准 Java库的类方法中“掷”出的基本类型。此外，它们亦可从我们自己的方法以及运行期偶发事件中“掷”出。在Java中我们可以这样区分，异常(Exception)是一种非程序原因的操作失败(Failure)，而错误(Error)则意味着程序有缺陷(Bug)。\n\n<!--more-->\n\n## 构造函数\n```\nException的构造函数，Error和和他一样。\npublic Exception() {\n    super();\n}\n\n\npublic Exception(String message) {\n    super(message);\n}\n\npublic Exception(String message, Throwable cause) {\n    super(message, cause);\n}\n\n\npublic Exception(Throwable cause) {\n    super(cause);\n}\nTrowable主要的方法 public void printStackTrace() { printStackTrace(System.err);}\n将此 throwable 及其追踪输出至标准错误流。此方法将此 Throwable 对象的堆栈跟踪输出至错误输出流，作为字段 System.err 的值。输出的第一行包含此对象的 toString() 方法的结果。剩余行表示以前由方法 fillInStackTrace() 记录的数据。\n```\n## RuntimeException\nRuntimeException 是那些可能在 Java 虚拟机正常运行期间抛出的异常的超类。Java中区分Checked Exception和Unchecked Exception，前者继承于Exception，后者继承于RuntimeException。上面的IOException就是一个著名的Checked Exception。Java编译器对Checked Exception的约束包括两方面：对于方法编写者来讲，Checked Exception必须在方法签名上声明；对于方法调用者来讲，调用抛出Checked Exception的方法必须用try-catch捕获异常或者继续声明抛出。相反，Unchecked Exception则不需要显式声明，也不强制捕获。\n\nChecked Exception的用意在于明确地提醒调用者去处理它，防止遗漏。但是Checked Exception同时也给调用者带来了负担，通常会导致层层的try-catch，降低代码的可读性，前面例子中的Integer.valueOf方法虽然声明了NumberFormatException，但是它是一个RuntimeException，所以使用者不是必须用try-catch去捕获它。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5223019&auto=1&height=66\"></iframe>\n\n## 参考链接\n[java 编程思想](http://www.java17.cn/Javabased/26.html)\n[jdk](http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/)\n[博客](http://www.cnblogs.com/weidagang2046/p/exception-handling-principles.html)","slug":"exception","published":1,"updated":"2017-03-25T03:20:01.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ud1000pffcaeuhwp5h8","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>印象中对于，异常的了解就只是try，catch，然后用的比较多的几乎是Exception。以前学习的时候想的就是只要能用会用就好了，没怎么关注过异常，还以为Exception是所有异常的基类。昨天做了大众点评的实习笔试，发现自己理心仪的大众点评还是有一些差距的，笔试中关于异常的题目，自己都不是很了解。所以，今天就来探讨下java的异常和错误。</p>\n<h2 id=\"Throwable类\"><a href=\"#Throwable类\" class=\"headerlink\" title=\"Throwable类\"></a>Throwable类</h2><p>Throwable类是java语言中所有错误和异常的基类，用来描述违例抛出的东西。Throwable有两种常规规范，Error和Exception。</p>\n<h2 id=\"Exception和Error\"><a href=\"#Exception和Error\" class=\"headerlink\" title=\"Exception和Error\"></a>Exception和Error</h2><p>Error 代表编译期和系统错误，我们一般不必特意捕获它们（除在特殊情况以外）。Exception 是可以从任何标准 Java库的类方法中“掷”出的基本类型。此外，它们亦可从我们自己的方法以及运行期偶发事件中“掷”出。在Java中我们可以这样区分，异常(Exception)是一种非程序原因的操作失败(Failure)，而错误(Error)则意味着程序有缺陷(Bug)。</p>\n<a id=\"more\"></a>\n<h2 id=\"构造函数\"><a href=\"#构造函数\" class=\"headerlink\" title=\"构造函数\"></a>构造函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">Exception的构造函数，Error和和他一样。</div><div class=\"line\">public Exception() &#123;</div><div class=\"line\">    super();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">public Exception(String message) &#123;</div><div class=\"line\">    super(message);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public Exception(String message, Throwable cause) &#123;</div><div class=\"line\">    super(message, cause);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">public Exception(Throwable cause) &#123;</div><div class=\"line\">    super(cause);</div><div class=\"line\">&#125;</div><div class=\"line\">Trowable主要的方法 public void printStackTrace() &#123; printStackTrace(System.err);&#125;</div><div class=\"line\">将此 throwable 及其追踪输出至标准错误流。此方法将此 Throwable 对象的堆栈跟踪输出至错误输出流，作为字段 System.err 的值。输出的第一行包含此对象的 toString() 方法的结果。剩余行表示以前由方法 fillInStackTrace() 记录的数据。</div></pre></td></tr></table></figure>\n<h2 id=\"RuntimeException\"><a href=\"#RuntimeException\" class=\"headerlink\" title=\"RuntimeException\"></a>RuntimeException</h2><p>RuntimeException 是那些可能在 Java 虚拟机正常运行期间抛出的异常的超类。Java中区分Checked Exception和Unchecked Exception，前者继承于Exception，后者继承于RuntimeException。上面的IOException就是一个著名的Checked Exception。Java编译器对Checked Exception的约束包括两方面：对于方法编写者来讲，Checked Exception必须在方法签名上声明；对于方法调用者来讲，调用抛出Checked Exception的方法必须用try-catch捕获异常或者继续声明抛出。相反，Unchecked Exception则不需要显式声明，也不强制捕获。</p>\n<p>Checked Exception的用意在于明确地提醒调用者去处理它，防止遗漏。但是Checked Exception同时也给调用者带来了负担，通常会导致层层的try-catch，降低代码的可读性，前面例子中的Integer.valueOf方法虽然声明了NumberFormatException，但是它是一个RuntimeException，所以使用者不是必须用try-catch去捕获它。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5223019&auto=1&height=66\"></iframe>\n\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://www.java17.cn/Javabased/26.html\" target=\"_blank\" rel=\"external\">java 编程思想</a><br><a href=\"http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/\" target=\"_blank\" rel=\"external\">jdk</a><br><a href=\"http://www.cnblogs.com/weidagang2046/p/exception-handling-principles.html\" target=\"_blank\" rel=\"external\">博客</a></p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>印象中对于，异常的了解就只是try，catch，然后用的比较多的几乎是Exception。以前学习的时候想的就是只要能用会用就好了，没怎么关注过异常，还以为Exception是所有异常的基类。昨天做了大众点评的实习笔试，发现自己理心仪的大众点评还是有一些差距的，笔试中关于异常的题目，自己都不是很了解。所以，今天就来探讨下java的异常和错误。</p>\n<h2 id=\"Throwable类\"><a href=\"#Throwable类\" class=\"headerlink\" title=\"Throwable类\"></a>Throwable类</h2><p>Throwable类是java语言中所有错误和异常的基类，用来描述违例抛出的东西。Throwable有两种常规规范，Error和Exception。</p>\n<h2 id=\"Exception和Error\"><a href=\"#Exception和Error\" class=\"headerlink\" title=\"Exception和Error\"></a>Exception和Error</h2><p>Error 代表编译期和系统错误，我们一般不必特意捕获它们（除在特殊情况以外）。Exception 是可以从任何标准 Java库的类方法中“掷”出的基本类型。此外，它们亦可从我们自己的方法以及运行期偶发事件中“掷”出。在Java中我们可以这样区分，异常(Exception)是一种非程序原因的操作失败(Failure)，而错误(Error)则意味着程序有缺陷(Bug)。</p>","more":"<h2 id=\"构造函数\"><a href=\"#构造函数\" class=\"headerlink\" title=\"构造函数\"></a>构造函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">Exception的构造函数，Error和和他一样。</div><div class=\"line\">public Exception() &#123;</div><div class=\"line\">    super();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">public Exception(String message) &#123;</div><div class=\"line\">    super(message);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public Exception(String message, Throwable cause) &#123;</div><div class=\"line\">    super(message, cause);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">public Exception(Throwable cause) &#123;</div><div class=\"line\">    super(cause);</div><div class=\"line\">&#125;</div><div class=\"line\">Trowable主要的方法 public void printStackTrace() &#123; printStackTrace(System.err);&#125;</div><div class=\"line\">将此 throwable 及其追踪输出至标准错误流。此方法将此 Throwable 对象的堆栈跟踪输出至错误输出流，作为字段 System.err 的值。输出的第一行包含此对象的 toString() 方法的结果。剩余行表示以前由方法 fillInStackTrace() 记录的数据。</div></pre></td></tr></table></figure>\n<h2 id=\"RuntimeException\"><a href=\"#RuntimeException\" class=\"headerlink\" title=\"RuntimeException\"></a>RuntimeException</h2><p>RuntimeException 是那些可能在 Java 虚拟机正常运行期间抛出的异常的超类。Java中区分Checked Exception和Unchecked Exception，前者继承于Exception，后者继承于RuntimeException。上面的IOException就是一个著名的Checked Exception。Java编译器对Checked Exception的约束包括两方面：对于方法编写者来讲，Checked Exception必须在方法签名上声明；对于方法调用者来讲，调用抛出Checked Exception的方法必须用try-catch捕获异常或者继续声明抛出。相反，Unchecked Exception则不需要显式声明，也不强制捕获。</p>\n<p>Checked Exception的用意在于明确地提醒调用者去处理它，防止遗漏。但是Checked Exception同时也给调用者带来了负担，通常会导致层层的try-catch，降低代码的可读性，前面例子中的Integer.valueOf方法虽然声明了NumberFormatException，但是它是一个RuntimeException，所以使用者不是必须用try-catch去捕获它。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5223019&auto=1&height=66\"></iframe>\n\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://www.java17.cn/Javabased/26.html\">java 编程思想</a><br><a href=\"http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/\">jdk</a><br><a href=\"http://www.cnblogs.com/weidagang2046/p/exception-handling-principles.html\">博客</a></p>"},{"title":"几种解决hash碰撞的方法","date":"2017-03-07T12:21:27.000Z","_content":"\n## 前言\n又到了胡说八道时间，今天晚上接到携程电话面试（暑期实习面试），但是我正在填写银联数据的试卷（话说我面试已经过了，只要笔试过了就可以了，然而接了个电话，gg）。为什么写这个是因为今天面试问到我如何解决hash碰撞，学习知识才是王道。\n\n## 哈希碰撞\n哈希碰撞是不同的key通过哈希函数以后得到了相同的value值。原理图如下：\n\n![哈希碰撞](hash/pengzhuang.png)\n\n## 拉链法\nJava标准库的HashMap和HashTable基本上就是用拉链法实现的。拉链法的实现比较简单，将链表和数组相结合。也就是说创建一个链表数组，数组中每一格就是一个链表。若遇到哈希冲突，则将冲突的值加到链表中即可。原理图如下：\n\n![hashmap和hashtable底层存储结构](hash/lianbiao.png)\n\n步骤：\n* 通过key算出hash值\n* 通过hash值找到地址\n* 如果地址为空，直接添加\n* 如果地址不为空，插入表头\n\n## 线性探测法\n线性探索法是最简单的解决hash碰撞的方法。他把散列表当作一个循环数组看待。原理图如下：\n\n![线性探测法原理图](hash/tance.png)\n\n步骤：\n* 通过key算出hash值\n* 通过hash值找到地址\n* 如果地址为空，直接添加\n* 如果地址不为空，地址++，回到上一步，循环的顺序是0-n-1-0\n\n## 双重哈希法\nhi=(h(key)+ih1(key))％m 0≤i≤m-1 //即di=i*h1(key) ，也就是使用两个哈希函数\n\n## 再哈希法\n简单的点说就是如果hash函数1发生冲突就换一个hash函数2\n\n## 建立公共溢出区\n这种方法的基本思想是：将哈希表分为基本表和溢出表两部分，凡是和基本表发生冲突的元素，一律填入溢出表\n\n##参考链接\n[blog1](http://threezj.com/2016/03/28/%E7%94%A8%E6%8B%89%E9%93%BE%E6%B3%95%E5%92%8C%E7%BA%BF%E6%80%A7%E6%8E%A2%E6%B5%8B%E6%B3%95%E8%A7%A3%E5%86%B3%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/)\n[blog2](http://www.jianshu.com/p/eb335abc88dd)\n","source":"_posts/hash.md","raw":"---\ntitle: 几种解决hash碰撞的方法\ndate: 2017-03-07 20:21:27\ntags: [算法, hash, java]\n---\n\n## 前言\n又到了胡说八道时间，今天晚上接到携程电话面试（暑期实习面试），但是我正在填写银联数据的试卷（话说我面试已经过了，只要笔试过了就可以了，然而接了个电话，gg）。为什么写这个是因为今天面试问到我如何解决hash碰撞，学习知识才是王道。\n\n## 哈希碰撞\n哈希碰撞是不同的key通过哈希函数以后得到了相同的value值。原理图如下：\n\n![哈希碰撞](hash/pengzhuang.png)\n\n## 拉链法\nJava标准库的HashMap和HashTable基本上就是用拉链法实现的。拉链法的实现比较简单，将链表和数组相结合。也就是说创建一个链表数组，数组中每一格就是一个链表。若遇到哈希冲突，则将冲突的值加到链表中即可。原理图如下：\n\n![hashmap和hashtable底层存储结构](hash/lianbiao.png)\n\n步骤：\n* 通过key算出hash值\n* 通过hash值找到地址\n* 如果地址为空，直接添加\n* 如果地址不为空，插入表头\n\n## 线性探测法\n线性探索法是最简单的解决hash碰撞的方法。他把散列表当作一个循环数组看待。原理图如下：\n\n![线性探测法原理图](hash/tance.png)\n\n步骤：\n* 通过key算出hash值\n* 通过hash值找到地址\n* 如果地址为空，直接添加\n* 如果地址不为空，地址++，回到上一步，循环的顺序是0-n-1-0\n\n## 双重哈希法\nhi=(h(key)+ih1(key))％m 0≤i≤m-1 //即di=i*h1(key) ，也就是使用两个哈希函数\n\n## 再哈希法\n简单的点说就是如果hash函数1发生冲突就换一个hash函数2\n\n## 建立公共溢出区\n这种方法的基本思想是：将哈希表分为基本表和溢出表两部分，凡是和基本表发生冲突的元素，一律填入溢出表\n\n##参考链接\n[blog1](http://threezj.com/2016/03/28/%E7%94%A8%E6%8B%89%E9%93%BE%E6%B3%95%E5%92%8C%E7%BA%BF%E6%80%A7%E6%8E%A2%E6%B5%8B%E6%B3%95%E8%A7%A3%E5%86%B3%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/)\n[blog2](http://www.jianshu.com/p/eb335abc88dd)\n","slug":"hash","published":1,"updated":"2017-03-07T13:40:53.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ud5000tffcaoyzjpgps","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>又到了胡说八道时间，今天晚上接到携程电话面试（暑期实习面试），但是我正在填写银联数据的试卷（话说我面试已经过了，只要笔试过了就可以了，然而接了个电话，gg）。为什么写这个是因为今天面试问到我如何解决hash碰撞，学习知识才是王道。</p>\n<h2 id=\"哈希碰撞\"><a href=\"#哈希碰撞\" class=\"headerlink\" title=\"哈希碰撞\"></a>哈希碰撞</h2><p>哈希碰撞是不同的key通过哈希函数以后得到了相同的value值。原理图如下：</p>\n<p><img src=\"/2017/03/07/hash/pengzhuang.png\" alt=\"哈希碰撞\"></p>\n<h2 id=\"拉链法\"><a href=\"#拉链法\" class=\"headerlink\" title=\"拉链法\"></a>拉链法</h2><p>Java标准库的HashMap和HashTable基本上就是用拉链法实现的。拉链法的实现比较简单，将链表和数组相结合。也就是说创建一个链表数组，数组中每一格就是一个链表。若遇到哈希冲突，则将冲突的值加到链表中即可。原理图如下：</p>\n<p><img src=\"/2017/03/07/hash/lianbiao.png\" alt=\"hashmap和hashtable底层存储结构\"></p>\n<p>步骤：</p>\n<ul>\n<li>通过key算出hash值</li>\n<li>通过hash值找到地址</li>\n<li>如果地址为空，直接添加</li>\n<li>如果地址不为空，插入表头</li>\n</ul>\n<h2 id=\"线性探测法\"><a href=\"#线性探测法\" class=\"headerlink\" title=\"线性探测法\"></a>线性探测法</h2><p>线性探索法是最简单的解决hash碰撞的方法。他把散列表当作一个循环数组看待。原理图如下：</p>\n<p><img src=\"/2017/03/07/hash/tance.png\" alt=\"线性探测法原理图\"></p>\n<p>步骤：</p>\n<ul>\n<li>通过key算出hash值</li>\n<li>通过hash值找到地址</li>\n<li>如果地址为空，直接添加</li>\n<li>如果地址不为空，地址++，回到上一步，循环的顺序是0-n-1-0</li>\n</ul>\n<h2 id=\"双重哈希法\"><a href=\"#双重哈希法\" class=\"headerlink\" title=\"双重哈希法\"></a>双重哈希法</h2><p>hi=(h(key)+ih1(key))％m 0≤i≤m-1 //即di=i*h1(key) ，也就是使用两个哈希函数</p>\n<h2 id=\"再哈希法\"><a href=\"#再哈希法\" class=\"headerlink\" title=\"再哈希法\"></a>再哈希法</h2><p>简单的点说就是如果hash函数1发生冲突就换一个hash函数2</p>\n<h2 id=\"建立公共溢出区\"><a href=\"#建立公共溢出区\" class=\"headerlink\" title=\"建立公共溢出区\"></a>建立公共溢出区</h2><p>这种方法的基本思想是：将哈希表分为基本表和溢出表两部分，凡是和基本表发生冲突的元素，一律填入溢出表</p>\n<p>##参考链接<br><a href=\"http://threezj.com/2016/03/28/%E7%94%A8%E6%8B%89%E9%93%BE%E6%B3%95%E5%92%8C%E7%BA%BF%E6%80%A7%E6%8E%A2%E6%B5%8B%E6%B3%95%E8%A7%A3%E5%86%B3%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/\" target=\"_blank\" rel=\"external\">blog1</a><br><a href=\"http://www.jianshu.com/p/eb335abc88dd\" target=\"_blank\" rel=\"external\">blog2</a></p>\n","excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>又到了胡说八道时间，今天晚上接到携程电话面试（暑期实习面试），但是我正在填写银联数据的试卷（话说我面试已经过了，只要笔试过了就可以了，然而接了个电话，gg）。为什么写这个是因为今天面试问到我如何解决hash碰撞，学习知识才是王道。</p>\n<h2 id=\"哈希碰撞\"><a href=\"#哈希碰撞\" class=\"headerlink\" title=\"哈希碰撞\"></a>哈希碰撞</h2><p>哈希碰撞是不同的key通过哈希函数以后得到了相同的value值。原理图如下：</p>\n<p><img src=\"/2017/03/07/hash/pengzhuang.png\" alt=\"哈希碰撞\"></p>\n<h2 id=\"拉链法\"><a href=\"#拉链法\" class=\"headerlink\" title=\"拉链法\"></a>拉链法</h2><p>Java标准库的HashMap和HashTable基本上就是用拉链法实现的。拉链法的实现比较简单，将链表和数组相结合。也就是说创建一个链表数组，数组中每一格就是一个链表。若遇到哈希冲突，则将冲突的值加到链表中即可。原理图如下：</p>\n<p><img src=\"/2017/03/07/hash/lianbiao.png\" alt=\"hashmap和hashtable底层存储结构\"></p>\n<p>步骤：</p>\n<ul>\n<li>通过key算出hash值</li>\n<li>通过hash值找到地址</li>\n<li>如果地址为空，直接添加</li>\n<li>如果地址不为空，插入表头</li>\n</ul>\n<h2 id=\"线性探测法\"><a href=\"#线性探测法\" class=\"headerlink\" title=\"线性探测法\"></a>线性探测法</h2><p>线性探索法是最简单的解决hash碰撞的方法。他把散列表当作一个循环数组看待。原理图如下：</p>\n<p><img src=\"/2017/03/07/hash/tance.png\" alt=\"线性探测法原理图\"></p>\n<p>步骤：</p>\n<ul>\n<li>通过key算出hash值</li>\n<li>通过hash值找到地址</li>\n<li>如果地址为空，直接添加</li>\n<li>如果地址不为空，地址++，回到上一步，循环的顺序是0-n-1-0</li>\n</ul>\n<h2 id=\"双重哈希法\"><a href=\"#双重哈希法\" class=\"headerlink\" title=\"双重哈希法\"></a>双重哈希法</h2><p>hi=(h(key)+ih1(key))％m 0≤i≤m-1 //即di=i*h1(key) ，也就是使用两个哈希函数</p>\n<h2 id=\"再哈希法\"><a href=\"#再哈希法\" class=\"headerlink\" title=\"再哈希法\"></a>再哈希法</h2><p>简单的点说就是如果hash函数1发生冲突就换一个hash函数2</p>\n<h2 id=\"建立公共溢出区\"><a href=\"#建立公共溢出区\" class=\"headerlink\" title=\"建立公共溢出区\"></a>建立公共溢出区</h2><p>这种方法的基本思想是：将哈希表分为基本表和溢出表两部分，凡是和基本表发生冲突的元素，一律填入溢出表</p>\n<p>##参考链接<br><a href=\"http://threezj.com/2016/03/28/%E7%94%A8%E6%8B%89%E9%93%BE%E6%B3%95%E5%92%8C%E7%BA%BF%E6%80%A7%E6%8E%A2%E6%B5%8B%E6%B3%95%E8%A7%A3%E5%86%B3%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/\">blog1</a><br><a href=\"http://www.jianshu.com/p/eb335abc88dd\">blog2</a></p>\n"},{"title":"hashmap 源码分析","date":"2017-03-07T13:49:49.000Z","_content":"\n## 前言\n我发现了，写博客什么的最有意思的时候还是写前言来的开心。反正就是瞎嗨为什么动笔。为什么写这个是因为今天面试的时候问当了下面这段代码中构造函数中的参数数是干嘛用的，问这个问题我当时很羞愧，其实有的时候自己也会去问为什么有这么多构造函数，具体应用场景是什么，然后就是没有刨根问底的精神。现在我就来刨根问底下也不晚吧，😂\n\n## 所问代码\n可以看到构造函数中都可以传入参数\n![HashMap构造函数](hashmap/gouzao.png)\n* threshold：阈值，用于判断是否需要调整容量。threshold的值=”容量*加载因子”\n* loadFactor：加载因子，通常设为0.75\n\n## HashMap源代码为例子分析\nJava.util.Hashtable类实现了JAVA中的哈希表，内部采用Node[]数组，每个Node均可作为链表的头，用来解决哈希碰撞。\n\n## 特点\n* 基于哈希表的 Map 接口的实现。\n* 允许使用 null 值和 null 键。\n* 此类不保证映射的顺序。\n\n## Node类 源码\n```\nstatic class Node<K,V> implements Map.Entry<K,V> {\n    final int hash;\n    final K key;\n    V value;\n    Node<K,V> next;\n\n    Node(int hash, K key, V value, Node<K,V> next) {\n        this.hash = hash;\n        this.key = key;\n        this.value = value;\n        this.next = next;\n    }\n\n    public final K getKey()        { return key; }\n    public final V getValue()      { return value; }\n    public final String toString() { return key + \"=\" + value; }\n\n    public final int hashCode() {\n        return Objects.hashCode(key) ^ Objects.hashCode(value);\n    }\n\n    public final V setValue(V newValue) {\n        V oldValue = value;\n        value = newValue;\n        return oldValue;\n    }\n\n    public final boolean equals(Object o) {\n        if (o == this)\n            return true;\n        if (o instanceof Map.Entry) {\n            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n            if (Objects.equals(key, e.getKey()) &&\n                Objects.equals(value, e.getValue()))\n                return true;\n        }\n        return false;\n    }\n}\n```\n<!--more-->\n\n## 构造函数\n```\n public HashMap(int initialCapacity) {\n    this(initialCapacity, DEFAULT_LOAD_FACTOR);\n}\n\n/**\n * Constructs an empty <tt>HashMap</tt> with the default initial capacity\n * (16) and the default load factor (0.75).\n */\npublic HashMap() {\n    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\n}\n\n/**\n * Constructs a new <tt>HashMap</tt> with the same mappings as the\n * specified <tt>Map</tt>.  The <tt>HashMap</tt> is created with\n * default load factor (0.75) and an initial capacity sufficient to\n * hold the mappings in the specified <tt>Map</tt>.\n *\n * @param   m the map whose mappings are to be placed in this map\n * @throws  NullPointerException if the specified map is null\n */\npublic HashMap(Map<? extends K, ? extends V> m) {\n    this.loadFactor = DEFAULT_LOAD_FACTOR;\n    putMapEntries(m, false);\n}\n```\n\n## 扩容\n通常，默认加载因子 (.75) 在时间和空间成本上寻求一种折衷。加载因子过高虽然减少了空间开销，但同时也增加了查询成本（在大多数 HashMap 类的操作中，包括 get 和 put 操作，都反映了这一点）。在设置初始容量时应该考虑到映射中所需的条目数及其加载因子，以便最大限度地减少 rehash 操作次数。如果初始容量大于最大条目数除以加载因子，则不会发生 rehash 操作。\n```\nfinal Node<K,V>[] resize() {\n    Node<K,V>[] oldTab = table;\n    int oldCap = (oldTab == null) ? 0 : oldTab.length;\n    int oldThr = threshold;\n    int newCap, newThr = 0;\n    if (oldCap > 0) {\n        if (oldCap >= MAXIMUM_CAPACITY) {\n            threshold = Integer.MAX_VALUE;\n            return oldTab;\n        }\n        else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n                 oldCap >= DEFAULT_INITIAL_CAPACITY)\n            newThr = oldThr << 1; // double threshold\n    }\n    else if (oldThr > 0) // initial capacity was placed in threshold\n        newCap = oldThr;\n    else {               // zero initial threshold signifies using defaults\n        newCap = DEFAULT_INITIAL_CAPACITY;\n        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n    }\n    if (newThr == 0) {\n        float ft = (float)newCap * loadFactor;\n        newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                  (int)ft : Integer.MAX_VALUE);\n    }\n    threshold = newThr;\n    @SuppressWarnings({\"rawtypes\",\"unchecked\"})\n        Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n    table = newTab;\n    if (oldTab != null) {\n        for (int j = 0; j < oldCap; ++j) {\n            Node<K,V> e;\n            if ((e = oldTab[j]) != null) {\n                oldTab[j] = null;\n                if (e.next == null)\n                    newTab[e.hash & (newCap - 1)] = e;\n                else if (e instanceof TreeNode)\n                    ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                else { // preserve order\n                    Node<K,V> loHead = null, loTail = null;\n                    Node<K,V> hiHead = null, hiTail = null;\n                    Node<K,V> next;\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldCap) == 0) {\n                            if (loTail == null)\n                                loHead = e;\n                            else\n                                loTail.next = e;\n                            loTail = e;\n                        }\n                        else {\n                            if (hiTail == null)\n                                hiHead = e;\n                            else\n                                hiTail.next = e;\n                            hiTail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (loTail != null) {\n                        loTail.next = null;\n                        newTab[j] = loHead;\n                    }\n                    if (hiTail != null) {\n                        hiTail.next = null;\n                        newTab[j + oldCap] = hiHead;\n                    }\n                }\n            }\n        }\n    }\n    return newTab;\n}\n```\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5162956&auto=1&height=66\"></iframe>\n\n## 参考资料\n* jdk8api\n* jdk源码","source":"_posts/hashmap.md","raw":"---\ntitle: hashmap 源码分析\ndate: 2017-03-07 21:49:49\ntags: [算法, hash, java]\n---\n\n## 前言\n我发现了，写博客什么的最有意思的时候还是写前言来的开心。反正就是瞎嗨为什么动笔。为什么写这个是因为今天面试的时候问当了下面这段代码中构造函数中的参数数是干嘛用的，问这个问题我当时很羞愧，其实有的时候自己也会去问为什么有这么多构造函数，具体应用场景是什么，然后就是没有刨根问底的精神。现在我就来刨根问底下也不晚吧，😂\n\n## 所问代码\n可以看到构造函数中都可以传入参数\n![HashMap构造函数](hashmap/gouzao.png)\n* threshold：阈值，用于判断是否需要调整容量。threshold的值=”容量*加载因子”\n* loadFactor：加载因子，通常设为0.75\n\n## HashMap源代码为例子分析\nJava.util.Hashtable类实现了JAVA中的哈希表，内部采用Node[]数组，每个Node均可作为链表的头，用来解决哈希碰撞。\n\n## 特点\n* 基于哈希表的 Map 接口的实现。\n* 允许使用 null 值和 null 键。\n* 此类不保证映射的顺序。\n\n## Node类 源码\n```\nstatic class Node<K,V> implements Map.Entry<K,V> {\n    final int hash;\n    final K key;\n    V value;\n    Node<K,V> next;\n\n    Node(int hash, K key, V value, Node<K,V> next) {\n        this.hash = hash;\n        this.key = key;\n        this.value = value;\n        this.next = next;\n    }\n\n    public final K getKey()        { return key; }\n    public final V getValue()      { return value; }\n    public final String toString() { return key + \"=\" + value; }\n\n    public final int hashCode() {\n        return Objects.hashCode(key) ^ Objects.hashCode(value);\n    }\n\n    public final V setValue(V newValue) {\n        V oldValue = value;\n        value = newValue;\n        return oldValue;\n    }\n\n    public final boolean equals(Object o) {\n        if (o == this)\n            return true;\n        if (o instanceof Map.Entry) {\n            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n            if (Objects.equals(key, e.getKey()) &&\n                Objects.equals(value, e.getValue()))\n                return true;\n        }\n        return false;\n    }\n}\n```\n<!--more-->\n\n## 构造函数\n```\n public HashMap(int initialCapacity) {\n    this(initialCapacity, DEFAULT_LOAD_FACTOR);\n}\n\n/**\n * Constructs an empty <tt>HashMap</tt> with the default initial capacity\n * (16) and the default load factor (0.75).\n */\npublic HashMap() {\n    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\n}\n\n/**\n * Constructs a new <tt>HashMap</tt> with the same mappings as the\n * specified <tt>Map</tt>.  The <tt>HashMap</tt> is created with\n * default load factor (0.75) and an initial capacity sufficient to\n * hold the mappings in the specified <tt>Map</tt>.\n *\n * @param   m the map whose mappings are to be placed in this map\n * @throws  NullPointerException if the specified map is null\n */\npublic HashMap(Map<? extends K, ? extends V> m) {\n    this.loadFactor = DEFAULT_LOAD_FACTOR;\n    putMapEntries(m, false);\n}\n```\n\n## 扩容\n通常，默认加载因子 (.75) 在时间和空间成本上寻求一种折衷。加载因子过高虽然减少了空间开销，但同时也增加了查询成本（在大多数 HashMap 类的操作中，包括 get 和 put 操作，都反映了这一点）。在设置初始容量时应该考虑到映射中所需的条目数及其加载因子，以便最大限度地减少 rehash 操作次数。如果初始容量大于最大条目数除以加载因子，则不会发生 rehash 操作。\n```\nfinal Node<K,V>[] resize() {\n    Node<K,V>[] oldTab = table;\n    int oldCap = (oldTab == null) ? 0 : oldTab.length;\n    int oldThr = threshold;\n    int newCap, newThr = 0;\n    if (oldCap > 0) {\n        if (oldCap >= MAXIMUM_CAPACITY) {\n            threshold = Integer.MAX_VALUE;\n            return oldTab;\n        }\n        else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n                 oldCap >= DEFAULT_INITIAL_CAPACITY)\n            newThr = oldThr << 1; // double threshold\n    }\n    else if (oldThr > 0) // initial capacity was placed in threshold\n        newCap = oldThr;\n    else {               // zero initial threshold signifies using defaults\n        newCap = DEFAULT_INITIAL_CAPACITY;\n        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n    }\n    if (newThr == 0) {\n        float ft = (float)newCap * loadFactor;\n        newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                  (int)ft : Integer.MAX_VALUE);\n    }\n    threshold = newThr;\n    @SuppressWarnings({\"rawtypes\",\"unchecked\"})\n        Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n    table = newTab;\n    if (oldTab != null) {\n        for (int j = 0; j < oldCap; ++j) {\n            Node<K,V> e;\n            if ((e = oldTab[j]) != null) {\n                oldTab[j] = null;\n                if (e.next == null)\n                    newTab[e.hash & (newCap - 1)] = e;\n                else if (e instanceof TreeNode)\n                    ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                else { // preserve order\n                    Node<K,V> loHead = null, loTail = null;\n                    Node<K,V> hiHead = null, hiTail = null;\n                    Node<K,V> next;\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldCap) == 0) {\n                            if (loTail == null)\n                                loHead = e;\n                            else\n                                loTail.next = e;\n                            loTail = e;\n                        }\n                        else {\n                            if (hiTail == null)\n                                hiHead = e;\n                            else\n                                hiTail.next = e;\n                            hiTail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (loTail != null) {\n                        loTail.next = null;\n                        newTab[j] = loHead;\n                    }\n                    if (hiTail != null) {\n                        hiTail.next = null;\n                        newTab[j + oldCap] = hiHead;\n                    }\n                }\n            }\n        }\n    }\n    return newTab;\n}\n```\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5162956&auto=1&height=66\"></iframe>\n\n## 参考资料\n* jdk8api\n* jdk源码","slug":"hashmap","published":1,"updated":"2017-03-11T12:25:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ud8000wffcaah4ho3m9","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>我发现了，写博客什么的最有意思的时候还是写前言来的开心。反正就是瞎嗨为什么动笔。为什么写这个是因为今天面试的时候问当了下面这段代码中构造函数中的参数数是干嘛用的，问这个问题我当时很羞愧，其实有的时候自己也会去问为什么有这么多构造函数，具体应用场景是什么，然后就是没有刨根问底的精神。现在我就来刨根问底下也不晚吧，😂</p>\n<h2 id=\"所问代码\"><a href=\"#所问代码\" class=\"headerlink\" title=\"所问代码\"></a>所问代码</h2><p>可以看到构造函数中都可以传入参数<br><img src=\"/2017/03/07/hashmap/gouzao.png\" alt=\"HashMap构造函数\"></p>\n<ul>\n<li>threshold：阈值，用于判断是否需要调整容量。threshold的值=”容量*加载因子”</li>\n<li>loadFactor：加载因子，通常设为0.75</li>\n</ul>\n<h2 id=\"HashMap源代码为例子分析\"><a href=\"#HashMap源代码为例子分析\" class=\"headerlink\" title=\"HashMap源代码为例子分析\"></a>HashMap源代码为例子分析</h2><p>Java.util.Hashtable类实现了JAVA中的哈希表，内部采用Node[]数组，每个Node均可作为链表的头，用来解决哈希碰撞。</p>\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>基于哈希表的 Map 接口的实现。</li>\n<li>允许使用 null 值和 null 键。</li>\n<li>此类不保证映射的顺序。</li>\n</ul>\n<h2 id=\"Node类-源码\"><a href=\"#Node类-源码\" class=\"headerlink\" title=\"Node类 源码\"></a>Node类 源码</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123;</div><div class=\"line\">    final int hash;</div><div class=\"line\">    final K key;</div><div class=\"line\">    V value;</div><div class=\"line\">    Node&lt;K,V&gt; next;</div><div class=\"line\"></div><div class=\"line\">    Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;</div><div class=\"line\">        this.hash = hash;</div><div class=\"line\">        this.key = key;</div><div class=\"line\">        this.value = value;</div><div class=\"line\">        this.next = next;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public final K getKey()        &#123; return key; &#125;</div><div class=\"line\">    public final V getValue()      &#123; return value; &#125;</div><div class=\"line\">    public final String toString() &#123; return key + &quot;=&quot; + value; &#125;</div><div class=\"line\"></div><div class=\"line\">    public final int hashCode() &#123;</div><div class=\"line\">        return Objects.hashCode(key) ^ Objects.hashCode(value);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public final V setValue(V newValue) &#123;</div><div class=\"line\">        V oldValue = value;</div><div class=\"line\">        value = newValue;</div><div class=\"line\">        return oldValue;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public final boolean equals(Object o) &#123;</div><div class=\"line\">        if (o == this)</div><div class=\"line\">            return true;</div><div class=\"line\">        if (o instanceof Map.Entry) &#123;</div><div class=\"line\">            Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</div><div class=\"line\">            if (Objects.equals(key, e.getKey()) &amp;&amp;</div><div class=\"line\">                Objects.equals(value, e.getValue()))</div><div class=\"line\">                return true;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"构造函数\"><a href=\"#构造函数\" class=\"headerlink\" title=\"构造函数\"></a>构造函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"> public HashMap(int initialCapacity) &#123;</div><div class=\"line\">    this(initialCapacity, DEFAULT_LOAD_FACTOR);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the default initial capacity</div><div class=\"line\"> * (16) and the default load factor (0.75).</div><div class=\"line\"> */</div><div class=\"line\">public HashMap() &#123;</div><div class=\"line\">    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Constructs a new &lt;tt&gt;HashMap&lt;/tt&gt; with the same mappings as the</div><div class=\"line\"> * specified &lt;tt&gt;Map&lt;/tt&gt;.  The &lt;tt&gt;HashMap&lt;/tt&gt; is created with</div><div class=\"line\"> * default load factor (0.75) and an initial capacity sufficient to</div><div class=\"line\"> * hold the mappings in the specified &lt;tt&gt;Map&lt;/tt&gt;.</div><div class=\"line\"> *</div><div class=\"line\"> * @param   m the map whose mappings are to be placed in this map</div><div class=\"line\"> * @throws  NullPointerException if the specified map is null</div><div class=\"line\"> */</div><div class=\"line\">public HashMap(Map&lt;? extends K, ? extends V&gt; m) &#123;</div><div class=\"line\">    this.loadFactor = DEFAULT_LOAD_FACTOR;</div><div class=\"line\">    putMapEntries(m, false);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"扩容\"><a href=\"#扩容\" class=\"headerlink\" title=\"扩容\"></a>扩容</h2><p>通常，默认加载因子 (.75) 在时间和空间成本上寻求一种折衷。加载因子过高虽然减少了空间开销，但同时也增加了查询成本（在大多数 HashMap 类的操作中，包括 get 和 put 操作，都反映了这一点）。在设置初始容量时应该考虑到映射中所需的条目数及其加载因子，以便最大限度地减少 rehash 操作次数。如果初始容量大于最大条目数除以加载因子，则不会发生 rehash 操作。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div></pre></td><td class=\"code\"><pre><div class=\"line\">final Node&lt;K,V&gt;[] resize() &#123;</div><div class=\"line\">    Node&lt;K,V&gt;[] oldTab = table;</div><div class=\"line\">    int oldCap = (oldTab == null) ? 0 : oldTab.length;</div><div class=\"line\">    int oldThr = threshold;</div><div class=\"line\">    int newCap, newThr = 0;</div><div class=\"line\">    if (oldCap &gt; 0) &#123;</div><div class=\"line\">        if (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</div><div class=\"line\">            threshold = Integer.MAX_VALUE;</div><div class=\"line\">            return oldTab;</div><div class=\"line\">        &#125;</div><div class=\"line\">        else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp;</div><div class=\"line\">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</div><div class=\"line\">            newThr = oldThr &lt;&lt; 1; // double threshold</div><div class=\"line\">    &#125;</div><div class=\"line\">    else if (oldThr &gt; 0) // initial capacity was placed in threshold</div><div class=\"line\">        newCap = oldThr;</div><div class=\"line\">    else &#123;               // zero initial threshold signifies using defaults</div><div class=\"line\">        newCap = DEFAULT_INITIAL_CAPACITY;</div><div class=\"line\">        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</div><div class=\"line\">    &#125;</div><div class=\"line\">    if (newThr == 0) &#123;</div><div class=\"line\">        float ft = (float)newCap * loadFactor;</div><div class=\"line\">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ?</div><div class=\"line\">                  (int)ft : Integer.MAX_VALUE);</div><div class=\"line\">    &#125;</div><div class=\"line\">    threshold = newThr;</div><div class=\"line\">    @SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</div><div class=\"line\">        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap];</div><div class=\"line\">    table = newTab;</div><div class=\"line\">    if (oldTab != null) &#123;</div><div class=\"line\">        for (int j = 0; j &lt; oldCap; ++j) &#123;</div><div class=\"line\">            Node&lt;K,V&gt; e;</div><div class=\"line\">            if ((e = oldTab[j]) != null) &#123;</div><div class=\"line\">                oldTab[j] = null;</div><div class=\"line\">                if (e.next == null)</div><div class=\"line\">                    newTab[e.hash &amp; (newCap - 1)] = e;</div><div class=\"line\">                else if (e instanceof TreeNode)</div><div class=\"line\">                    ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap);</div><div class=\"line\">                else &#123; // preserve order</div><div class=\"line\">                    Node&lt;K,V&gt; loHead = null, loTail = null;</div><div class=\"line\">                    Node&lt;K,V&gt; hiHead = null, hiTail = null;</div><div class=\"line\">                    Node&lt;K,V&gt; next;</div><div class=\"line\">                    do &#123;</div><div class=\"line\">                        next = e.next;</div><div class=\"line\">                        if ((e.hash &amp; oldCap) == 0) &#123;</div><div class=\"line\">                            if (loTail == null)</div><div class=\"line\">                                loHead = e;</div><div class=\"line\">                            else</div><div class=\"line\">                                loTail.next = e;</div><div class=\"line\">                            loTail = e;</div><div class=\"line\">                        &#125;</div><div class=\"line\">                        else &#123;</div><div class=\"line\">                            if (hiTail == null)</div><div class=\"line\">                                hiHead = e;</div><div class=\"line\">                            else</div><div class=\"line\">                                hiTail.next = e;</div><div class=\"line\">                            hiTail = e;</div><div class=\"line\">                        &#125;</div><div class=\"line\">                    &#125; while ((e = next) != null);</div><div class=\"line\">                    if (loTail != null) &#123;</div><div class=\"line\">                        loTail.next = null;</div><div class=\"line\">                        newTab[j] = loHead;</div><div class=\"line\">                    &#125;</div><div class=\"line\">                    if (hiTail != null) &#123;</div><div class=\"line\">                        hiTail.next = null;</div><div class=\"line\">                        newTab[j + oldCap] = hiHead;</div><div class=\"line\">                    &#125;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    return newTab;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5162956&auto=1&height=66\"></iframe>\n\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li>jdk8api</li>\n<li>jdk源码</li>\n</ul>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>我发现了，写博客什么的最有意思的时候还是写前言来的开心。反正就是瞎嗨为什么动笔。为什么写这个是因为今天面试的时候问当了下面这段代码中构造函数中的参数数是干嘛用的，问这个问题我当时很羞愧，其实有的时候自己也会去问为什么有这么多构造函数，具体应用场景是什么，然后就是没有刨根问底的精神。现在我就来刨根问底下也不晚吧，😂</p>\n<h2 id=\"所问代码\"><a href=\"#所问代码\" class=\"headerlink\" title=\"所问代码\"></a>所问代码</h2><p>可以看到构造函数中都可以传入参数<br><img src=\"/2017/03/07/hashmap/gouzao.png\" alt=\"HashMap构造函数\"></p>\n<ul>\n<li>threshold：阈值，用于判断是否需要调整容量。threshold的值=”容量*加载因子”</li>\n<li>loadFactor：加载因子，通常设为0.75</li>\n</ul>\n<h2 id=\"HashMap源代码为例子分析\"><a href=\"#HashMap源代码为例子分析\" class=\"headerlink\" title=\"HashMap源代码为例子分析\"></a>HashMap源代码为例子分析</h2><p>Java.util.Hashtable类实现了JAVA中的哈希表，内部采用Node[]数组，每个Node均可作为链表的头，用来解决哈希碰撞。</p>\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>基于哈希表的 Map 接口的实现。</li>\n<li>允许使用 null 值和 null 键。</li>\n<li>此类不保证映射的顺序。</li>\n</ul>\n<h2 id=\"Node类-源码\"><a href=\"#Node类-源码\" class=\"headerlink\" title=\"Node类 源码\"></a>Node类 源码</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123;</div><div class=\"line\">    final int hash;</div><div class=\"line\">    final K key;</div><div class=\"line\">    V value;</div><div class=\"line\">    Node&lt;K,V&gt; next;</div><div class=\"line\"></div><div class=\"line\">    Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;</div><div class=\"line\">        this.hash = hash;</div><div class=\"line\">        this.key = key;</div><div class=\"line\">        this.value = value;</div><div class=\"line\">        this.next = next;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public final K getKey()        &#123; return key; &#125;</div><div class=\"line\">    public final V getValue()      &#123; return value; &#125;</div><div class=\"line\">    public final String toString() &#123; return key + &quot;=&quot; + value; &#125;</div><div class=\"line\"></div><div class=\"line\">    public final int hashCode() &#123;</div><div class=\"line\">        return Objects.hashCode(key) ^ Objects.hashCode(value);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public final V setValue(V newValue) &#123;</div><div class=\"line\">        V oldValue = value;</div><div class=\"line\">        value = newValue;</div><div class=\"line\">        return oldValue;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public final boolean equals(Object o) &#123;</div><div class=\"line\">        if (o == this)</div><div class=\"line\">            return true;</div><div class=\"line\">        if (o instanceof Map.Entry) &#123;</div><div class=\"line\">            Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</div><div class=\"line\">            if (Objects.equals(key, e.getKey()) &amp;&amp;</div><div class=\"line\">                Objects.equals(value, e.getValue()))</div><div class=\"line\">                return true;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","more":"<h2 id=\"构造函数\"><a href=\"#构造函数\" class=\"headerlink\" title=\"构造函数\"></a>构造函数</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"> public HashMap(int initialCapacity) &#123;</div><div class=\"line\">    this(initialCapacity, DEFAULT_LOAD_FACTOR);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the default initial capacity</div><div class=\"line\"> * (16) and the default load factor (0.75).</div><div class=\"line\"> */</div><div class=\"line\">public HashMap() &#123;</div><div class=\"line\">    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Constructs a new &lt;tt&gt;HashMap&lt;/tt&gt; with the same mappings as the</div><div class=\"line\"> * specified &lt;tt&gt;Map&lt;/tt&gt;.  The &lt;tt&gt;HashMap&lt;/tt&gt; is created with</div><div class=\"line\"> * default load factor (0.75) and an initial capacity sufficient to</div><div class=\"line\"> * hold the mappings in the specified &lt;tt&gt;Map&lt;/tt&gt;.</div><div class=\"line\"> *</div><div class=\"line\"> * @param   m the map whose mappings are to be placed in this map</div><div class=\"line\"> * @throws  NullPointerException if the specified map is null</div><div class=\"line\"> */</div><div class=\"line\">public HashMap(Map&lt;? extends K, ? extends V&gt; m) &#123;</div><div class=\"line\">    this.loadFactor = DEFAULT_LOAD_FACTOR;</div><div class=\"line\">    putMapEntries(m, false);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"扩容\"><a href=\"#扩容\" class=\"headerlink\" title=\"扩容\"></a>扩容</h2><p>通常，默认加载因子 (.75) 在时间和空间成本上寻求一种折衷。加载因子过高虽然减少了空间开销，但同时也增加了查询成本（在大多数 HashMap 类的操作中，包括 get 和 put 操作，都反映了这一点）。在设置初始容量时应该考虑到映射中所需的条目数及其加载因子，以便最大限度地减少 rehash 操作次数。如果初始容量大于最大条目数除以加载因子，则不会发生 rehash 操作。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div></pre></td><td class=\"code\"><pre><div class=\"line\">final Node&lt;K,V&gt;[] resize() &#123;</div><div class=\"line\">    Node&lt;K,V&gt;[] oldTab = table;</div><div class=\"line\">    int oldCap = (oldTab == null) ? 0 : oldTab.length;</div><div class=\"line\">    int oldThr = threshold;</div><div class=\"line\">    int newCap, newThr = 0;</div><div class=\"line\">    if (oldCap &gt; 0) &#123;</div><div class=\"line\">        if (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</div><div class=\"line\">            threshold = Integer.MAX_VALUE;</div><div class=\"line\">            return oldTab;</div><div class=\"line\">        &#125;</div><div class=\"line\">        else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp;</div><div class=\"line\">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</div><div class=\"line\">            newThr = oldThr &lt;&lt; 1; // double threshold</div><div class=\"line\">    &#125;</div><div class=\"line\">    else if (oldThr &gt; 0) // initial capacity was placed in threshold</div><div class=\"line\">        newCap = oldThr;</div><div class=\"line\">    else &#123;               // zero initial threshold signifies using defaults</div><div class=\"line\">        newCap = DEFAULT_INITIAL_CAPACITY;</div><div class=\"line\">        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</div><div class=\"line\">    &#125;</div><div class=\"line\">    if (newThr == 0) &#123;</div><div class=\"line\">        float ft = (float)newCap * loadFactor;</div><div class=\"line\">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ?</div><div class=\"line\">                  (int)ft : Integer.MAX_VALUE);</div><div class=\"line\">    &#125;</div><div class=\"line\">    threshold = newThr;</div><div class=\"line\">    @SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</div><div class=\"line\">        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap];</div><div class=\"line\">    table = newTab;</div><div class=\"line\">    if (oldTab != null) &#123;</div><div class=\"line\">        for (int j = 0; j &lt; oldCap; ++j) &#123;</div><div class=\"line\">            Node&lt;K,V&gt; e;</div><div class=\"line\">            if ((e = oldTab[j]) != null) &#123;</div><div class=\"line\">                oldTab[j] = null;</div><div class=\"line\">                if (e.next == null)</div><div class=\"line\">                    newTab[e.hash &amp; (newCap - 1)] = e;</div><div class=\"line\">                else if (e instanceof TreeNode)</div><div class=\"line\">                    ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap);</div><div class=\"line\">                else &#123; // preserve order</div><div class=\"line\">                    Node&lt;K,V&gt; loHead = null, loTail = null;</div><div class=\"line\">                    Node&lt;K,V&gt; hiHead = null, hiTail = null;</div><div class=\"line\">                    Node&lt;K,V&gt; next;</div><div class=\"line\">                    do &#123;</div><div class=\"line\">                        next = e.next;</div><div class=\"line\">                        if ((e.hash &amp; oldCap) == 0) &#123;</div><div class=\"line\">                            if (loTail == null)</div><div class=\"line\">                                loHead = e;</div><div class=\"line\">                            else</div><div class=\"line\">                                loTail.next = e;</div><div class=\"line\">                            loTail = e;</div><div class=\"line\">                        &#125;</div><div class=\"line\">                        else &#123;</div><div class=\"line\">                            if (hiTail == null)</div><div class=\"line\">                                hiHead = e;</div><div class=\"line\">                            else</div><div class=\"line\">                                hiTail.next = e;</div><div class=\"line\">                            hiTail = e;</div><div class=\"line\">                        &#125;</div><div class=\"line\">                    &#125; while ((e = next) != null);</div><div class=\"line\">                    if (loTail != null) &#123;</div><div class=\"line\">                        loTail.next = null;</div><div class=\"line\">                        newTab[j] = loHead;</div><div class=\"line\">                    &#125;</div><div class=\"line\">                    if (hiTail != null) &#123;</div><div class=\"line\">                        hiTail.next = null;</div><div class=\"line\">                        newTab[j + oldCap] = hiHead;</div><div class=\"line\">                    &#125;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    return newTab;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5162956&auto=1&height=66\"></iframe>\n\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li>jdk8api</li>\n<li>jdk源码</li>\n</ul>"},{"title":"java 面试遇到的问题","date":"2017-02-28T04:56:15.000Z","_content":"\n前言：突然发现我现在写blog喜欢写些原因，最近有可能是在图书馆听着民谣，效率更高吧。我写这个就是想着把自己面试遇到的一些小问题整理下，方便自己以后看看，以方便以后别人面试的时候遇到。\n\n## java 初始化块、静态初始化块、构造函数初始化\n[理解Java中的类初始化](https://www.caoqq.net/java-class-initialization.html)\n\n## static 关键字\n* 当声明一个事物为static时，就意味着这个域或方法不会与包含它的类的任何对象实例关联在一起。\n* 即使从未创建某个类的任何对象，也可以调用其static方法或访问其static域\n\n<!--more-->\n\n## equals 和 ==\n在Object中，使用equals方法和使用“==”运算符是完全等价的，不过许多类重写了Object类的equals方法，String类也是如此。重写后比较的是值而不是地址。\n\n注意：\n* String类是不可变的，String类一旦创建久不可改变。\n* String类采用字符串常量池是合理的，因为String是非可变的，即使多个引用指向同一个String对象，也不会导致一份对象改变影响另外的对象。\n* 使用String类的场景：在字符串不经常变化的场景中可以使用String类，例如常量的声明、少量的变量运算。\n* 使用StringBuffer类的场景：在频繁进行字符串运算（如拼接、替换、删除等），并且运行在多线程环境中，则可以考虑使用StringBuffer，例如XML解析、HTTP参数解析和封装。\n* 使用StringBuilder类的场景：在频繁进行字符串运算（如拼接、替换、和删除等），并且运行在单线程的环境中，则可以考虑使用StringBuilder，如SQL语句的拼装、JSON封装等。\n\n## public static void main(String[] args)\n这样定义的原因\n* public main方法在程序启动的时候有jvm调用，所以应声明为public\n* static 静态方法，方法被调用，要么使用对象实例引用访问，要么声明为static，使用类直接调用。main方法声明为static这样就无需生成对象实例，直接使用jvm调用。\n* void 无返回类型\n* String[] args 用户输入参数\n\n## java 8种基本数据类型\n* byte    字节型  8位\n* char    字符型  16位\n* short   短整型  16位\n* int     整型    32位\n* long    长整型  64位\n* float   浮点型  32位\n* double  双浮点型  64位\n* boolean 布尔型    true false\n\n## 包装类 拆装箱问题\njava中的基本数据类型不是对象，因为这些数据使用简便，如果作为对象处理，每次使用都需要在堆上分配空间，然后在不需要的时候由垃圾回收器来清理，会照成很大的资源浪费。\n\n解决的是将基本数据类型和包装类的转换。\n```\nHashMap<String, Integer> map = new HashMap<String, Integer>(); // HashMap<String, int> map = new HashMap<String, int>(); 会报错误\nmap.put(\"test1\", 11);\nmap.put(\"test2\", 12);\n\nfor (Map.Entry<String, Integer> entry : map.entrySet()) {\n    System.out.println(\"key:\" + entry.getKey() + \" value:\" + entry.getValue());\n}\n\nlong t = System.currentTimeMillis();\nLong sum = 0L;\nfor (long i = 0; i < Integer.MAX_VALUE; i++) {\n    sum += i;\n}\nSystem.out.println(\"total:\" + sum);\nSystem.out.println(\"processing time: \" + (System.currentTimeMillis() - t) + \" ms\");\n\nlong t1 = System.currentTimeMillis();\nlong sum1 = 0L;\nfor (long i = 0; i < Integer.MAX_VALUE; i++) {\n    sum1 += i;\n}\nSystem.out.println(\"total:\" + sum1);\nSystem.out.println(\"processing time: \" + (System.currentTimeMillis() - t1) + \" ms\");\n```\n\n## java 流\nInputStream OutputStream 8位 操作二进制数据\nReader Writer 16位 以Unicode字符为单位从stream读取或往stream写入\nInputStreamReader 将InputStream转换为Reader\nOutputStreamWriter 将OutputStream转换为Writer\n1.标准输入输出 2.文件操作 3.网络上数据流 4.字符串流 5.对象流 6.zip文件流\n\n[blog](http://blog.oneapm.com/apm-tech/635.html)\n\n## 参考资料\n《java编程思想》\n《细说java》\n[jdk8](http://docs.oracle.com/javase/8/docs/api/index.html)\n[知乎](https://www.zhihu.com/question/20101840)","source":"_posts/javaPaper.md","raw":"---\ntitle: java 面试遇到的问题\ndate: 2017-02-28 12:56:15\ncategories: java                    #文章文类\ntags: [小章鱼, java, 学习笔记, 面试]\n---\n\n前言：突然发现我现在写blog喜欢写些原因，最近有可能是在图书馆听着民谣，效率更高吧。我写这个就是想着把自己面试遇到的一些小问题整理下，方便自己以后看看，以方便以后别人面试的时候遇到。\n\n## java 初始化块、静态初始化块、构造函数初始化\n[理解Java中的类初始化](https://www.caoqq.net/java-class-initialization.html)\n\n## static 关键字\n* 当声明一个事物为static时，就意味着这个域或方法不会与包含它的类的任何对象实例关联在一起。\n* 即使从未创建某个类的任何对象，也可以调用其static方法或访问其static域\n\n<!--more-->\n\n## equals 和 ==\n在Object中，使用equals方法和使用“==”运算符是完全等价的，不过许多类重写了Object类的equals方法，String类也是如此。重写后比较的是值而不是地址。\n\n注意：\n* String类是不可变的，String类一旦创建久不可改变。\n* String类采用字符串常量池是合理的，因为String是非可变的，即使多个引用指向同一个String对象，也不会导致一份对象改变影响另外的对象。\n* 使用String类的场景：在字符串不经常变化的场景中可以使用String类，例如常量的声明、少量的变量运算。\n* 使用StringBuffer类的场景：在频繁进行字符串运算（如拼接、替换、删除等），并且运行在多线程环境中，则可以考虑使用StringBuffer，例如XML解析、HTTP参数解析和封装。\n* 使用StringBuilder类的场景：在频繁进行字符串运算（如拼接、替换、和删除等），并且运行在单线程的环境中，则可以考虑使用StringBuilder，如SQL语句的拼装、JSON封装等。\n\n## public static void main(String[] args)\n这样定义的原因\n* public main方法在程序启动的时候有jvm调用，所以应声明为public\n* static 静态方法，方法被调用，要么使用对象实例引用访问，要么声明为static，使用类直接调用。main方法声明为static这样就无需生成对象实例，直接使用jvm调用。\n* void 无返回类型\n* String[] args 用户输入参数\n\n## java 8种基本数据类型\n* byte    字节型  8位\n* char    字符型  16位\n* short   短整型  16位\n* int     整型    32位\n* long    长整型  64位\n* float   浮点型  32位\n* double  双浮点型  64位\n* boolean 布尔型    true false\n\n## 包装类 拆装箱问题\njava中的基本数据类型不是对象，因为这些数据使用简便，如果作为对象处理，每次使用都需要在堆上分配空间，然后在不需要的时候由垃圾回收器来清理，会照成很大的资源浪费。\n\n解决的是将基本数据类型和包装类的转换。\n```\nHashMap<String, Integer> map = new HashMap<String, Integer>(); // HashMap<String, int> map = new HashMap<String, int>(); 会报错误\nmap.put(\"test1\", 11);\nmap.put(\"test2\", 12);\n\nfor (Map.Entry<String, Integer> entry : map.entrySet()) {\n    System.out.println(\"key:\" + entry.getKey() + \" value:\" + entry.getValue());\n}\n\nlong t = System.currentTimeMillis();\nLong sum = 0L;\nfor (long i = 0; i < Integer.MAX_VALUE; i++) {\n    sum += i;\n}\nSystem.out.println(\"total:\" + sum);\nSystem.out.println(\"processing time: \" + (System.currentTimeMillis() - t) + \" ms\");\n\nlong t1 = System.currentTimeMillis();\nlong sum1 = 0L;\nfor (long i = 0; i < Integer.MAX_VALUE; i++) {\n    sum1 += i;\n}\nSystem.out.println(\"total:\" + sum1);\nSystem.out.println(\"processing time: \" + (System.currentTimeMillis() - t1) + \" ms\");\n```\n\n## java 流\nInputStream OutputStream 8位 操作二进制数据\nReader Writer 16位 以Unicode字符为单位从stream读取或往stream写入\nInputStreamReader 将InputStream转换为Reader\nOutputStreamWriter 将OutputStream转换为Writer\n1.标准输入输出 2.文件操作 3.网络上数据流 4.字符串流 5.对象流 6.zip文件流\n\n[blog](http://blog.oneapm.com/apm-tech/635.html)\n\n## 参考资料\n《java编程思想》\n《细说java》\n[jdk8](http://docs.oracle.com/javase/8/docs/api/index.html)\n[知乎](https://www.zhihu.com/question/20101840)","slug":"javaPaper","published":1,"updated":"2017-03-02T11:47:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ud9000yffca956ypj96","content":"<p>前言：突然发现我现在写blog喜欢写些原因，最近有可能是在图书馆听着民谣，效率更高吧。我写这个就是想着把自己面试遇到的一些小问题整理下，方便自己以后看看，以方便以后别人面试的时候遇到。</p>\n<h2 id=\"java-初始化块、静态初始化块、构造函数初始化\"><a href=\"#java-初始化块、静态初始化块、构造函数初始化\" class=\"headerlink\" title=\"java 初始化块、静态初始化块、构造函数初始化\"></a>java 初始化块、静态初始化块、构造函数初始化</h2><p><a href=\"https://www.caoqq.net/java-class-initialization.html\" target=\"_blank\" rel=\"external\">理解Java中的类初始化</a></p>\n<h2 id=\"static-关键字\"><a href=\"#static-关键字\" class=\"headerlink\" title=\"static 关键字\"></a>static 关键字</h2><ul>\n<li>当声明一个事物为static时，就意味着这个域或方法不会与包含它的类的任何对象实例关联在一起。</li>\n<li>即使从未创建某个类的任何对象，也可以调用其static方法或访问其static域</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"equals-和\"><a href=\"#equals-和\" class=\"headerlink\" title=\"equals 和 ==\"></a>equals 和 ==</h2><p>在Object中，使用equals方法和使用“==”运算符是完全等价的，不过许多类重写了Object类的equals方法，String类也是如此。重写后比较的是值而不是地址。</p>\n<p>注意：</p>\n<ul>\n<li>String类是不可变的，String类一旦创建久不可改变。</li>\n<li>String类采用字符串常量池是合理的，因为String是非可变的，即使多个引用指向同一个String对象，也不会导致一份对象改变影响另外的对象。</li>\n<li>使用String类的场景：在字符串不经常变化的场景中可以使用String类，例如常量的声明、少量的变量运算。</li>\n<li>使用StringBuffer类的场景：在频繁进行字符串运算（如拼接、替换、删除等），并且运行在多线程环境中，则可以考虑使用StringBuffer，例如XML解析、HTTP参数解析和封装。</li>\n<li>使用StringBuilder类的场景：在频繁进行字符串运算（如拼接、替换、和删除等），并且运行在单线程的环境中，则可以考虑使用StringBuilder，如SQL语句的拼装、JSON封装等。</li>\n</ul>\n<h2 id=\"public-static-void-main-String-args\"><a href=\"#public-static-void-main-String-args\" class=\"headerlink\" title=\"public static void main(String[] args)\"></a>public static void main(String[] args)</h2><p>这样定义的原因</p>\n<ul>\n<li>public main方法在程序启动的时候有jvm调用，所以应声明为public</li>\n<li>static 静态方法，方法被调用，要么使用对象实例引用访问，要么声明为static，使用类直接调用。main方法声明为static这样就无需生成对象实例，直接使用jvm调用。</li>\n<li>void 无返回类型</li>\n<li>String[] args 用户输入参数</li>\n</ul>\n<h2 id=\"java-8种基本数据类型\"><a href=\"#java-8种基本数据类型\" class=\"headerlink\" title=\"java 8种基本数据类型\"></a>java 8种基本数据类型</h2><ul>\n<li>byte    字节型  8位</li>\n<li>char    字符型  16位</li>\n<li>short   短整型  16位</li>\n<li>int     整型    32位</li>\n<li>long    长整型  64位</li>\n<li>float   浮点型  32位</li>\n<li>double  双浮点型  64位</li>\n<li>boolean 布尔型    true false</li>\n</ul>\n<h2 id=\"包装类-拆装箱问题\"><a href=\"#包装类-拆装箱问题\" class=\"headerlink\" title=\"包装类 拆装箱问题\"></a>包装类 拆装箱问题</h2><p>java中的基本数据类型不是对象，因为这些数据使用简便，如果作为对象处理，每次使用都需要在堆上分配空间，然后在不需要的时候由垃圾回收器来清理，会照成很大的资源浪费。</p>\n<p>解决的是将基本数据类型和包装类的转换。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;(); // HashMap&lt;String, int&gt; map = new HashMap&lt;String, int&gt;(); 会报错误</div><div class=\"line\">map.put(&quot;test1&quot;, 11);</div><div class=\"line\">map.put(&quot;test2&quot;, 12);</div><div class=\"line\"></div><div class=\"line\">for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</div><div class=\"line\">    System.out.println(&quot;key:&quot; + entry.getKey() + &quot; value:&quot; + entry.getValue());</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">long t = System.currentTimeMillis();</div><div class=\"line\">Long sum = 0L;</div><div class=\"line\">for (long i = 0; i &lt; Integer.MAX_VALUE; i++) &#123;</div><div class=\"line\">    sum += i;</div><div class=\"line\">&#125;</div><div class=\"line\">System.out.println(&quot;total:&quot; + sum);</div><div class=\"line\">System.out.println(&quot;processing time: &quot; + (System.currentTimeMillis() - t) + &quot; ms&quot;);</div><div class=\"line\"></div><div class=\"line\">long t1 = System.currentTimeMillis();</div><div class=\"line\">long sum1 = 0L;</div><div class=\"line\">for (long i = 0; i &lt; Integer.MAX_VALUE; i++) &#123;</div><div class=\"line\">    sum1 += i;</div><div class=\"line\">&#125;</div><div class=\"line\">System.out.println(&quot;total:&quot; + sum1);</div><div class=\"line\">System.out.println(&quot;processing time: &quot; + (System.currentTimeMillis() - t1) + &quot; ms&quot;);</div></pre></td></tr></table></figure></p>\n<h2 id=\"java-流\"><a href=\"#java-流\" class=\"headerlink\" title=\"java 流\"></a>java 流</h2><p>InputStream OutputStream 8位 操作二进制数据<br>Reader Writer 16位 以Unicode字符为单位从stream读取或往stream写入<br>InputStreamReader 将InputStream转换为Reader<br>OutputStreamWriter 将OutputStream转换为Writer<br>1.标准输入输出 2.文件操作 3.网络上数据流 4.字符串流 5.对象流 6.zip文件流</p>\n<p><a href=\"http://blog.oneapm.com/apm-tech/635.html\" target=\"_blank\" rel=\"external\">blog</a></p>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p>《java编程思想》<br>《细说java》<br><a href=\"http://docs.oracle.com/javase/8/docs/api/index.html\" target=\"_blank\" rel=\"external\">jdk8</a><br><a href=\"https://www.zhihu.com/question/20101840\" target=\"_blank\" rel=\"external\">知乎</a></p>\n","excerpt":"<p>前言：突然发现我现在写blog喜欢写些原因，最近有可能是在图书馆听着民谣，效率更高吧。我写这个就是想着把自己面试遇到的一些小问题整理下，方便自己以后看看，以方便以后别人面试的时候遇到。</p>\n<h2 id=\"java-初始化块、静态初始化块、构造函数初始化\"><a href=\"#java-初始化块、静态初始化块、构造函数初始化\" class=\"headerlink\" title=\"java 初始化块、静态初始化块、构造函数初始化\"></a>java 初始化块、静态初始化块、构造函数初始化</h2><p><a href=\"https://www.caoqq.net/java-class-initialization.html\">理解Java中的类初始化</a></p>\n<h2 id=\"static-关键字\"><a href=\"#static-关键字\" class=\"headerlink\" title=\"static 关键字\"></a>static 关键字</h2><ul>\n<li>当声明一个事物为static时，就意味着这个域或方法不会与包含它的类的任何对象实例关联在一起。</li>\n<li>即使从未创建某个类的任何对象，也可以调用其static方法或访问其static域</li>\n</ul>","more":"<h2 id=\"equals-和\"><a href=\"#equals-和\" class=\"headerlink\" title=\"equals 和 ==\"></a>equals 和 ==</h2><p>在Object中，使用equals方法和使用“==”运算符是完全等价的，不过许多类重写了Object类的equals方法，String类也是如此。重写后比较的是值而不是地址。</p>\n<p>注意：</p>\n<ul>\n<li>String类是不可变的，String类一旦创建久不可改变。</li>\n<li>String类采用字符串常量池是合理的，因为String是非可变的，即使多个引用指向同一个String对象，也不会导致一份对象改变影响另外的对象。</li>\n<li>使用String类的场景：在字符串不经常变化的场景中可以使用String类，例如常量的声明、少量的变量运算。</li>\n<li>使用StringBuffer类的场景：在频繁进行字符串运算（如拼接、替换、删除等），并且运行在多线程环境中，则可以考虑使用StringBuffer，例如XML解析、HTTP参数解析和封装。</li>\n<li>使用StringBuilder类的场景：在频繁进行字符串运算（如拼接、替换、和删除等），并且运行在单线程的环境中，则可以考虑使用StringBuilder，如SQL语句的拼装、JSON封装等。</li>\n</ul>\n<h2 id=\"public-static-void-main-String-args\"><a href=\"#public-static-void-main-String-args\" class=\"headerlink\" title=\"public static void main(String[] args)\"></a>public static void main(String[] args)</h2><p>这样定义的原因</p>\n<ul>\n<li>public main方法在程序启动的时候有jvm调用，所以应声明为public</li>\n<li>static 静态方法，方法被调用，要么使用对象实例引用访问，要么声明为static，使用类直接调用。main方法声明为static这样就无需生成对象实例，直接使用jvm调用。</li>\n<li>void 无返回类型</li>\n<li>String[] args 用户输入参数</li>\n</ul>\n<h2 id=\"java-8种基本数据类型\"><a href=\"#java-8种基本数据类型\" class=\"headerlink\" title=\"java 8种基本数据类型\"></a>java 8种基本数据类型</h2><ul>\n<li>byte    字节型  8位</li>\n<li>char    字符型  16位</li>\n<li>short   短整型  16位</li>\n<li>int     整型    32位</li>\n<li>long    长整型  64位</li>\n<li>float   浮点型  32位</li>\n<li>double  双浮点型  64位</li>\n<li>boolean 布尔型    true false</li>\n</ul>\n<h2 id=\"包装类-拆装箱问题\"><a href=\"#包装类-拆装箱问题\" class=\"headerlink\" title=\"包装类 拆装箱问题\"></a>包装类 拆装箱问题</h2><p>java中的基本数据类型不是对象，因为这些数据使用简便，如果作为对象处理，每次使用都需要在堆上分配空间，然后在不需要的时候由垃圾回收器来清理，会照成很大的资源浪费。</p>\n<p>解决的是将基本数据类型和包装类的转换。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;(); // HashMap&lt;String, int&gt; map = new HashMap&lt;String, int&gt;(); 会报错误</div><div class=\"line\">map.put(&quot;test1&quot;, 11);</div><div class=\"line\">map.put(&quot;test2&quot;, 12);</div><div class=\"line\"></div><div class=\"line\">for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</div><div class=\"line\">    System.out.println(&quot;key:&quot; + entry.getKey() + &quot; value:&quot; + entry.getValue());</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">long t = System.currentTimeMillis();</div><div class=\"line\">Long sum = 0L;</div><div class=\"line\">for (long i = 0; i &lt; Integer.MAX_VALUE; i++) &#123;</div><div class=\"line\">    sum += i;</div><div class=\"line\">&#125;</div><div class=\"line\">System.out.println(&quot;total:&quot; + sum);</div><div class=\"line\">System.out.println(&quot;processing time: &quot; + (System.currentTimeMillis() - t) + &quot; ms&quot;);</div><div class=\"line\"></div><div class=\"line\">long t1 = System.currentTimeMillis();</div><div class=\"line\">long sum1 = 0L;</div><div class=\"line\">for (long i = 0; i &lt; Integer.MAX_VALUE; i++) &#123;</div><div class=\"line\">    sum1 += i;</div><div class=\"line\">&#125;</div><div class=\"line\">System.out.println(&quot;total:&quot; + sum1);</div><div class=\"line\">System.out.println(&quot;processing time: &quot; + (System.currentTimeMillis() - t1) + &quot; ms&quot;);</div></pre></td></tr></table></figure></p>\n<h2 id=\"java-流\"><a href=\"#java-流\" class=\"headerlink\" title=\"java 流\"></a>java 流</h2><p>InputStream OutputStream 8位 操作二进制数据<br>Reader Writer 16位 以Unicode字符为单位从stream读取或往stream写入<br>InputStreamReader 将InputStream转换为Reader<br>OutputStreamWriter 将OutputStream转换为Writer<br>1.标准输入输出 2.文件操作 3.网络上数据流 4.字符串流 5.对象流 6.zip文件流</p>\n<p><a href=\"http://blog.oneapm.com/apm-tech/635.html\">blog</a></p>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p>《java编程思想》<br>《细说java》<br><a href=\"http://docs.oracle.com/javase/8/docs/api/index.html\">jdk8</a><br><a href=\"https://www.zhihu.com/question/20101840\">知乎</a></p>"},{"title":"java 算法 （排序算法 冒泡排序）","date":"2017-02-23T15:02:39.000Z","_content":" \n ## 题外话\n ps:今天真的是被git弄的稀里糊涂了一天，弄到现在还在实验室，我都怀疑自己的认真劲头了😂。\n 以前觉得自己没有做技术的耐性，无法静静的呆在自己的电脑前。那个时候坐在电脑前都会流眼泪，那个时候就对自己说：是的我不合适做技术，然而读研的路上感觉自己的性格改变了很多，不敢说非常踏实，但是目前来说，静静地看着技术文档和书籍，常常能获得快感，就像现在已经过了12点，我在“奋笔疾书”。解决bug的时候有那么一丝丝成就感，不知道是不是自己越来越适合做技术了，感觉自己每天过的越来越充实和快乐，只要今天的自己比昨天的自己更强大。\n\n## 正题\n* 排序算法 分类\n\t* 交换排序\n\t\t* 冒泡排序\n\t\t* 快速排序\n\t* 选择排序\n\t\t* 选择排序\n\t\t* 堆排序\n\t* 插入排序\n\t\t* 插入排序\n\t\t* shell排序\n\t* 合并排序\n\n#### 冒泡排序（Bubble Sort）\n思想：冒泡排序需要遍历多遍数组，在每次遍历🀄比较相邻的元素。较小值像“气泡”一样上浮，较大的值沉向底部。\n步骤：\n* 对数组中的各个数据，依次比较相邻的两个数据大小\n* 如果前面的数据大于后面的数据，就交换两个数据。这样可以找出最小的。\n* 依次用同样的方法，排序。\n时间：$\\dfrac {n\\left( n-1\\right) } {2}=O\\left( n^{2}\\right)$\n\n```\n主要代码：\npackage sort;\n\nimport UtilAlgorithm.Main;\nimport UtilAlgorithm.Util;\n\n/**\n * Created by xiezhanghua on 2017/2/23.\n */\npublic class Sort {\n    public static int[] bubleSort(int[] arr) {\n        System.out.println(\"冒泡排序前的数组为：\");\n        for (int i : arr) {\n            System.out.print(i + \" \");\n        }\n\n        for (int i = 1; i < arr.length; i++) {\n            for (int j = 0; j < arr.length - i; j++) {\n                if (arr[j] > arr[j + 1]) {\n                    int temp = arr[j];\n                    arr[j] = arr[j + 1];\n                    arr[j + 1] = temp;\n                }\n            }\n        }\n        System.out.println(\"\");\n        System.out.println(\"冒泡排序后的数组为：\");\n        for (int i : arr) {\n            System.out.print(i + \" \");\n        }\n        return arr;\n    }\n}\n```\n\n\n ## 参考书籍和链接\n 《java 常用算法手册》\n 《java 语言程序设计》\n","source":"_posts/javahigh.md","raw":"---\ntitle: java 算法 （排序算法 冒泡排序）\ndate: 2017-02-23 23:02:39\ncategories: java                    #文章文类\ntags: [小章鱼, java, 算法]\n---\n \n ## 题外话\n ps:今天真的是被git弄的稀里糊涂了一天，弄到现在还在实验室，我都怀疑自己的认真劲头了😂。\n 以前觉得自己没有做技术的耐性，无法静静的呆在自己的电脑前。那个时候坐在电脑前都会流眼泪，那个时候就对自己说：是的我不合适做技术，然而读研的路上感觉自己的性格改变了很多，不敢说非常踏实，但是目前来说，静静地看着技术文档和书籍，常常能获得快感，就像现在已经过了12点，我在“奋笔疾书”。解决bug的时候有那么一丝丝成就感，不知道是不是自己越来越适合做技术了，感觉自己每天过的越来越充实和快乐，只要今天的自己比昨天的自己更强大。\n\n## 正题\n* 排序算法 分类\n\t* 交换排序\n\t\t* 冒泡排序\n\t\t* 快速排序\n\t* 选择排序\n\t\t* 选择排序\n\t\t* 堆排序\n\t* 插入排序\n\t\t* 插入排序\n\t\t* shell排序\n\t* 合并排序\n\n#### 冒泡排序（Bubble Sort）\n思想：冒泡排序需要遍历多遍数组，在每次遍历🀄比较相邻的元素。较小值像“气泡”一样上浮，较大的值沉向底部。\n步骤：\n* 对数组中的各个数据，依次比较相邻的两个数据大小\n* 如果前面的数据大于后面的数据，就交换两个数据。这样可以找出最小的。\n* 依次用同样的方法，排序。\n时间：$\\dfrac {n\\left( n-1\\right) } {2}=O\\left( n^{2}\\right)$\n\n```\n主要代码：\npackage sort;\n\nimport UtilAlgorithm.Main;\nimport UtilAlgorithm.Util;\n\n/**\n * Created by xiezhanghua on 2017/2/23.\n */\npublic class Sort {\n    public static int[] bubleSort(int[] arr) {\n        System.out.println(\"冒泡排序前的数组为：\");\n        for (int i : arr) {\n            System.out.print(i + \" \");\n        }\n\n        for (int i = 1; i < arr.length; i++) {\n            for (int j = 0; j < arr.length - i; j++) {\n                if (arr[j] > arr[j + 1]) {\n                    int temp = arr[j];\n                    arr[j] = arr[j + 1];\n                    arr[j + 1] = temp;\n                }\n            }\n        }\n        System.out.println(\"\");\n        System.out.println(\"冒泡排序后的数组为：\");\n        for (int i : arr) {\n            System.out.print(i + \" \");\n        }\n        return arr;\n    }\n}\n```\n\n\n ## 参考书籍和链接\n 《java 常用算法手册》\n 《java 语言程序设计》\n","slug":"javahigh","published":1,"updated":"2017-02-23T14:59:05.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udb0010ffcaoq8qanot","content":"<h2 id=\"题外话\"><a href=\"#题外话\" class=\"headerlink\" title=\"题外话\"></a>题外话</h2><p> ps:今天真的是被git弄的稀里糊涂了一天，弄到现在还在实验室，我都怀疑自己的认真劲头了😂。<br> 以前觉得自己没有做技术的耐性，无法静静的呆在自己的电脑前。那个时候坐在电脑前都会流眼泪，那个时候就对自己说：是的我不合适做技术，然而读研的路上感觉自己的性格改变了很多，不敢说非常踏实，但是目前来说，静静地看着技术文档和书籍，常常能获得快感，就像现在已经过了12点，我在“奋笔疾书”。解决bug的时候有那么一丝丝成就感，不知道是不是自己越来越适合做技术了，感觉自己每天过的越来越充实和快乐，只要今天的自己比昨天的自己更强大。</p>\n<h2 id=\"正题\"><a href=\"#正题\" class=\"headerlink\" title=\"正题\"></a>正题</h2><ul>\n<li>排序算法 分类<ul>\n<li>交换排序<ul>\n<li>冒泡排序</li>\n<li>快速排序</li>\n</ul>\n</li>\n<li>选择排序<ul>\n<li>选择排序</li>\n<li>堆排序</li>\n</ul>\n</li>\n<li>插入排序<ul>\n<li>插入排序</li>\n<li>shell排序</li>\n</ul>\n</li>\n<li>合并排序</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"冒泡排序（Bubble-Sort）\"><a href=\"#冒泡排序（Bubble-Sort）\" class=\"headerlink\" title=\"冒泡排序（Bubble Sort）\"></a>冒泡排序（Bubble Sort）</h4><p>思想：冒泡排序需要遍历多遍数组，在每次遍历🀄比较相邻的元素。较小值像“气泡”一样上浮，较大的值沉向底部。<br>步骤：</p>\n<ul>\n<li>对数组中的各个数据，依次比较相邻的两个数据大小</li>\n<li>如果前面的数据大于后面的数据，就交换两个数据。这样可以找出最小的。</li>\n<li>依次用同样的方法，排序。<br>时间：$\\dfrac {n\\left( n-1\\right) } {2}=O\\left( n^{2}\\right)$</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">主要代码：</div><div class=\"line\">package sort;</div><div class=\"line\"></div><div class=\"line\">import UtilAlgorithm.Main;</div><div class=\"line\">import UtilAlgorithm.Util;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/2/23.</div><div class=\"line\"> */</div><div class=\"line\">public class Sort &#123;</div><div class=\"line\">    public static int[] bubleSort(int[] arr) &#123;</div><div class=\"line\">        System.out.println(&quot;冒泡排序前的数组为：&quot;);</div><div class=\"line\">        for (int i : arr) &#123;</div><div class=\"line\">            System.out.print(i + &quot; &quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        for (int i = 1; i &lt; arr.length; i++) &#123;</div><div class=\"line\">            for (int j = 0; j &lt; arr.length - i; j++) &#123;</div><div class=\"line\">                if (arr[j] &gt; arr[j + 1]) &#123;</div><div class=\"line\">                    int temp = arr[j];</div><div class=\"line\">                    arr[j] = arr[j + 1];</div><div class=\"line\">                    arr[j + 1] = temp;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">        System.out.println(&quot;&quot;);</div><div class=\"line\">        System.out.println(&quot;冒泡排序后的数组为：&quot;);</div><div class=\"line\">        for (int i : arr) &#123;</div><div class=\"line\">            System.out.print(i + &quot; &quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\">        return arr;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p> 《java 常用算法手册》<br> 《java 语言程序设计》</p>\n","excerpt":"","more":"<h2 id=\"题外话\"><a href=\"#题外话\" class=\"headerlink\" title=\"题外话\"></a>题外话</h2><p> ps:今天真的是被git弄的稀里糊涂了一天，弄到现在还在实验室，我都怀疑自己的认真劲头了😂。<br> 以前觉得自己没有做技术的耐性，无法静静的呆在自己的电脑前。那个时候坐在电脑前都会流眼泪，那个时候就对自己说：是的我不合适做技术，然而读研的路上感觉自己的性格改变了很多，不敢说非常踏实，但是目前来说，静静地看着技术文档和书籍，常常能获得快感，就像现在已经过了12点，我在“奋笔疾书”。解决bug的时候有那么一丝丝成就感，不知道是不是自己越来越适合做技术了，感觉自己每天过的越来越充实和快乐，只要今天的自己比昨天的自己更强大。</p>\n<h2 id=\"正题\"><a href=\"#正题\" class=\"headerlink\" title=\"正题\"></a>正题</h2><ul>\n<li>排序算法 分类<ul>\n<li>交换排序<ul>\n<li>冒泡排序</li>\n<li>快速排序</li>\n</ul>\n</li>\n<li>选择排序<ul>\n<li>选择排序</li>\n<li>堆排序</li>\n</ul>\n</li>\n<li>插入排序<ul>\n<li>插入排序</li>\n<li>shell排序</li>\n</ul>\n</li>\n<li>合并排序</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"冒泡排序（Bubble-Sort）\"><a href=\"#冒泡排序（Bubble-Sort）\" class=\"headerlink\" title=\"冒泡排序（Bubble Sort）\"></a>冒泡排序（Bubble Sort）</h4><p>思想：冒泡排序需要遍历多遍数组，在每次遍历🀄比较相邻的元素。较小值像“气泡”一样上浮，较大的值沉向底部。<br>步骤：</p>\n<ul>\n<li>对数组中的各个数据，依次比较相邻的两个数据大小</li>\n<li>如果前面的数据大于后面的数据，就交换两个数据。这样可以找出最小的。</li>\n<li>依次用同样的方法，排序。<br>时间：$\\dfrac {n\\left( n-1\\right) } {2}=O\\left( n^{2}\\right)$</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">主要代码：</div><div class=\"line\">package sort;</div><div class=\"line\"></div><div class=\"line\">import UtilAlgorithm.Main;</div><div class=\"line\">import UtilAlgorithm.Util;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/2/23.</div><div class=\"line\"> */</div><div class=\"line\">public class Sort &#123;</div><div class=\"line\">    public static int[] bubleSort(int[] arr) &#123;</div><div class=\"line\">        System.out.println(&quot;冒泡排序前的数组为：&quot;);</div><div class=\"line\">        for (int i : arr) &#123;</div><div class=\"line\">            System.out.print(i + &quot; &quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        for (int i = 1; i &lt; arr.length; i++) &#123;</div><div class=\"line\">            for (int j = 0; j &lt; arr.length - i; j++) &#123;</div><div class=\"line\">                if (arr[j] &gt; arr[j + 1]) &#123;</div><div class=\"line\">                    int temp = arr[j];</div><div class=\"line\">                    arr[j] = arr[j + 1];</div><div class=\"line\">                    arr[j + 1] = temp;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">        System.out.println(&quot;&quot;);</div><div class=\"line\">        System.out.println(&quot;冒泡排序后的数组为：&quot;);</div><div class=\"line\">        for (int i : arr) &#123;</div><div class=\"line\">            System.out.print(i + &quot; &quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\">        return arr;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p> 《java 常用算法手册》<br> 《java 语言程序设计》</p>\n"},{"title":"java四大引用：强、软、弱、虚","date":"2017-03-11T12:48:33.000Z","_content":"\n## 前言\n紧张刺激的前言又来了，为什么会写这篇文档呢。因为我前两天阿里面试的时候问我了解引用吗，然后我说知道一点啊，回答的时候深拷贝和浅拷贝。但是呢具体的内层原理不知道，所以回答的时候呢就有点虚啊，为了以后理直气壮的回答面试问题，所以准备好好把这个问题弄清楚，问题总是会有的，慢慢解决就好了。\n\n## 软件包 java.lang.ref\n提供了引用对象类，支持在某种程度上与垃圾回收器之间的交互。程序可以使用一个引用对象来维持对另外某一对象的引用，所采用的方式是使后者仍然可以被回收器回收。程序还可以安排在回收器确定某一给定对象的可到达性已经更改之后的某个时间得到通知。我们都知道 JVM 中对象是被分配在堆（heap）上的，当程序行动中不再有引用指向这个对象时，这个对象就可以被垃圾回收器所回收。包结构如下图：\n![ref包内类图](javacopy/ref.png)\n\n## 引用类型\n引用类型（reference type）指向一个对象，不是原始值，指向对象的变量是引用变量。在java里面除去基本数据类型的其它类型都是引用数据类型，自己定义的class类都是引用类型。\n```\n引用对象的抽象基类。此类定义了常用于所有引用对象的操作。因为引用对象是通过与垃圾回收器的密切合作来实现的，所以不能直接为此类创建子类。\npublic abstract class Reference<T> {\n    private T referent;         /* Treated specially by GC */\n    ...\n    public T get() {\n        return this.referent;\n    }\n    public void clear() {\n        this.referent = null;\n    }\n    ...\n    Reference(T referent) {\n        this(referent, null);\n    }\n\n    Reference(T referent, ReferenceQueue<? super T> queue) {\n        this.referent = referent;\n        this.queue = (queue == null) ? ReferenceQueue.NULL : queue;\n    }\n\n}\n\n```\n\n## StrongReference 强引用\n* 强引用可以直接访问目标对象。\n* 强引用所指向的对象在任何时候都不会被系统回收。\n* 强引用可能导致内存泄漏(out of memory)。\n实际上，FinalReference 代表的正是 Java 中的强引用，如这样的代码 :\n```\nBean bean = new Bean();\n```\n在虚拟机的实现过程中，实际采用了 FinalReference 类对其进行引用。而 Finalizer，除了作为一个实现类外，更是在虚拟机中实现一个 FinalizerThread，以使虚拟机能够在所有的强引用被解除后实现内存清理。\n整个FinalReference类的定义如下：\n```\nclass FinalReference<T> extends Reference<T> {\n\n    public FinalReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n    }\n}\nfinal class Finalizer extends FinalReference<Object> { \n\t...\n\tprivate void runFinalizer(JavaLangAccess jla) {\n        synchronized (this) {\n            if (hasBeenFinalized()) return;\n            remove();\n        }\n        try {\n            Object finalizee = this.get();\n            if (finalizee != null && !(finalizee instanceof java.lang.Enum)) {\n                jla.invokeFinalize(finalizee);\n\n                /* Clear stack slot containing this variable, to decrease\n                   the chances of false retention with a conservative GC */\n                finalizee = null;\n            }\n        } catch (Throwable x) { }\n        super.clear();\n    }\n    ...\n}\n```\n\n<!--more-->\n\n## 软引用 SoftReference\n* 在响应内存需要时，由垃圾回收器决定是否清除此对象。如果内存充足，则垃圾回收器不会回收该对象，如果内存不够了，就会回收这些对象的内存。\n* 软引用对象最常用于实现内存敏感的缓存\n* 软引用可以和一个引用队列（ReferenceQueue）联合使用，如果软引用所引用的对象被垃圾回收器回收，Java虚拟机就会把这个软引用加入到与之关联的引用队列中。\n```\nSoftReference类源代码\npublic class SoftReference<T> extends Reference<T> {\n    static private long clock;\n    private long timestamp;\n    public SoftReference(T referent) {\n        super(referent);\n        this.timestamp = clock;\n    }\n    public SoftReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n        this.timestamp = clock;\n    }\n    public T get() {\n        T o = super.get();\n        if (o != null && this.timestamp != clock)\n            this.timestamp = clock;\n        return o;\n    }\n\n}\n//SoftReference测试代码\npublic class Test {\n    public static void main(String[] args) {\n        SoftReference<Userx> bean = new SoftReference<Userx>(new Userx(\"name\", 10));\n        //返回此引用对象的指示对象。如果此引用对象已经由程序或垃圾回收器清除，则此方法将返回 null\n        bean.get().say();\n    }\n}\n//Userx类\npublic class Userx {\n    private String name;\n    private int age;\n    public Userx(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n    public void say() {\n        System.out.println(\"my name is: \" + name + \", age is: \" + age);\n    }\n}\n每一个对象通过软引用进行实例化，这个对象就以cache的形式保存起来，当再次调用这个对象时，那么直接通过软引用中的get（）方法，就可以得到对象中中的资源数据，这样就没必要再次进行读取了，直接从cache中就可以读取得到，当内存将要发生OOM的时候，GC会迅速把所有的软引用清除，防止oom发生。\n```\n## 弱引用 WeakRefrence\n* 用来描述非必须的对象，但是它的强度比软引用更弱一些\n* 被弱引用关联的对象只能生存到下一次垃圾收集发送之前\n* 当垃圾收集器工作时，无论当前内存是否足够，都会回收掉只被弱引用关联的对象\n* 一旦一个弱引用对象被垃圾回收器回收，便会加入到一个注册引用队列中\n```\nWeakRefrence源代码，只是继承了抽象类\npublic class WeakReference<T> extends Reference<T> {\n    //创建引用给定对象的新的弱引用。新的引用没有向任何队列注册。\n    public WeakReference(T referent) {\n        super(referent);\n    }\n    //创建引用给定对象的新的弱引用，并向给定队列注册该引用。\n    public WeakReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n    }\n\n}\n```\n## 虚引用PhantomReference\n* 一个持有虚引用的对象，和没有引用几乎是一样的，随时都有可能被垃圾回收器回收\n* 虚引用的最大作用在于跟踪对象回收，清理被销毁对象的相关资源。\n* 随时都有可能被垃圾回收器回收\n```\nPhantomReference源代码，可以看到它的get方法返回的是null\npublic class PhantomReference<T> extends Reference<T> {\n    public T get() {\n        return null;\n    }\n    public PhantomReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n    }\n\n}\n```\n## 自动清除引用\n在将软引用和弱引用添加到向其注册的队列（如果有）之前，回收器将自动清除这些引用。所以，软引用和弱引用不需要向队列注册即可使用，而虚引用则需要这样做。通过虚引用可到达的对象将仍然保持原状，直到清除所有这类引用或者它们本身变得不可到达。\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=26936094&auto=1&height=66\"></iframe>\n\n## 参考链接\n[blog](http://wuhuachuan.com/visitor/article/bfb643d5-4317-4b95-ab55-d0e1392e6c1d)\n[深入探讨 java.lang.ref 包](https://www.ibm.com/developerworks/cn/java/j-lo-langref/)\n[java引用类型](http://www.importnew.com/20468.html)","source":"_posts/javacopy.md","raw":"---\ntitle: java四大引用：强、软、弱、虚\ndate: 2017-03-11 20:48:33\ntags: [小章鱼, java, 引用]\n---\n\n## 前言\n紧张刺激的前言又来了，为什么会写这篇文档呢。因为我前两天阿里面试的时候问我了解引用吗，然后我说知道一点啊，回答的时候深拷贝和浅拷贝。但是呢具体的内层原理不知道，所以回答的时候呢就有点虚啊，为了以后理直气壮的回答面试问题，所以准备好好把这个问题弄清楚，问题总是会有的，慢慢解决就好了。\n\n## 软件包 java.lang.ref\n提供了引用对象类，支持在某种程度上与垃圾回收器之间的交互。程序可以使用一个引用对象来维持对另外某一对象的引用，所采用的方式是使后者仍然可以被回收器回收。程序还可以安排在回收器确定某一给定对象的可到达性已经更改之后的某个时间得到通知。我们都知道 JVM 中对象是被分配在堆（heap）上的，当程序行动中不再有引用指向这个对象时，这个对象就可以被垃圾回收器所回收。包结构如下图：\n![ref包内类图](javacopy/ref.png)\n\n## 引用类型\n引用类型（reference type）指向一个对象，不是原始值，指向对象的变量是引用变量。在java里面除去基本数据类型的其它类型都是引用数据类型，自己定义的class类都是引用类型。\n```\n引用对象的抽象基类。此类定义了常用于所有引用对象的操作。因为引用对象是通过与垃圾回收器的密切合作来实现的，所以不能直接为此类创建子类。\npublic abstract class Reference<T> {\n    private T referent;         /* Treated specially by GC */\n    ...\n    public T get() {\n        return this.referent;\n    }\n    public void clear() {\n        this.referent = null;\n    }\n    ...\n    Reference(T referent) {\n        this(referent, null);\n    }\n\n    Reference(T referent, ReferenceQueue<? super T> queue) {\n        this.referent = referent;\n        this.queue = (queue == null) ? ReferenceQueue.NULL : queue;\n    }\n\n}\n\n```\n\n## StrongReference 强引用\n* 强引用可以直接访问目标对象。\n* 强引用所指向的对象在任何时候都不会被系统回收。\n* 强引用可能导致内存泄漏(out of memory)。\n实际上，FinalReference 代表的正是 Java 中的强引用，如这样的代码 :\n```\nBean bean = new Bean();\n```\n在虚拟机的实现过程中，实际采用了 FinalReference 类对其进行引用。而 Finalizer，除了作为一个实现类外，更是在虚拟机中实现一个 FinalizerThread，以使虚拟机能够在所有的强引用被解除后实现内存清理。\n整个FinalReference类的定义如下：\n```\nclass FinalReference<T> extends Reference<T> {\n\n    public FinalReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n    }\n}\nfinal class Finalizer extends FinalReference<Object> { \n\t...\n\tprivate void runFinalizer(JavaLangAccess jla) {\n        synchronized (this) {\n            if (hasBeenFinalized()) return;\n            remove();\n        }\n        try {\n            Object finalizee = this.get();\n            if (finalizee != null && !(finalizee instanceof java.lang.Enum)) {\n                jla.invokeFinalize(finalizee);\n\n                /* Clear stack slot containing this variable, to decrease\n                   the chances of false retention with a conservative GC */\n                finalizee = null;\n            }\n        } catch (Throwable x) { }\n        super.clear();\n    }\n    ...\n}\n```\n\n<!--more-->\n\n## 软引用 SoftReference\n* 在响应内存需要时，由垃圾回收器决定是否清除此对象。如果内存充足，则垃圾回收器不会回收该对象，如果内存不够了，就会回收这些对象的内存。\n* 软引用对象最常用于实现内存敏感的缓存\n* 软引用可以和一个引用队列（ReferenceQueue）联合使用，如果软引用所引用的对象被垃圾回收器回收，Java虚拟机就会把这个软引用加入到与之关联的引用队列中。\n```\nSoftReference类源代码\npublic class SoftReference<T> extends Reference<T> {\n    static private long clock;\n    private long timestamp;\n    public SoftReference(T referent) {\n        super(referent);\n        this.timestamp = clock;\n    }\n    public SoftReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n        this.timestamp = clock;\n    }\n    public T get() {\n        T o = super.get();\n        if (o != null && this.timestamp != clock)\n            this.timestamp = clock;\n        return o;\n    }\n\n}\n//SoftReference测试代码\npublic class Test {\n    public static void main(String[] args) {\n        SoftReference<Userx> bean = new SoftReference<Userx>(new Userx(\"name\", 10));\n        //返回此引用对象的指示对象。如果此引用对象已经由程序或垃圾回收器清除，则此方法将返回 null\n        bean.get().say();\n    }\n}\n//Userx类\npublic class Userx {\n    private String name;\n    private int age;\n    public Userx(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n    public void say() {\n        System.out.println(\"my name is: \" + name + \", age is: \" + age);\n    }\n}\n每一个对象通过软引用进行实例化，这个对象就以cache的形式保存起来，当再次调用这个对象时，那么直接通过软引用中的get（）方法，就可以得到对象中中的资源数据，这样就没必要再次进行读取了，直接从cache中就可以读取得到，当内存将要发生OOM的时候，GC会迅速把所有的软引用清除，防止oom发生。\n```\n## 弱引用 WeakRefrence\n* 用来描述非必须的对象，但是它的强度比软引用更弱一些\n* 被弱引用关联的对象只能生存到下一次垃圾收集发送之前\n* 当垃圾收集器工作时，无论当前内存是否足够，都会回收掉只被弱引用关联的对象\n* 一旦一个弱引用对象被垃圾回收器回收，便会加入到一个注册引用队列中\n```\nWeakRefrence源代码，只是继承了抽象类\npublic class WeakReference<T> extends Reference<T> {\n    //创建引用给定对象的新的弱引用。新的引用没有向任何队列注册。\n    public WeakReference(T referent) {\n        super(referent);\n    }\n    //创建引用给定对象的新的弱引用，并向给定队列注册该引用。\n    public WeakReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n    }\n\n}\n```\n## 虚引用PhantomReference\n* 一个持有虚引用的对象，和没有引用几乎是一样的，随时都有可能被垃圾回收器回收\n* 虚引用的最大作用在于跟踪对象回收，清理被销毁对象的相关资源。\n* 随时都有可能被垃圾回收器回收\n```\nPhantomReference源代码，可以看到它的get方法返回的是null\npublic class PhantomReference<T> extends Reference<T> {\n    public T get() {\n        return null;\n    }\n    public PhantomReference(T referent, ReferenceQueue<? super T> q) {\n        super(referent, q);\n    }\n\n}\n```\n## 自动清除引用\n在将软引用和弱引用添加到向其注册的队列（如果有）之前，回收器将自动清除这些引用。所以，软引用和弱引用不需要向队列注册即可使用，而虚引用则需要这样做。通过虚引用可到达的对象将仍然保持原状，直到清除所有这类引用或者它们本身变得不可到达。\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=26936094&auto=1&height=66\"></iframe>\n\n## 参考链接\n[blog](http://wuhuachuan.com/visitor/article/bfb643d5-4317-4b95-ab55-d0e1392e6c1d)\n[深入探讨 java.lang.ref 包](https://www.ibm.com/developerworks/cn/java/j-lo-langref/)\n[java引用类型](http://www.importnew.com/20468.html)","slug":"javacopy","published":1,"updated":"2017-03-12T09:27:47.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ude0012ffca9xudd3q5","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>紧张刺激的前言又来了，为什么会写这篇文档呢。因为我前两天阿里面试的时候问我了解引用吗，然后我说知道一点啊，回答的时候深拷贝和浅拷贝。但是呢具体的内层原理不知道，所以回答的时候呢就有点虚啊，为了以后理直气壮的回答面试问题，所以准备好好把这个问题弄清楚，问题总是会有的，慢慢解决就好了。</p>\n<h2 id=\"软件包-java-lang-ref\"><a href=\"#软件包-java-lang-ref\" class=\"headerlink\" title=\"软件包 java.lang.ref\"></a>软件包 java.lang.ref</h2><p>提供了引用对象类，支持在某种程度上与垃圾回收器之间的交互。程序可以使用一个引用对象来维持对另外某一对象的引用，所采用的方式是使后者仍然可以被回收器回收。程序还可以安排在回收器确定某一给定对象的可到达性已经更改之后的某个时间得到通知。我们都知道 JVM 中对象是被分配在堆（heap）上的，当程序行动中不再有引用指向这个对象时，这个对象就可以被垃圾回收器所回收。包结构如下图：<br><img src=\"/2017/03/11/javacopy/ref.png\" alt=\"ref包内类图\"></p>\n<h2 id=\"引用类型\"><a href=\"#引用类型\" class=\"headerlink\" title=\"引用类型\"></a>引用类型</h2><p>引用类型（reference type）指向一个对象，不是原始值，指向对象的变量是引用变量。在java里面除去基本数据类型的其它类型都是引用数据类型，自己定义的class类都是引用类型。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">引用对象的抽象基类。此类定义了常用于所有引用对象的操作。因为引用对象是通过与垃圾回收器的密切合作来实现的，所以不能直接为此类创建子类。</div><div class=\"line\">public abstract class Reference&lt;T&gt; &#123;</div><div class=\"line\">    private T referent;         /* Treated specially by GC */</div><div class=\"line\">    ...</div><div class=\"line\">    public T get() &#123;</div><div class=\"line\">        return this.referent;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public void clear() &#123;</div><div class=\"line\">        this.referent = null;</div><div class=\"line\">    &#125;</div><div class=\"line\">    ...</div><div class=\"line\">    Reference(T referent) &#123;</div><div class=\"line\">        this(referent, null);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    Reference(T referent, ReferenceQueue&lt;? super T&gt; queue) &#123;</div><div class=\"line\">        this.referent = referent;</div><div class=\"line\">        this.queue = (queue == null) ? ReferenceQueue.NULL : queue;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"StrongReference-强引用\"><a href=\"#StrongReference-强引用\" class=\"headerlink\" title=\"StrongReference 强引用\"></a>StrongReference 强引用</h2><ul>\n<li>强引用可以直接访问目标对象。</li>\n<li>强引用所指向的对象在任何时候都不会被系统回收。</li>\n<li>强引用可能导致内存泄漏(out of memory)。<br>实际上，FinalReference 代表的正是 Java 中的强引用，如这样的代码 :<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">Bean bean = new Bean();</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>在虚拟机的实现过程中，实际采用了 FinalReference 类对其进行引用。而 Finalizer，除了作为一个实现类外，更是在虚拟机中实现一个 FinalizerThread，以使虚拟机能够在所有的强引用被解除后实现内存清理。<br>整个FinalReference类的定义如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">class FinalReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\"></div><div class=\"line\">    public FinalReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">final class Finalizer extends FinalReference&lt;Object&gt; &#123; </div><div class=\"line\">\t...</div><div class=\"line\">\tprivate void runFinalizer(JavaLangAccess jla) &#123;</div><div class=\"line\">        synchronized (this) &#123;</div><div class=\"line\">            if (hasBeenFinalized()) return;</div><div class=\"line\">            remove();</div><div class=\"line\">        &#125;</div><div class=\"line\">        try &#123;</div><div class=\"line\">            Object finalizee = this.get();</div><div class=\"line\">            if (finalizee != null &amp;&amp; !(finalizee instanceof java.lang.Enum)) &#123;</div><div class=\"line\">                jla.invokeFinalize(finalizee);</div><div class=\"line\"></div><div class=\"line\">                /* Clear stack slot containing this variable, to decrease</div><div class=\"line\">                   the chances of false retention with a conservative GC */</div><div class=\"line\">                finalizee = null;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125; catch (Throwable x) &#123; &#125;</div><div class=\"line\">        super.clear();</div><div class=\"line\">    &#125;</div><div class=\"line\">    ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<h2 id=\"软引用-SoftReference\"><a href=\"#软引用-SoftReference\" class=\"headerlink\" title=\"软引用 SoftReference\"></a>软引用 SoftReference</h2><ul>\n<li>在响应内存需要时，由垃圾回收器决定是否清除此对象。如果内存充足，则垃圾回收器不会回收该对象，如果内存不够了，就会回收这些对象的内存。</li>\n<li>软引用对象最常用于实现内存敏感的缓存</li>\n<li>软引用可以和一个引用队列（ReferenceQueue）联合使用，如果软引用所引用的对象被垃圾回收器回收，Java虚拟机就会把这个软引用加入到与之关联的引用队列中。<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div></pre></td><td class=\"code\"><pre><div class=\"line\">SoftReference类源代码</div><div class=\"line\">public class SoftReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\">    static private long clock;</div><div class=\"line\">    private long timestamp;</div><div class=\"line\">    public SoftReference(T referent) &#123;</div><div class=\"line\">        super(referent);</div><div class=\"line\">        this.timestamp = clock;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public SoftReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">        this.timestamp = clock;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public T get() &#123;</div><div class=\"line\">        T o = super.get();</div><div class=\"line\">        if (o != null &amp;&amp; this.timestamp != clock)</div><div class=\"line\">            this.timestamp = clock;</div><div class=\"line\">        return o;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">//SoftReference测试代码</div><div class=\"line\">public class Test &#123;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        SoftReference&lt;Userx&gt; bean = new SoftReference&lt;Userx&gt;(new Userx(&quot;name&quot;, 10));</div><div class=\"line\">        //返回此引用对象的指示对象。如果此引用对象已经由程序或垃圾回收器清除，则此方法将返回 null</div><div class=\"line\">        bean.get().say();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">//Userx类</div><div class=\"line\">public class Userx &#123;</div><div class=\"line\">    private String name;</div><div class=\"line\">    private int age;</div><div class=\"line\">    public Userx(String name, int age) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">        this.age = age;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public void say() &#123;</div><div class=\"line\">        System.out.println(&quot;my name is: &quot; + name + &quot;, age is: &quot; + age);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">每一个对象通过软引用进行实例化，这个对象就以cache的形式保存起来，当再次调用这个对象时，那么直接通过软引用中的get（）方法，就可以得到对象中中的资源数据，这样就没必要再次进行读取了，直接从cache中就可以读取得到，当内存将要发生OOM的时候，GC会迅速把所有的软引用清除，防止oom发生。</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"弱引用-WeakRefrence\"><a href=\"#弱引用-WeakRefrence\" class=\"headerlink\" title=\"弱引用 WeakRefrence\"></a>弱引用 WeakRefrence</h2><ul>\n<li>用来描述非必须的对象，但是它的强度比软引用更弱一些</li>\n<li>被弱引用关联的对象只能生存到下一次垃圾收集发送之前</li>\n<li>当垃圾收集器工作时，无论当前内存是否足够，都会回收掉只被弱引用关联的对象</li>\n<li>一旦一个弱引用对象被垃圾回收器回收，便会加入到一个注册引用队列中<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">WeakRefrence源代码，只是继承了抽象类</div><div class=\"line\">public class WeakReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\">    //创建引用给定对象的新的弱引用。新的引用没有向任何队列注册。</div><div class=\"line\">    public WeakReference(T referent) &#123;</div><div class=\"line\">        super(referent);</div><div class=\"line\">    &#125;</div><div class=\"line\">    //创建引用给定对象的新的弱引用，并向给定队列注册该引用。</div><div class=\"line\">    public WeakReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"虚引用PhantomReference\"><a href=\"#虚引用PhantomReference\" class=\"headerlink\" title=\"虚引用PhantomReference\"></a>虚引用PhantomReference</h2><ul>\n<li>一个持有虚引用的对象，和没有引用几乎是一样的，随时都有可能被垃圾回收器回收</li>\n<li>虚引用的最大作用在于跟踪对象回收，清理被销毁对象的相关资源。</li>\n<li>随时都有可能被垃圾回收器回收<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">PhantomReference源代码，可以看到它的get方法返回的是null</div><div class=\"line\">public class PhantomReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\">    public T get() &#123;</div><div class=\"line\">        return null;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public PhantomReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"自动清除引用\"><a href=\"#自动清除引用\" class=\"headerlink\" title=\"自动清除引用\"></a>自动清除引用</h2><p>在将软引用和弱引用添加到向其注册的队列（如果有）之前，回收器将自动清除这些引用。所以，软引用和弱引用不需要向队列注册即可使用，而虚引用则需要这样做。通过虚引用可到达的对象将仍然保持原状，直到清除所有这类引用或者它们本身变得不可到达。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=26936094&auto=1&height=66\"></iframe>\n\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://wuhuachuan.com/visitor/article/bfb643d5-4317-4b95-ab55-d0e1392e6c1d\" target=\"_blank\" rel=\"external\">blog</a><br><a href=\"https://www.ibm.com/developerworks/cn/java/j-lo-langref/\" target=\"_blank\" rel=\"external\">深入探讨 java.lang.ref 包</a><br><a href=\"http://www.importnew.com/20468.html\" target=\"_blank\" rel=\"external\">java引用类型</a></p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>紧张刺激的前言又来了，为什么会写这篇文档呢。因为我前两天阿里面试的时候问我了解引用吗，然后我说知道一点啊，回答的时候深拷贝和浅拷贝。但是呢具体的内层原理不知道，所以回答的时候呢就有点虚啊，为了以后理直气壮的回答面试问题，所以准备好好把这个问题弄清楚，问题总是会有的，慢慢解决就好了。</p>\n<h2 id=\"软件包-java-lang-ref\"><a href=\"#软件包-java-lang-ref\" class=\"headerlink\" title=\"软件包 java.lang.ref\"></a>软件包 java.lang.ref</h2><p>提供了引用对象类，支持在某种程度上与垃圾回收器之间的交互。程序可以使用一个引用对象来维持对另外某一对象的引用，所采用的方式是使后者仍然可以被回收器回收。程序还可以安排在回收器确定某一给定对象的可到达性已经更改之后的某个时间得到通知。我们都知道 JVM 中对象是被分配在堆（heap）上的，当程序行动中不再有引用指向这个对象时，这个对象就可以被垃圾回收器所回收。包结构如下图：<br><img src=\"/2017/03/11/javacopy/ref.png\" alt=\"ref包内类图\"></p>\n<h2 id=\"引用类型\"><a href=\"#引用类型\" class=\"headerlink\" title=\"引用类型\"></a>引用类型</h2><p>引用类型（reference type）指向一个对象，不是原始值，指向对象的变量是引用变量。在java里面除去基本数据类型的其它类型都是引用数据类型，自己定义的class类都是引用类型。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">引用对象的抽象基类。此类定义了常用于所有引用对象的操作。因为引用对象是通过与垃圾回收器的密切合作来实现的，所以不能直接为此类创建子类。</div><div class=\"line\">public abstract class Reference&lt;T&gt; &#123;</div><div class=\"line\">    private T referent;         /* Treated specially by GC */</div><div class=\"line\">    ...</div><div class=\"line\">    public T get() &#123;</div><div class=\"line\">        return this.referent;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public void clear() &#123;</div><div class=\"line\">        this.referent = null;</div><div class=\"line\">    &#125;</div><div class=\"line\">    ...</div><div class=\"line\">    Reference(T referent) &#123;</div><div class=\"line\">        this(referent, null);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    Reference(T referent, ReferenceQueue&lt;? super T&gt; queue) &#123;</div><div class=\"line\">        this.referent = referent;</div><div class=\"line\">        this.queue = (queue == null) ? ReferenceQueue.NULL : queue;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"StrongReference-强引用\"><a href=\"#StrongReference-强引用\" class=\"headerlink\" title=\"StrongReference 强引用\"></a>StrongReference 强引用</h2><ul>\n<li>强引用可以直接访问目标对象。</li>\n<li>强引用所指向的对象在任何时候都不会被系统回收。</li>\n<li>强引用可能导致内存泄漏(out of memory)。<br>实际上，FinalReference 代表的正是 Java 中的强引用，如这样的代码 :<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">Bean bean = new Bean();</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>在虚拟机的实现过程中，实际采用了 FinalReference 类对其进行引用。而 Finalizer，除了作为一个实现类外，更是在虚拟机中实现一个 FinalizerThread，以使虚拟机能够在所有的强引用被解除后实现内存清理。<br>整个FinalReference类的定义如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">class FinalReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\"></div><div class=\"line\">    public FinalReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">final class Finalizer extends FinalReference&lt;Object&gt; &#123; </div><div class=\"line\">\t...</div><div class=\"line\">\tprivate void runFinalizer(JavaLangAccess jla) &#123;</div><div class=\"line\">        synchronized (this) &#123;</div><div class=\"line\">            if (hasBeenFinalized()) return;</div><div class=\"line\">            remove();</div><div class=\"line\">        &#125;</div><div class=\"line\">        try &#123;</div><div class=\"line\">            Object finalizee = this.get();</div><div class=\"line\">            if (finalizee != null &amp;&amp; !(finalizee instanceof java.lang.Enum)) &#123;</div><div class=\"line\">                jla.invokeFinalize(finalizee);</div><div class=\"line\"></div><div class=\"line\">                /* Clear stack slot containing this variable, to decrease</div><div class=\"line\">                   the chances of false retention with a conservative GC */</div><div class=\"line\">                finalizee = null;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125; catch (Throwable x) &#123; &#125;</div><div class=\"line\">        super.clear();</div><div class=\"line\">    &#125;</div><div class=\"line\">    ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>","more":"<h2 id=\"软引用-SoftReference\"><a href=\"#软引用-SoftReference\" class=\"headerlink\" title=\"软引用 SoftReference\"></a>软引用 SoftReference</h2><ul>\n<li>在响应内存需要时，由垃圾回收器决定是否清除此对象。如果内存充足，则垃圾回收器不会回收该对象，如果内存不够了，就会回收这些对象的内存。</li>\n<li>软引用对象最常用于实现内存敏感的缓存</li>\n<li>软引用可以和一个引用队列（ReferenceQueue）联合使用，如果软引用所引用的对象被垃圾回收器回收，Java虚拟机就会把这个软引用加入到与之关联的引用队列中。<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div></pre></td><td class=\"code\"><pre><div class=\"line\">SoftReference类源代码</div><div class=\"line\">public class SoftReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\">    static private long clock;</div><div class=\"line\">    private long timestamp;</div><div class=\"line\">    public SoftReference(T referent) &#123;</div><div class=\"line\">        super(referent);</div><div class=\"line\">        this.timestamp = clock;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public SoftReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">        this.timestamp = clock;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public T get() &#123;</div><div class=\"line\">        T o = super.get();</div><div class=\"line\">        if (o != null &amp;&amp; this.timestamp != clock)</div><div class=\"line\">            this.timestamp = clock;</div><div class=\"line\">        return o;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">//SoftReference测试代码</div><div class=\"line\">public class Test &#123;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        SoftReference&lt;Userx&gt; bean = new SoftReference&lt;Userx&gt;(new Userx(&quot;name&quot;, 10));</div><div class=\"line\">        //返回此引用对象的指示对象。如果此引用对象已经由程序或垃圾回收器清除，则此方法将返回 null</div><div class=\"line\">        bean.get().say();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">//Userx类</div><div class=\"line\">public class Userx &#123;</div><div class=\"line\">    private String name;</div><div class=\"line\">    private int age;</div><div class=\"line\">    public Userx(String name, int age) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">        this.age = age;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public void say() &#123;</div><div class=\"line\">        System.out.println(&quot;my name is: &quot; + name + &quot;, age is: &quot; + age);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">每一个对象通过软引用进行实例化，这个对象就以cache的形式保存起来，当再次调用这个对象时，那么直接通过软引用中的get（）方法，就可以得到对象中中的资源数据，这样就没必要再次进行读取了，直接从cache中就可以读取得到，当内存将要发生OOM的时候，GC会迅速把所有的软引用清除，防止oom发生。</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"弱引用-WeakRefrence\"><a href=\"#弱引用-WeakRefrence\" class=\"headerlink\" title=\"弱引用 WeakRefrence\"></a>弱引用 WeakRefrence</h2><ul>\n<li>用来描述非必须的对象，但是它的强度比软引用更弱一些</li>\n<li>被弱引用关联的对象只能生存到下一次垃圾收集发送之前</li>\n<li>当垃圾收集器工作时，无论当前内存是否足够，都会回收掉只被弱引用关联的对象</li>\n<li>一旦一个弱引用对象被垃圾回收器回收，便会加入到一个注册引用队列中<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">WeakRefrence源代码，只是继承了抽象类</div><div class=\"line\">public class WeakReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\">    //创建引用给定对象的新的弱引用。新的引用没有向任何队列注册。</div><div class=\"line\">    public WeakReference(T referent) &#123;</div><div class=\"line\">        super(referent);</div><div class=\"line\">    &#125;</div><div class=\"line\">    //创建引用给定对象的新的弱引用，并向给定队列注册该引用。</div><div class=\"line\">    public WeakReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"虚引用PhantomReference\"><a href=\"#虚引用PhantomReference\" class=\"headerlink\" title=\"虚引用PhantomReference\"></a>虚引用PhantomReference</h2><ul>\n<li>一个持有虚引用的对象，和没有引用几乎是一样的，随时都有可能被垃圾回收器回收</li>\n<li>虚引用的最大作用在于跟踪对象回收，清理被销毁对象的相关资源。</li>\n<li>随时都有可能被垃圾回收器回收<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">PhantomReference源代码，可以看到它的get方法返回的是null</div><div class=\"line\">public class PhantomReference&lt;T&gt; extends Reference&lt;T&gt; &#123;</div><div class=\"line\">    public T get() &#123;</div><div class=\"line\">        return null;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public PhantomReference(T referent, ReferenceQueue&lt;? super T&gt; q) &#123;</div><div class=\"line\">        super(referent, q);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"自动清除引用\"><a href=\"#自动清除引用\" class=\"headerlink\" title=\"自动清除引用\"></a>自动清除引用</h2><p>在将软引用和弱引用添加到向其注册的队列（如果有）之前，回收器将自动清除这些引用。所以，软引用和弱引用不需要向队列注册即可使用，而虚引用则需要这样做。通过虚引用可到达的对象将仍然保持原状，直到清除所有这类引用或者它们本身变得不可到达。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=26936094&auto=1&height=66\"></iframe>\n\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://wuhuachuan.com/visitor/article/bfb643d5-4317-4b95-ab55-d0e1392e6c1d\">blog</a><br><a href=\"https://www.ibm.com/developerworks/cn/java/j-lo-langref/\">深入探讨 java.lang.ref 包</a><br><a href=\"http://www.importnew.com/20468.html\">java引用类型</a></p>"},{"title":"初步接触jvm","date":"2017-02-27T10:42:49.000Z","_content":"\nps：本来最近在弄nginx方面的东西，结果接到了SAP的电话面试，面试的java方面的知识，感觉自己对于jvm方面的知识了解有限，所以决定学习下jvm，刚好前段时间看到了《初探java虚拟机》这本书，那么接下来的学习笔记基本是以这本书为材料。\n\n## 虚拟机的基本结构\n* 虚拟机架构\n类加载子系统负责从文件系统或者网络中加载Class信息，加载的类信息存放于一块称为方法区的内存空间。方法区还存放运行时常量池信息，包括字符串字面量和数字常量。\n\njava堆在虚拟机启动的时候建立，它是java程序最重要的内存工作区域。几乎所有的实例都放在java堆中。堆空间是线程共享的，这是一块与java应用密切相关的内存区间。\n\njava的NIO库允许java程序使用直接内存。直接内存是在java堆外的、直接向系统申请的内存空间。通常直接内存的速度会优于java堆。由于直接内存在java堆外，因此它的大小不会直接受限于Xmx指定的最大堆大小，但是系统内存是有限的，java堆和直接内存的总和依然受限于操作系统能给的最大内存。\n\n\n<!--more-->\n\n垃圾回收系统是java虚拟机的重要组成部分，垃圾回收器可以对方法区、java堆和直接内存进行回收。其中，java堆是垃圾收集器的工作重点。和c/c++不同，java中所有的对象空间释放都是隐式的。对于不再使用的垃圾对象，垃圾回收系统会在后台默默工作，默默查找、标识并释放垃圾对象，完成java堆、方法区和直接内存的全自动化管理。\n\n每一个java虚拟机线程都有一个私有的java栈。一个线程的java栈在创建的时候被创建。java栈中保存着局部变量、方法参数，同时和java方法的调用、返回密切。\n\n本地方法栈和java栈非常相似，最大的不同在于java栈用于java方法的调用，而本地方法栈则用于本地方法调用。作为对java虚拟机的重要扩展，java虚拟机允许java直接调用本地方法（通常使用c编写）。\n\nPC(program counter)寄存器也是每个线程私有的空间，java虚拟机会为每一个java线程创建PC寄存器。在任意时刻，一个java线程总是在执行一个方法，这个正在执行的方法成为当前方法。如果当前方法不是本地方法，pc寄存器就会指向当前正在执行的指令。如果当前方法是本地方法，那么pc寄存器的值就是undefined。\n\n执行引擎室java虚拟机的核心组件之一，负责执行虚拟机的字节码。\n\n* 函数调用：出入java栈\n\njava栈是一块私有的内存空间。可以说java堆和程序数据密切相关，java栈是和线程执行相关的。先入先出的结构，函数返回的时候，栈帧从java栈中弹出。\n\n提示：由于每次函数调用都会生成对应的栈帧，从而占用一定的栈空间，因此，如果请求的栈深度大于最大可用栈深度时，系统就会抛出stackoverflowerror栈溢出的问题。\n\n* 局部变量表\n局部变量表时栈帧的重要组成部分。用于保存函数的参数以及局部变量。局部变量只在当前函数中有效，当函数调用结束以后，随着函数栈帧的销毁，局部变量也会随之销毁。\n只要局部变量表中直接或间接引用的对象都是不会回收的。因此，理解局部变量表对理解垃圾回收有一定帮助。\n\n## Class文件结构\n* 文件以一个4字节的Magic开头，紧跟着两个大小版本号\n* 在版本号之后是常量池，常量池的个数位constant_pool_count。\n* 常量池之后是类的访问修饰符、代表自身类的引用、父类引用以及接口数量和实现的接口引用。\n* 在接口之后，有字段数量和字段描述、方法数量以及方法描述。\n* 最后放着类文件的属性信息。\n\n注意：高版本的java虚拟机可以执行由低版本编译器生成的Class文件，但是低版本的java虚拟机不能执行高版本编译器生成的Class文件。\n\n## 参考书籍\n《初探Java虚拟机》","source":"_posts/jvm.md","raw":"---\ntitle: 初步接触jvm\ndate: 2017-02-27 18:42:49\ncategories: java                    #文章文类\ntags: [小章鱼, java, jvm]\n---\n\nps：本来最近在弄nginx方面的东西，结果接到了SAP的电话面试，面试的java方面的知识，感觉自己对于jvm方面的知识了解有限，所以决定学习下jvm，刚好前段时间看到了《初探java虚拟机》这本书，那么接下来的学习笔记基本是以这本书为材料。\n\n## 虚拟机的基本结构\n* 虚拟机架构\n类加载子系统负责从文件系统或者网络中加载Class信息，加载的类信息存放于一块称为方法区的内存空间。方法区还存放运行时常量池信息，包括字符串字面量和数字常量。\n\njava堆在虚拟机启动的时候建立，它是java程序最重要的内存工作区域。几乎所有的实例都放在java堆中。堆空间是线程共享的，这是一块与java应用密切相关的内存区间。\n\njava的NIO库允许java程序使用直接内存。直接内存是在java堆外的、直接向系统申请的内存空间。通常直接内存的速度会优于java堆。由于直接内存在java堆外，因此它的大小不会直接受限于Xmx指定的最大堆大小，但是系统内存是有限的，java堆和直接内存的总和依然受限于操作系统能给的最大内存。\n\n\n<!--more-->\n\n垃圾回收系统是java虚拟机的重要组成部分，垃圾回收器可以对方法区、java堆和直接内存进行回收。其中，java堆是垃圾收集器的工作重点。和c/c++不同，java中所有的对象空间释放都是隐式的。对于不再使用的垃圾对象，垃圾回收系统会在后台默默工作，默默查找、标识并释放垃圾对象，完成java堆、方法区和直接内存的全自动化管理。\n\n每一个java虚拟机线程都有一个私有的java栈。一个线程的java栈在创建的时候被创建。java栈中保存着局部变量、方法参数，同时和java方法的调用、返回密切。\n\n本地方法栈和java栈非常相似，最大的不同在于java栈用于java方法的调用，而本地方法栈则用于本地方法调用。作为对java虚拟机的重要扩展，java虚拟机允许java直接调用本地方法（通常使用c编写）。\n\nPC(program counter)寄存器也是每个线程私有的空间，java虚拟机会为每一个java线程创建PC寄存器。在任意时刻，一个java线程总是在执行一个方法，这个正在执行的方法成为当前方法。如果当前方法不是本地方法，pc寄存器就会指向当前正在执行的指令。如果当前方法是本地方法，那么pc寄存器的值就是undefined。\n\n执行引擎室java虚拟机的核心组件之一，负责执行虚拟机的字节码。\n\n* 函数调用：出入java栈\n\njava栈是一块私有的内存空间。可以说java堆和程序数据密切相关，java栈是和线程执行相关的。先入先出的结构，函数返回的时候，栈帧从java栈中弹出。\n\n提示：由于每次函数调用都会生成对应的栈帧，从而占用一定的栈空间，因此，如果请求的栈深度大于最大可用栈深度时，系统就会抛出stackoverflowerror栈溢出的问题。\n\n* 局部变量表\n局部变量表时栈帧的重要组成部分。用于保存函数的参数以及局部变量。局部变量只在当前函数中有效，当函数调用结束以后，随着函数栈帧的销毁，局部变量也会随之销毁。\n只要局部变量表中直接或间接引用的对象都是不会回收的。因此，理解局部变量表对理解垃圾回收有一定帮助。\n\n## Class文件结构\n* 文件以一个4字节的Magic开头，紧跟着两个大小版本号\n* 在版本号之后是常量池，常量池的个数位constant_pool_count。\n* 常量池之后是类的访问修饰符、代表自身类的引用、父类引用以及接口数量和实现的接口引用。\n* 在接口之后，有字段数量和字段描述、方法数量以及方法描述。\n* 最后放着类文件的属性信息。\n\n注意：高版本的java虚拟机可以执行由低版本编译器生成的Class文件，但是低版本的java虚拟机不能执行高版本编译器生成的Class文件。\n\n## 参考书籍\n《初探Java虚拟机》","slug":"jvm","published":1,"updated":"2017-02-28T11:15:47.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udf0015ffcaps4eehj6","content":"<p>ps：本来最近在弄nginx方面的东西，结果接到了SAP的电话面试，面试的java方面的知识，感觉自己对于jvm方面的知识了解有限，所以决定学习下jvm，刚好前段时间看到了《初探java虚拟机》这本书，那么接下来的学习笔记基本是以这本书为材料。</p>\n<h2 id=\"虚拟机的基本结构\"><a href=\"#虚拟机的基本结构\" class=\"headerlink\" title=\"虚拟机的基本结构\"></a>虚拟机的基本结构</h2><ul>\n<li>虚拟机架构<br>类加载子系统负责从文件系统或者网络中加载Class信息，加载的类信息存放于一块称为方法区的内存空间。方法区还存放运行时常量池信息，包括字符串字面量和数字常量。</li>\n</ul>\n<p>java堆在虚拟机启动的时候建立，它是java程序最重要的内存工作区域。几乎所有的实例都放在java堆中。堆空间是线程共享的，这是一块与java应用密切相关的内存区间。</p>\n<p>java的NIO库允许java程序使用直接内存。直接内存是在java堆外的、直接向系统申请的内存空间。通常直接内存的速度会优于java堆。由于直接内存在java堆外，因此它的大小不会直接受限于Xmx指定的最大堆大小，但是系统内存是有限的，java堆和直接内存的总和依然受限于操作系统能给的最大内存。</p>\n<a id=\"more\"></a>\n<p>垃圾回收系统是java虚拟机的重要组成部分，垃圾回收器可以对方法区、java堆和直接内存进行回收。其中，java堆是垃圾收集器的工作重点。和c/c++不同，java中所有的对象空间释放都是隐式的。对于不再使用的垃圾对象，垃圾回收系统会在后台默默工作，默默查找、标识并释放垃圾对象，完成java堆、方法区和直接内存的全自动化管理。</p>\n<p>每一个java虚拟机线程都有一个私有的java栈。一个线程的java栈在创建的时候被创建。java栈中保存着局部变量、方法参数，同时和java方法的调用、返回密切。</p>\n<p>本地方法栈和java栈非常相似，最大的不同在于java栈用于java方法的调用，而本地方法栈则用于本地方法调用。作为对java虚拟机的重要扩展，java虚拟机允许java直接调用本地方法（通常使用c编写）。</p>\n<p>PC(program counter)寄存器也是每个线程私有的空间，java虚拟机会为每一个java线程创建PC寄存器。在任意时刻，一个java线程总是在执行一个方法，这个正在执行的方法成为当前方法。如果当前方法不是本地方法，pc寄存器就会指向当前正在执行的指令。如果当前方法是本地方法，那么pc寄存器的值就是undefined。</p>\n<p>执行引擎室java虚拟机的核心组件之一，负责执行虚拟机的字节码。</p>\n<ul>\n<li>函数调用：出入java栈</li>\n</ul>\n<p>java栈是一块私有的内存空间。可以说java堆和程序数据密切相关，java栈是和线程执行相关的。先入先出的结构，函数返回的时候，栈帧从java栈中弹出。</p>\n<p>提示：由于每次函数调用都会生成对应的栈帧，从而占用一定的栈空间，因此，如果请求的栈深度大于最大可用栈深度时，系统就会抛出stackoverflowerror栈溢出的问题。</p>\n<ul>\n<li>局部变量表<br>局部变量表时栈帧的重要组成部分。用于保存函数的参数以及局部变量。局部变量只在当前函数中有效，当函数调用结束以后，随着函数栈帧的销毁，局部变量也会随之销毁。<br>只要局部变量表中直接或间接引用的对象都是不会回收的。因此，理解局部变量表对理解垃圾回收有一定帮助。</li>\n</ul>\n<h2 id=\"Class文件结构\"><a href=\"#Class文件结构\" class=\"headerlink\" title=\"Class文件结构\"></a>Class文件结构</h2><ul>\n<li>文件以一个4字节的Magic开头，紧跟着两个大小版本号</li>\n<li>在版本号之后是常量池，常量池的个数位constant_pool_count。</li>\n<li>常量池之后是类的访问修饰符、代表自身类的引用、父类引用以及接口数量和实现的接口引用。</li>\n<li>在接口之后，有字段数量和字段描述、方法数量以及方法描述。</li>\n<li>最后放着类文件的属性信息。</li>\n</ul>\n<p>注意：高版本的java虚拟机可以执行由低版本编译器生成的Class文件，但是低版本的java虚拟机不能执行高版本编译器生成的Class文件。</p>\n<h2 id=\"参考书籍\"><a href=\"#参考书籍\" class=\"headerlink\" title=\"参考书籍\"></a>参考书籍</h2><p>《初探Java虚拟机》</p>\n","excerpt":"<p>ps：本来最近在弄nginx方面的东西，结果接到了SAP的电话面试，面试的java方面的知识，感觉自己对于jvm方面的知识了解有限，所以决定学习下jvm，刚好前段时间看到了《初探java虚拟机》这本书，那么接下来的学习笔记基本是以这本书为材料。</p>\n<h2 id=\"虚拟机的基本结构\"><a href=\"#虚拟机的基本结构\" class=\"headerlink\" title=\"虚拟机的基本结构\"></a>虚拟机的基本结构</h2><ul>\n<li>虚拟机架构<br>类加载子系统负责从文件系统或者网络中加载Class信息，加载的类信息存放于一块称为方法区的内存空间。方法区还存放运行时常量池信息，包括字符串字面量和数字常量。</li>\n</ul>\n<p>java堆在虚拟机启动的时候建立，它是java程序最重要的内存工作区域。几乎所有的实例都放在java堆中。堆空间是线程共享的，这是一块与java应用密切相关的内存区间。</p>\n<p>java的NIO库允许java程序使用直接内存。直接内存是在java堆外的、直接向系统申请的内存空间。通常直接内存的速度会优于java堆。由于直接内存在java堆外，因此它的大小不会直接受限于Xmx指定的最大堆大小，但是系统内存是有限的，java堆和直接内存的总和依然受限于操作系统能给的最大内存。</p>","more":"<p>垃圾回收系统是java虚拟机的重要组成部分，垃圾回收器可以对方法区、java堆和直接内存进行回收。其中，java堆是垃圾收集器的工作重点。和c/c++不同，java中所有的对象空间释放都是隐式的。对于不再使用的垃圾对象，垃圾回收系统会在后台默默工作，默默查找、标识并释放垃圾对象，完成java堆、方法区和直接内存的全自动化管理。</p>\n<p>每一个java虚拟机线程都有一个私有的java栈。一个线程的java栈在创建的时候被创建。java栈中保存着局部变量、方法参数，同时和java方法的调用、返回密切。</p>\n<p>本地方法栈和java栈非常相似，最大的不同在于java栈用于java方法的调用，而本地方法栈则用于本地方法调用。作为对java虚拟机的重要扩展，java虚拟机允许java直接调用本地方法（通常使用c编写）。</p>\n<p>PC(program counter)寄存器也是每个线程私有的空间，java虚拟机会为每一个java线程创建PC寄存器。在任意时刻，一个java线程总是在执行一个方法，这个正在执行的方法成为当前方法。如果当前方法不是本地方法，pc寄存器就会指向当前正在执行的指令。如果当前方法是本地方法，那么pc寄存器的值就是undefined。</p>\n<p>执行引擎室java虚拟机的核心组件之一，负责执行虚拟机的字节码。</p>\n<ul>\n<li>函数调用：出入java栈</li>\n</ul>\n<p>java栈是一块私有的内存空间。可以说java堆和程序数据密切相关，java栈是和线程执行相关的。先入先出的结构，函数返回的时候，栈帧从java栈中弹出。</p>\n<p>提示：由于每次函数调用都会生成对应的栈帧，从而占用一定的栈空间，因此，如果请求的栈深度大于最大可用栈深度时，系统就会抛出stackoverflowerror栈溢出的问题。</p>\n<ul>\n<li>局部变量表<br>局部变量表时栈帧的重要组成部分。用于保存函数的参数以及局部变量。局部变量只在当前函数中有效，当函数调用结束以后，随着函数栈帧的销毁，局部变量也会随之销毁。<br>只要局部变量表中直接或间接引用的对象都是不会回收的。因此，理解局部变量表对理解垃圾回收有一定帮助。</li>\n</ul>\n<h2 id=\"Class文件结构\"><a href=\"#Class文件结构\" class=\"headerlink\" title=\"Class文件结构\"></a>Class文件结构</h2><ul>\n<li>文件以一个4字节的Magic开头，紧跟着两个大小版本号</li>\n<li>在版本号之后是常量池，常量池的个数位constant_pool_count。</li>\n<li>常量池之后是类的访问修饰符、代表自身类的引用、父类引用以及接口数量和实现的接口引用。</li>\n<li>在接口之后，有字段数量和字段描述、方法数量以及方法描述。</li>\n<li>最后放着类文件的属性信息。</li>\n</ul>\n<p>注意：高版本的java虚拟机可以执行由低版本编译器生成的Class文件，但是低版本的java虚拟机不能执行高版本编译器生成的Class文件。</p>\n<h2 id=\"参考书籍\"><a href=\"#参考书籍\" class=\"headerlink\" title=\"参考书籍\"></a>参考书籍</h2><p>《初探Java虚拟机》</p>"},{"title":"机器学习资料记录","date":"2017-06-16T15:34:39.000Z","_content":"\n## 前言\n机器学习最近才开始上手去弄，但是自己是真的挺喜欢的，发现自己学习的很多东西都能派上用场，所以这里记录下一些好的学习资料，大家一起前进\n\n\n## 现在在看的课程 湾湾老师讲的很通俗易懂\n[国立台湾大学林轩田开的两门课：机器学习基石（适合入门），机器学习技法（适合提高）](https://www.youtube.com/watch?v=1xnUlrgJJGo&index=7&list=PLXVfgk9fNX2I7tB6oIINGBmW50rrmFTqf)\n\n## 最近在看的书\n《机器学习实战》\n《机器学习》周志华 这本书也叫做“西瓜书”\n《统计学方法》李航\n\n## 最近看的文章\n[一些库](https://medium.com/@kailashahirwar/essential-cheat-sheets-for-machine-learning-and-deep-learning-researchers-efb6a8ebd2e5)\n[从神经元到CNN、RNN、GAN…神经网络看本文绝对够了](https://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&mid=2247486196&idx=1&sn=da94fd48b9258034d70399c6c6f35d2a)\n\n\n## 最近在看的paper\n<!--more-->\n\n## 每日音乐推荐\n评论：\nA_Zalee：瞎扯，假设抖腿振动幅度为5cm，则振动一次是10cm=0.1m，频率是7.5×10^14Hz，平均速度是7.5×10^13m/s，为光速的250173倍，明显违反狭义相对论。\n◆◆沉著的大叔：其实抖腿没什么不好，不仅能缓解压力，而且当速度达到每秒750,000,000,000,000次(750THz)时，理论上将产生可见光电磁波，膝盖会闪闪发光。燃烧自己，照亮他人，大家一起试试看吧。\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=28830411&auto=1&height=66\"></iframe>\n","source":"_posts/mathinelearning.md","raw":"---\ntitle: 机器学习资料记录\ndate: 2017-06-16 23:34:39\ntags: [机器学习]\n---\n\n## 前言\n机器学习最近才开始上手去弄，但是自己是真的挺喜欢的，发现自己学习的很多东西都能派上用场，所以这里记录下一些好的学习资料，大家一起前进\n\n\n## 现在在看的课程 湾湾老师讲的很通俗易懂\n[国立台湾大学林轩田开的两门课：机器学习基石（适合入门），机器学习技法（适合提高）](https://www.youtube.com/watch?v=1xnUlrgJJGo&index=7&list=PLXVfgk9fNX2I7tB6oIINGBmW50rrmFTqf)\n\n## 最近在看的书\n《机器学习实战》\n《机器学习》周志华 这本书也叫做“西瓜书”\n《统计学方法》李航\n\n## 最近看的文章\n[一些库](https://medium.com/@kailashahirwar/essential-cheat-sheets-for-machine-learning-and-deep-learning-researchers-efb6a8ebd2e5)\n[从神经元到CNN、RNN、GAN…神经网络看本文绝对够了](https://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&mid=2247486196&idx=1&sn=da94fd48b9258034d70399c6c6f35d2a)\n\n\n## 最近在看的paper\n<!--more-->\n\n## 每日音乐推荐\n评论：\nA_Zalee：瞎扯，假设抖腿振动幅度为5cm，则振动一次是10cm=0.1m，频率是7.5×10^14Hz，平均速度是7.5×10^13m/s，为光速的250173倍，明显违反狭义相对论。\n◆◆沉著的大叔：其实抖腿没什么不好，不仅能缓解压力，而且当速度达到每秒750,000,000,000,000次(750THz)时，理论上将产生可见光电磁波，膝盖会闪闪发光。燃烧自己，照亮他人，大家一起试试看吧。\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=28830411&auto=1&height=66\"></iframe>\n","slug":"mathinelearning","published":1,"updated":"2017-06-21T12:21:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udi0019ffca4i7sxh2f","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>机器学习最近才开始上手去弄，但是自己是真的挺喜欢的，发现自己学习的很多东西都能派上用场，所以这里记录下一些好的学习资料，大家一起前进</p>\n<h2 id=\"现在在看的课程-湾湾老师讲的很通俗易懂\"><a href=\"#现在在看的课程-湾湾老师讲的很通俗易懂\" class=\"headerlink\" title=\"现在在看的课程 湾湾老师讲的很通俗易懂\"></a>现在在看的课程 湾湾老师讲的很通俗易懂</h2><p><a href=\"https://www.youtube.com/watch?v=1xnUlrgJJGo&amp;index=7&amp;list=PLXVfgk9fNX2I7tB6oIINGBmW50rrmFTqf\" target=\"_blank\" rel=\"external\">国立台湾大学林轩田开的两门课：机器学习基石（适合入门），机器学习技法（适合提高）</a></p>\n<h2 id=\"最近在看的书\"><a href=\"#最近在看的书\" class=\"headerlink\" title=\"最近在看的书\"></a>最近在看的书</h2><p>《机器学习实战》<br>《机器学习》周志华 这本书也叫做“西瓜书”<br>《统计学方法》李航</p>\n<h2 id=\"最近看的文章\"><a href=\"#最近看的文章\" class=\"headerlink\" title=\"最近看的文章\"></a>最近看的文章</h2><p><a href=\"https://medium.com/@kailashahirwar/essential-cheat-sheets-for-machine-learning-and-deep-learning-researchers-efb6a8ebd2e5\" target=\"_blank\" rel=\"external\">一些库</a><br><a href=\"https://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247486196&amp;idx=1&amp;sn=da94fd48b9258034d70399c6c6f35d2a\" target=\"_blank\" rel=\"external\">从神经元到CNN、RNN、GAN…神经网络看本文绝对够了</a></p>\n<h2 id=\"最近在看的paper\"><a href=\"#最近在看的paper\" class=\"headerlink\" title=\"最近在看的paper\"></a>最近在看的paper</h2><a id=\"more\"></a>\n<h2 id=\"每日音乐推荐\"><a href=\"#每日音乐推荐\" class=\"headerlink\" title=\"每日音乐推荐\"></a>每日音乐推荐</h2><p>评论：<br>A_Zalee：瞎扯，假设抖腿振动幅度为5cm，则振动一次是10cm=0.1m，频率是7.5×10^14Hz，平均速度是7.5×10^13m/s，为光速的250173倍，明显违反狭义相对论。<br>◆◆沉著的大叔：其实抖腿没什么不好，不仅能缓解压力，而且当速度达到每秒750,000,000,000,000次(750THz)时，理论上将产生可见光电磁波，膝盖会闪闪发光。燃烧自己，照亮他人，大家一起试试看吧。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=28830411&auto=1&height=66\"></iframe>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>机器学习最近才开始上手去弄，但是自己是真的挺喜欢的，发现自己学习的很多东西都能派上用场，所以这里记录下一些好的学习资料，大家一起前进</p>\n<h2 id=\"现在在看的课程-湾湾老师讲的很通俗易懂\"><a href=\"#现在在看的课程-湾湾老师讲的很通俗易懂\" class=\"headerlink\" title=\"现在在看的课程 湾湾老师讲的很通俗易懂\"></a>现在在看的课程 湾湾老师讲的很通俗易懂</h2><p><a href=\"https://www.youtube.com/watch?v=1xnUlrgJJGo&amp;index=7&amp;list=PLXVfgk9fNX2I7tB6oIINGBmW50rrmFTqf\">国立台湾大学林轩田开的两门课：机器学习基石（适合入门），机器学习技法（适合提高）</a></p>\n<h2 id=\"最近在看的书\"><a href=\"#最近在看的书\" class=\"headerlink\" title=\"最近在看的书\"></a>最近在看的书</h2><p>《机器学习实战》<br>《机器学习》周志华 这本书也叫做“西瓜书”<br>《统计学方法》李航</p>\n<h2 id=\"最近看的文章\"><a href=\"#最近看的文章\" class=\"headerlink\" title=\"最近看的文章\"></a>最近看的文章</h2><p><a href=\"https://medium.com/@kailashahirwar/essential-cheat-sheets-for-machine-learning-and-deep-learning-researchers-efb6a8ebd2e5\">一些库</a><br><a href=\"https://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247486196&amp;idx=1&amp;sn=da94fd48b9258034d70399c6c6f35d2a\">从神经元到CNN、RNN、GAN…神经网络看本文绝对够了</a></p>\n<h2 id=\"最近在看的paper\"><a href=\"#最近在看的paper\" class=\"headerlink\" title=\"最近在看的paper\"></a>最近在看的paper</h2>","more":"<h2 id=\"每日音乐推荐\"><a href=\"#每日音乐推荐\" class=\"headerlink\" title=\"每日音乐推荐\"></a>每日音乐推荐</h2><p>评论：<br>A_Zalee：瞎扯，假设抖腿振动幅度为5cm，则振动一次是10cm=0.1m，频率是7.5×10^14Hz，平均速度是7.5×10^13m/s，为光速的250173倍，明显违反狭义相对论。<br>◆◆沉著的大叔：其实抖腿没什么不好，不仅能缓解压力，而且当速度达到每秒750,000,000,000,000次(750THz)时，理论上将产生可见光电磁波，膝盖会闪闪发光。燃烧自己，照亮他人，大家一起试试看吧。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=28830411&auto=1&height=66\"></iframe>"},{"title":"数据库学习笔记二","date":"2017-02-19T14:45:29.000Z","_content":"\n## Mysql 视图\n概念： 视图可以包含表中的所有列，或者仅包含选定的列。视图可以创建自一个或者多个表，这取决于创建该视图的 SQL 语句的写法。视图，是一种虚拟的表，数据库只存放了视图的定义，并没有存放视图中的数据。\n优点：用户可以不用看到整个数据库表中的数据，而只关心对自己有用的数据即可。\n\n作用：\n* 简单性：所见即所需\n* 安全性：授权\n* 逻辑数据独立性：程序与数据库独立\n\n\n视图与查询的区别：\n\n视图和查询都是用由sql语句组成,这是他们相同的地方,但是视图和查询有着本质区别：\n它们的区别在于：\n* 存储上的区别：视图存储为数据库设计的一部分,而查询则不是\n* 更新限制的要求不一样\n要注意：因为视图来自于表,所以通过视图可以间接对表进行更新,我们也可以通过update语句对表进行更新,但是对视图和查询更新限制是不同的,\n* 排序结果：通过sql语句,可以对一个表进行排序,而视图则不行。\n\n<!-- more -->\n\n## Mysql 存储过程\n存储过程和存储函数是一些被用户定义的SQL语句集合，经编译后存储在数据库。用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。其具有执行速度快，提高系统性能，确保数据库安全等诸多优点。\n\n优点：\n* 存储过程允许标准组件式编程\n* 存储过程能够实现较快的执行速度\n* 存储过程能够减少网络流量\n* 存储过程可被作为一种安全机制来充分利用\n\n\n\n## 参考书籍和链接\n《Mysql快速入门》\n[博客一](http://www.cnblogs.com/pony/archive/2008/07/15/1243210.html)\n[博客二](http://www.cnmiss.cn/?p=52)\n","source":"_posts/mysql2.md","raw":"---\ntitle: 数据库学习笔记二\ndate: 2017-02-19 22:45:29\ncategories: 数据库                    #文章文类\ntags: [小章鱼, 数据库, 学习笔记]\n---\n\n## Mysql 视图\n概念： 视图可以包含表中的所有列，或者仅包含选定的列。视图可以创建自一个或者多个表，这取决于创建该视图的 SQL 语句的写法。视图，是一种虚拟的表，数据库只存放了视图的定义，并没有存放视图中的数据。\n优点：用户可以不用看到整个数据库表中的数据，而只关心对自己有用的数据即可。\n\n作用：\n* 简单性：所见即所需\n* 安全性：授权\n* 逻辑数据独立性：程序与数据库独立\n\n\n视图与查询的区别：\n\n视图和查询都是用由sql语句组成,这是他们相同的地方,但是视图和查询有着本质区别：\n它们的区别在于：\n* 存储上的区别：视图存储为数据库设计的一部分,而查询则不是\n* 更新限制的要求不一样\n要注意：因为视图来自于表,所以通过视图可以间接对表进行更新,我们也可以通过update语句对表进行更新,但是对视图和查询更新限制是不同的,\n* 排序结果：通过sql语句,可以对一个表进行排序,而视图则不行。\n\n<!-- more -->\n\n## Mysql 存储过程\n存储过程和存储函数是一些被用户定义的SQL语句集合，经编译后存储在数据库。用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。其具有执行速度快，提高系统性能，确保数据库安全等诸多优点。\n\n优点：\n* 存储过程允许标准组件式编程\n* 存储过程能够实现较快的执行速度\n* 存储过程能够减少网络流量\n* 存储过程可被作为一种安全机制来充分利用\n\n\n\n## 参考书籍和链接\n《Mysql快速入门》\n[博客一](http://www.cnblogs.com/pony/archive/2008/07/15/1243210.html)\n[博客二](http://www.cnmiss.cn/?p=52)\n","slug":"mysql2","published":1,"updated":"2017-02-21T15:01:27.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udk001cffcaf059gt7b","content":"<h2 id=\"Mysql-视图\"><a href=\"#Mysql-视图\" class=\"headerlink\" title=\"Mysql 视图\"></a>Mysql 视图</h2><p>概念： 视图可以包含表中的所有列，或者仅包含选定的列。视图可以创建自一个或者多个表，这取决于创建该视图的 SQL 语句的写法。视图，是一种虚拟的表，数据库只存放了视图的定义，并没有存放视图中的数据。<br>优点：用户可以不用看到整个数据库表中的数据，而只关心对自己有用的数据即可。</p>\n<p>作用：</p>\n<ul>\n<li>简单性：所见即所需</li>\n<li>安全性：授权</li>\n<li>逻辑数据独立性：程序与数据库独立</li>\n</ul>\n<p>视图与查询的区别：</p>\n<p>视图和查询都是用由sql语句组成,这是他们相同的地方,但是视图和查询有着本质区别：<br>它们的区别在于：</p>\n<ul>\n<li>存储上的区别：视图存储为数据库设计的一部分,而查询则不是</li>\n<li>更新限制的要求不一样<br>要注意：因为视图来自于表,所以通过视图可以间接对表进行更新,我们也可以通过update语句对表进行更新,但是对视图和查询更新限制是不同的,</li>\n<li>排序结果：通过sql语句,可以对一个表进行排序,而视图则不行。</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"Mysql-存储过程\"><a href=\"#Mysql-存储过程\" class=\"headerlink\" title=\"Mysql 存储过程\"></a>Mysql 存储过程</h2><p>存储过程和存储函数是一些被用户定义的SQL语句集合，经编译后存储在数据库。用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。其具有执行速度快，提高系统性能，确保数据库安全等诸多优点。</p>\n<p>优点：</p>\n<ul>\n<li>存储过程允许标准组件式编程</li>\n<li>存储过程能够实现较快的执行速度</li>\n<li>存储过程能够减少网络流量</li>\n<li>存储过程可被作为一种安全机制来充分利用</li>\n</ul>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《Mysql快速入门》<br><a href=\"http://www.cnblogs.com/pony/archive/2008/07/15/1243210.html\" target=\"_blank\" rel=\"external\">博客一</a><br><a href=\"http://www.cnmiss.cn/?p=52\" target=\"_blank\" rel=\"external\">博客二</a></p>\n","excerpt":"<h2 id=\"Mysql-视图\"><a href=\"#Mysql-视图\" class=\"headerlink\" title=\"Mysql 视图\"></a>Mysql 视图</h2><p>概念： 视图可以包含表中的所有列，或者仅包含选定的列。视图可以创建自一个或者多个表，这取决于创建该视图的 SQL 语句的写法。视图，是一种虚拟的表，数据库只存放了视图的定义，并没有存放视图中的数据。<br>优点：用户可以不用看到整个数据库表中的数据，而只关心对自己有用的数据即可。</p>\n<p>作用：</p>\n<ul>\n<li>简单性：所见即所需</li>\n<li>安全性：授权</li>\n<li>逻辑数据独立性：程序与数据库独立</li>\n</ul>\n<p>视图与查询的区别：</p>\n<p>视图和查询都是用由sql语句组成,这是他们相同的地方,但是视图和查询有着本质区别：<br>它们的区别在于：</p>\n<ul>\n<li>存储上的区别：视图存储为数据库设计的一部分,而查询则不是</li>\n<li>更新限制的要求不一样<br>要注意：因为视图来自于表,所以通过视图可以间接对表进行更新,我们也可以通过update语句对表进行更新,但是对视图和查询更新限制是不同的,</li>\n<li>排序结果：通过sql语句,可以对一个表进行排序,而视图则不行。</li>\n</ul>","more":"<h2 id=\"Mysql-存储过程\"><a href=\"#Mysql-存储过程\" class=\"headerlink\" title=\"Mysql 存储过程\"></a>Mysql 存储过程</h2><p>存储过程和存储函数是一些被用户定义的SQL语句集合，经编译后存储在数据库。用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。其具有执行速度快，提高系统性能，确保数据库安全等诸多优点。</p>\n<p>优点：</p>\n<ul>\n<li>存储过程允许标准组件式编程</li>\n<li>存储过程能够实现较快的执行速度</li>\n<li>存储过程能够减少网络流量</li>\n<li>存储过程可被作为一种安全机制来充分利用</li>\n</ul>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《Mysql快速入门》<br><a href=\"http://www.cnblogs.com/pony/archive/2008/07/15/1243210.html\">博客一</a><br><a href=\"http://www.cnmiss.cn/?p=52\">博客二</a></p>"},{"title":"逻辑回归","date":"2017-06-28T02:07:50.000Z","_content":"\n## 前言\n最近在做一个早期预警的模型，这个模型用到了逻辑回归，这里记录下自己学习逻辑回归的笔记。\n\n## sigmod函数推导\n逻辑回归用到sigmod函数作为概率模型，相信很多人在一开始看机器学习相关书籍的时候就看到了，但是为什么可以用sigmod函数作为概率模型还有很多疑惑。这里首先讲解下为什么可以用sigmod函数作为概率模型。其实机器学习的核心也就是要找到一个概率模型和找到损失函数，然后使得损失函数最小不断地改进系数。下图是sigmod的推导，手写字有点难看😂\n![sigmod推导](logicalRegssion/sigmod.jpeg)\n\n<!--more-->\n\n## 决策函数\n一个机器学习的模型，实际上把决策函数限定在某一组条件下(也就是特征)，这组限定条件决定了模型的假设空间。\n\n## 损失函数\n![损失函数](logicalRegssion/loss.jpeg)\n\n\n## 参考链接\n[美团技术](http://tech.meituan.com/intro_to_logistic_regression.html)\n[博客](http://blog.csdn.net/YoYoDelphine/article/details/52888276)\n[知乎](https://www.zhihu.com/question/30643044)\n[edu](http://ufldl.stanford.edu/wiki/index.php/Softmax%E5%9B%9E%E5%BD%92#.E4.B8.AD.E8.8B.B1.E6.96.87.E5.AF.B9.E7.85.A7)\n[softmax](https://zhuanlan.zhihu.com/p/21485970)","source":"_posts/logicalRegression.md","raw":"---\ntitle: 逻辑回归\ndate: 2017-06-28 10:07:50\ntags: [logical, 机器学习]\n---\n\n## 前言\n最近在做一个早期预警的模型，这个模型用到了逻辑回归，这里记录下自己学习逻辑回归的笔记。\n\n## sigmod函数推导\n逻辑回归用到sigmod函数作为概率模型，相信很多人在一开始看机器学习相关书籍的时候就看到了，但是为什么可以用sigmod函数作为概率模型还有很多疑惑。这里首先讲解下为什么可以用sigmod函数作为概率模型。其实机器学习的核心也就是要找到一个概率模型和找到损失函数，然后使得损失函数最小不断地改进系数。下图是sigmod的推导，手写字有点难看😂\n![sigmod推导](logicalRegssion/sigmod.jpeg)\n\n<!--more-->\n\n## 决策函数\n一个机器学习的模型，实际上把决策函数限定在某一组条件下(也就是特征)，这组限定条件决定了模型的假设空间。\n\n## 损失函数\n![损失函数](logicalRegssion/loss.jpeg)\n\n\n## 参考链接\n[美团技术](http://tech.meituan.com/intro_to_logistic_regression.html)\n[博客](http://blog.csdn.net/YoYoDelphine/article/details/52888276)\n[知乎](https://www.zhihu.com/question/30643044)\n[edu](http://ufldl.stanford.edu/wiki/index.php/Softmax%E5%9B%9E%E5%BD%92#.E4.B8.AD.E8.8B.B1.E6.96.87.E5.AF.B9.E7.85.A7)\n[softmax](https://zhuanlan.zhihu.com/p/21485970)","slug":"logicalRegression","published":1,"updated":"2017-06-29T02:25:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udn001fffcafe741i28","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在做一个早期预警的模型，这个模型用到了逻辑回归，这里记录下自己学习逻辑回归的笔记。</p>\n<h2 id=\"sigmod函数推导\"><a href=\"#sigmod函数推导\" class=\"headerlink\" title=\"sigmod函数推导\"></a>sigmod函数推导</h2><p>逻辑回归用到sigmod函数作为概率模型，相信很多人在一开始看机器学习相关书籍的时候就看到了，但是为什么可以用sigmod函数作为概率模型还有很多疑惑。这里首先讲解下为什么可以用sigmod函数作为概率模型。其实机器学习的核心也就是要找到一个概率模型和找到损失函数，然后使得损失函数最小不断地改进系数。下图是sigmod的推导，手写字有点难看😂<br><img src=\"/2017/06/28/logicalRegression/sigmod.jpeg\" alt=\"sigmod推导\"></p>\n<a id=\"more\"></a>\n<h2 id=\"决策函数\"><a href=\"#决策函数\" class=\"headerlink\" title=\"决策函数\"></a>决策函数</h2><p>一个机器学习的模型，实际上把决策函数限定在某一组条件下(也就是特征)，这组限定条件决定了模型的假设空间。</p>\n<h2 id=\"损失函数\"><a href=\"#损失函数\" class=\"headerlink\" title=\"损失函数\"></a>损失函数</h2><p><img src=\"/2017/06/28/logicalRegression/loss.jpeg\" alt=\"损失函数\"></p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://tech.meituan.com/intro_to_logistic_regression.html\" target=\"_blank\" rel=\"external\">美团技术</a><br><a href=\"http://blog.csdn.net/YoYoDelphine/article/details/52888276\" target=\"_blank\" rel=\"external\">博客</a><br><a href=\"https://www.zhihu.com/question/30643044\" target=\"_blank\" rel=\"external\">知乎</a><br><a href=\"http://ufldl.stanford.edu/wiki/index.php/Softmax%E5%9B%9E%E5%BD%92#.E4.B8.AD.E8.8B.B1.E6.96.87.E5.AF.B9.E7.85.A7\" target=\"_blank\" rel=\"external\">edu</a><br><a href=\"https://zhuanlan.zhihu.com/p/21485970\" target=\"_blank\" rel=\"external\">softmax</a></p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在做一个早期预警的模型，这个模型用到了逻辑回归，这里记录下自己学习逻辑回归的笔记。</p>\n<h2 id=\"sigmod函数推导\"><a href=\"#sigmod函数推导\" class=\"headerlink\" title=\"sigmod函数推导\"></a>sigmod函数推导</h2><p>逻辑回归用到sigmod函数作为概率模型，相信很多人在一开始看机器学习相关书籍的时候就看到了，但是为什么可以用sigmod函数作为概率模型还有很多疑惑。这里首先讲解下为什么可以用sigmod函数作为概率模型。其实机器学习的核心也就是要找到一个概率模型和找到损失函数，然后使得损失函数最小不断地改进系数。下图是sigmod的推导，手写字有点难看😂<br><img src=\"/2017/06/28/logicalRegression/sigmod.jpeg\" alt=\"sigmod推导\"></p>","more":"<h2 id=\"决策函数\"><a href=\"#决策函数\" class=\"headerlink\" title=\"决策函数\"></a>决策函数</h2><p>一个机器学习的模型，实际上把决策函数限定在某一组条件下(也就是特征)，这组限定条件决定了模型的假设空间。</p>\n<h2 id=\"损失函数\"><a href=\"#损失函数\" class=\"headerlink\" title=\"损失函数\"></a>损失函数</h2><p><img src=\"/2017/06/28/logicalRegression/loss.jpeg\" alt=\"损失函数\"></p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://tech.meituan.com/intro_to_logistic_regression.html\">美团技术</a><br><a href=\"http://blog.csdn.net/YoYoDelphine/article/details/52888276\">博客</a><br><a href=\"https://www.zhihu.com/question/30643044\">知乎</a><br><a href=\"http://ufldl.stanford.edu/wiki/index.php/Softmax%E5%9B%9E%E5%BD%92#.E4.B8.AD.E8.8B.B1.E6.96.87.E5.AF.B9.E7.85.A7\">edu</a><br><a href=\"https://zhuanlan.zhihu.com/p/21485970\">softmax</a></p>"},{"title":"nginx","date":"2017-02-27T07:29:54.000Z","_content":"\n前段时间买了一个阿里云服务器，由于是学生特价，还挺实惠的。然后过年期间就一直没去弄他，备案也差最后照相没去弄，找个时间把这个弄了。所以想着可以玩玩服务器，这段时间没怎么接错linux方面的知识，刚好借助这个机会熟悉下。拿到服务器，开始的时候是一脸萌比的，里面什么都没有，所以需要自己安装相应的软件。\n\n## 第一步 远程登录\n[参考blog](http://blog.geeek.info/2016/03/18/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/)\n[阿里帮助文档](https://help.aliyun.com/knowledge_detail/41493.html)\n使用iterm2 在本地配置好了，就可以ssh免密登陆到阿里云服务器了。\n\n## 第二步 安装 nginx\n\n步骤\n```\n* yum -y install nginx\n* /etc/init.d/nginx start \n这个地方会报错，nginx：nginx: [emerg] socket() [::]:80 failed (97: Address family not supported by protocol)\n解决方案： \n\t* vim /etc/nginx/conf.d/default.conf\n\t* 注释 [::]:80 default_server\n* /etc/init.d/nginx restart\n* 访问ip\n```\n<!--more-->\n## 第三步，nginx 配置文件构成\n\n```\n......\nevents\n{\n......\n}\n\nhttps\n{\n......\n\tserver\n\t{\n\t......\n\t}\n\n\tserver\n\t{\n\t......\n\t}\t\n......\n}\n```\n\n\n## 第四步 nginx 压缩输出配置\n\n```\ngzip on 开启gzip模块\ngzip_buffers number size 设置系统获取几个单位的缓存用于存储gzip的压缩结果数据流。\ngzip_min_length 设置允许压缩的页面最小字节流，建议大于1K压缩。\ngzip_http_version 1.0| 1.1 是别http版本\ngzip_proxied [off|expired|no-cache|no-store...] nginx作为反向代理的时候启用开启或关闭后端服务器返回的结果。\ngzip_type mime-type 匹配mime类型进行压缩\n\ndemo\nhttp\n{\ninclude conf/mime-type;\n\ngzip on;\ngzip_min_length 1000;\ngzip_buffers 4 8K;\ngzip_http_version 1.1;\ngzip_type text/plain application/x-javascript text/css text/html application/xml;\n\n......\n}\n```\n\n## 第五步 nginx 的浏览器本地缓存设置\n```\nlocation ~ .*/.(git | jpg | jpeg | png | bmp | sef)$\n{\n\texpires 30d;\n}\nlocation ~ .*/.(js | css)?$\n{\n\texpires 1h;\n}\n```\n\n## 参考资料\n《实战Nginx》\n《Nginx Http server》","source":"_posts/nginx.md","raw":"---\ntitle: nginx\ndate: 2017-02-27 15:29:54\ncategories: nginx                    #文章文类\ntags: [小章鱼, nginx, 学习笔记]\n---\n\n前段时间买了一个阿里云服务器，由于是学生特价，还挺实惠的。然后过年期间就一直没去弄他，备案也差最后照相没去弄，找个时间把这个弄了。所以想着可以玩玩服务器，这段时间没怎么接错linux方面的知识，刚好借助这个机会熟悉下。拿到服务器，开始的时候是一脸萌比的，里面什么都没有，所以需要自己安装相应的软件。\n\n## 第一步 远程登录\n[参考blog](http://blog.geeek.info/2016/03/18/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/)\n[阿里帮助文档](https://help.aliyun.com/knowledge_detail/41493.html)\n使用iterm2 在本地配置好了，就可以ssh免密登陆到阿里云服务器了。\n\n## 第二步 安装 nginx\n\n步骤\n```\n* yum -y install nginx\n* /etc/init.d/nginx start \n这个地方会报错，nginx：nginx: [emerg] socket() [::]:80 failed (97: Address family not supported by protocol)\n解决方案： \n\t* vim /etc/nginx/conf.d/default.conf\n\t* 注释 [::]:80 default_server\n* /etc/init.d/nginx restart\n* 访问ip\n```\n<!--more-->\n## 第三步，nginx 配置文件构成\n\n```\n......\nevents\n{\n......\n}\n\nhttps\n{\n......\n\tserver\n\t{\n\t......\n\t}\n\n\tserver\n\t{\n\t......\n\t}\t\n......\n}\n```\n\n\n## 第四步 nginx 压缩输出配置\n\n```\ngzip on 开启gzip模块\ngzip_buffers number size 设置系统获取几个单位的缓存用于存储gzip的压缩结果数据流。\ngzip_min_length 设置允许压缩的页面最小字节流，建议大于1K压缩。\ngzip_http_version 1.0| 1.1 是别http版本\ngzip_proxied [off|expired|no-cache|no-store...] nginx作为反向代理的时候启用开启或关闭后端服务器返回的结果。\ngzip_type mime-type 匹配mime类型进行压缩\n\ndemo\nhttp\n{\ninclude conf/mime-type;\n\ngzip on;\ngzip_min_length 1000;\ngzip_buffers 4 8K;\ngzip_http_version 1.1;\ngzip_type text/plain application/x-javascript text/css text/html application/xml;\n\n......\n}\n```\n\n## 第五步 nginx 的浏览器本地缓存设置\n```\nlocation ~ .*/.(git | jpg | jpeg | png | bmp | sef)$\n{\n\texpires 30d;\n}\nlocation ~ .*/.(js | css)?$\n{\n\texpires 1h;\n}\n```\n\n## 参考资料\n《实战Nginx》\n《Nginx Http server》","slug":"nginx","published":1,"updated":"2017-02-27T08:44:41.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udp001hffca2nko3mwb","content":"<p>前段时间买了一个阿里云服务器，由于是学生特价，还挺实惠的。然后过年期间就一直没去弄他，备案也差最后照相没去弄，找个时间把这个弄了。所以想着可以玩玩服务器，这段时间没怎么接错linux方面的知识，刚好借助这个机会熟悉下。拿到服务器，开始的时候是一脸萌比的，里面什么都没有，所以需要自己安装相应的软件。</p>\n<h2 id=\"第一步-远程登录\"><a href=\"#第一步-远程登录\" class=\"headerlink\" title=\"第一步 远程登录\"></a>第一步 远程登录</h2><p><a href=\"http://blog.geeek.info/2016/03/18/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/\" target=\"_blank\" rel=\"external\">参考blog</a><br><a href=\"https://help.aliyun.com/knowledge_detail/41493.html\" target=\"_blank\" rel=\"external\">阿里帮助文档</a><br>使用iterm2 在本地配置好了，就可以ssh免密登陆到阿里云服务器了。</p>\n<h2 id=\"第二步-安装-nginx\"><a href=\"#第二步-安装-nginx\" class=\"headerlink\" title=\"第二步 安装 nginx\"></a>第二步 安装 nginx</h2><p>步骤<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">* yum -y install nginx</div><div class=\"line\">* /etc/init.d/nginx start </div><div class=\"line\">这个地方会报错，nginx：nginx: [emerg] socket() [::]:80 failed (97: Address family not supported by protocol)</div><div class=\"line\">解决方案： </div><div class=\"line\">\t* vim /etc/nginx/conf.d/default.conf</div><div class=\"line\">\t* 注释 [::]:80 default_server</div><div class=\"line\">* /etc/init.d/nginx restart</div><div class=\"line\">* 访问ip</div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<h2 id=\"第三步，nginx-配置文件构成\"><a href=\"#第三步，nginx-配置文件构成\" class=\"headerlink\" title=\"第三步，nginx 配置文件构成\"></a>第三步，nginx 配置文件构成</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">......</div><div class=\"line\">events</div><div class=\"line\">&#123;</div><div class=\"line\">......</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">https</div><div class=\"line\">&#123;</div><div class=\"line\">......</div><div class=\"line\">\tserver</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t......</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\tserver</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t......</div><div class=\"line\">\t&#125;\t</div><div class=\"line\">......</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"第四步-nginx-压缩输出配置\"><a href=\"#第四步-nginx-压缩输出配置\" class=\"headerlink\" title=\"第四步 nginx 压缩输出配置\"></a>第四步 nginx 压缩输出配置</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">gzip on 开启gzip模块</div><div class=\"line\">gzip_buffers number size 设置系统获取几个单位的缓存用于存储gzip的压缩结果数据流。</div><div class=\"line\">gzip_min_length 设置允许压缩的页面最小字节流，建议大于1K压缩。</div><div class=\"line\">gzip_http_version 1.0| 1.1 是别http版本</div><div class=\"line\">gzip_proxied [off|expired|no-cache|no-store...] nginx作为反向代理的时候启用开启或关闭后端服务器返回的结果。</div><div class=\"line\">gzip_type mime-type 匹配mime类型进行压缩</div><div class=\"line\"></div><div class=\"line\">demo</div><div class=\"line\">http</div><div class=\"line\">&#123;</div><div class=\"line\">include conf/mime-type;</div><div class=\"line\"></div><div class=\"line\">gzip on;</div><div class=\"line\">gzip_min_length 1000;</div><div class=\"line\">gzip_buffers 4 8K;</div><div class=\"line\">gzip_http_version 1.1;</div><div class=\"line\">gzip_type text/plain application/x-javascript text/css text/html application/xml;</div><div class=\"line\"></div><div class=\"line\">......</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"第五步-nginx-的浏览器本地缓存设置\"><a href=\"#第五步-nginx-的浏览器本地缓存设置\" class=\"headerlink\" title=\"第五步 nginx 的浏览器本地缓存设置\"></a>第五步 nginx 的浏览器本地缓存设置</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~ .*/.(git | jpg | jpeg | png | bmp | sef)$</div><div class=\"line\">&#123;</div><div class=\"line\">\texpires 30d;</div><div class=\"line\">&#125;</div><div class=\"line\">location ~ .*/.(js | css)?$</div><div class=\"line\">&#123;</div><div class=\"line\">\texpires 1h;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p>《实战Nginx》<br>《Nginx Http server》</p>\n","excerpt":"<p>前段时间买了一个阿里云服务器，由于是学生特价，还挺实惠的。然后过年期间就一直没去弄他，备案也差最后照相没去弄，找个时间把这个弄了。所以想着可以玩玩服务器，这段时间没怎么接错linux方面的知识，刚好借助这个机会熟悉下。拿到服务器，开始的时候是一脸萌比的，里面什么都没有，所以需要自己安装相应的软件。</p>\n<h2 id=\"第一步-远程登录\"><a href=\"#第一步-远程登录\" class=\"headerlink\" title=\"第一步 远程登录\"></a>第一步 远程登录</h2><p><a href=\"http://blog.geeek.info/2016/03/18/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/\">参考blog</a><br><a href=\"https://help.aliyun.com/knowledge_detail/41493.html\">阿里帮助文档</a><br>使用iterm2 在本地配置好了，就可以ssh免密登陆到阿里云服务器了。</p>\n<h2 id=\"第二步-安装-nginx\"><a href=\"#第二步-安装-nginx\" class=\"headerlink\" title=\"第二步 安装 nginx\"></a>第二步 安装 nginx</h2><p>步骤<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">* yum -y install nginx</div><div class=\"line\">* /etc/init.d/nginx start </div><div class=\"line\">这个地方会报错，nginx：nginx: [emerg] socket() [::]:80 failed (97: Address family not supported by protocol)</div><div class=\"line\">解决方案： </div><div class=\"line\">\t* vim /etc/nginx/conf.d/default.conf</div><div class=\"line\">\t* 注释 [::]:80 default_server</div><div class=\"line\">* /etc/init.d/nginx restart</div><div class=\"line\">* 访问ip</div></pre></td></tr></table></figure></p>","more":"<h2 id=\"第三步，nginx-配置文件构成\"><a href=\"#第三步，nginx-配置文件构成\" class=\"headerlink\" title=\"第三步，nginx 配置文件构成\"></a>第三步，nginx 配置文件构成</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">......</div><div class=\"line\">events</div><div class=\"line\">&#123;</div><div class=\"line\">......</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">https</div><div class=\"line\">&#123;</div><div class=\"line\">......</div><div class=\"line\">\tserver</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t......</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\tserver</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t......</div><div class=\"line\">\t&#125;\t</div><div class=\"line\">......</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"第四步-nginx-压缩输出配置\"><a href=\"#第四步-nginx-压缩输出配置\" class=\"headerlink\" title=\"第四步 nginx 压缩输出配置\"></a>第四步 nginx 压缩输出配置</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">gzip on 开启gzip模块</div><div class=\"line\">gzip_buffers number size 设置系统获取几个单位的缓存用于存储gzip的压缩结果数据流。</div><div class=\"line\">gzip_min_length 设置允许压缩的页面最小字节流，建议大于1K压缩。</div><div class=\"line\">gzip_http_version 1.0| 1.1 是别http版本</div><div class=\"line\">gzip_proxied [off|expired|no-cache|no-store...] nginx作为反向代理的时候启用开启或关闭后端服务器返回的结果。</div><div class=\"line\">gzip_type mime-type 匹配mime类型进行压缩</div><div class=\"line\"></div><div class=\"line\">demo</div><div class=\"line\">http</div><div class=\"line\">&#123;</div><div class=\"line\">include conf/mime-type;</div><div class=\"line\"></div><div class=\"line\">gzip on;</div><div class=\"line\">gzip_min_length 1000;</div><div class=\"line\">gzip_buffers 4 8K;</div><div class=\"line\">gzip_http_version 1.1;</div><div class=\"line\">gzip_type text/plain application/x-javascript text/css text/html application/xml;</div><div class=\"line\"></div><div class=\"line\">......</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"第五步-nginx-的浏览器本地缓存设置\"><a href=\"#第五步-nginx-的浏览器本地缓存设置\" class=\"headerlink\" title=\"第五步 nginx 的浏览器本地缓存设置\"></a>第五步 nginx 的浏览器本地缓存设置</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~ .*/.(git | jpg | jpeg | png | bmp | sef)$</div><div class=\"line\">&#123;</div><div class=\"line\">\texpires 30d;</div><div class=\"line\">&#125;</div><div class=\"line\">location ~ .*/.(js | css)?$</div><div class=\"line\">&#123;</div><div class=\"line\">\texpires 1h;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p>《实战Nginx》<br>《Nginx Http server》</p>"},{"title":"数据库约束","date":"2017-06-04T02:04:52.000Z","_content":"\n## 前言\n在系统学习数据库之前，直接前面知识了解CURD操作的命令，有的时候再写代码的时候会遇到要求需要添加NOT NULL等约束，但是具体有哪些约束以及如何给出专业的解释，其实自己是比较虚的。所以今天准备系统学习下数据库的约束。\n\n## 约束\n约束是数据库中不可少的一部分。约束的目的在于保持数据的完整性，数据完整性是指数据的精确性以及可靠性。约束的种类：\n* 域完整性：对数据表中字段属性的约束，主要包括not null约束／唯一约束／检查约束\n* 实体完整性：主键约束，关系中主属性不为null且不能有相同值。\n* 参照完整性：外键约束，关系中外键必须是另一个关系的主键有效值\n\n<!-- more -->\n## 主键\n定义：主键被创建在一个或者多个列上，通过这些列的值或者值的组合，唯一地标识一条记录。\n特点：\n* 定义了primary key 约束的列（或列组合）不能包含重复值，并且不能包含null值\n* Oracle自动为具有parimary key约束的列（或列组合）建立了一个唯一索引和not null约束\n* 同一个表只能定义一个primary key约束\n* 可以在列上定义primary key约束，也可以在多个列上组合上定义primary key约束\n\n## 外键\n定义：外键约束可以保证使用外键约束的数据库列与所引用的主键约束的数据列一致，外键约束在一个数据表可以有多个。定义了foreign key约束的列称为外键列，被foreign key约束索引的列称为引用列。包含外键的表称为子表，包含引用列的表称为父表。\n特点：\n* 定义了foreign key 约束的列中只能包含相应的其他表中引用的列的值，或为null\n* 定义了foreign key 约束的列赫相应的引用列可以在同一个表中，这种情况称为自引用\n* 同一个列可以同时定义foreign key和not null约束\n* foreign key必须参照一个primary key约束或者唯一约束约束\n* 可以在列上定义foreign key约束，也可以在多个列上组合上定义foreign key约束\n\n## 唯一约束（UNIQUE约束）\n定义：唯一性约束和主键约束很相似，不同的是主键约束在同一个表中只能有一个，而唯一约束在一个表中可以有多个\n\n## 检查约束\n针对列值本身进行限制\n\n\n## 参考书籍和链接\n《oracle 入门》\n\n## 每文音乐推荐\n爱听音乐的猫大叔：爸妈只会简单地操作电脑，\n我在另一个城市上班，忙的发昏，很少回去。\n所以就在电脑上弄了个360，\n他们也不会杀毒，\n每次我回去，体检一下电脑，升一下级。\n昨天老妈打电话 ：儿子啊，360已经提示187天没有体检了………\n顿时，泪流满面。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5149899&auto=1&height=66\"></iframe>","source":"_posts/oraCons.md","raw":"---\ntitle: 数据库约束\ndate: 2017-06-04 10:04:52\ntags: [oracle, 约束]\n---\n\n## 前言\n在系统学习数据库之前，直接前面知识了解CURD操作的命令，有的时候再写代码的时候会遇到要求需要添加NOT NULL等约束，但是具体有哪些约束以及如何给出专业的解释，其实自己是比较虚的。所以今天准备系统学习下数据库的约束。\n\n## 约束\n约束是数据库中不可少的一部分。约束的目的在于保持数据的完整性，数据完整性是指数据的精确性以及可靠性。约束的种类：\n* 域完整性：对数据表中字段属性的约束，主要包括not null约束／唯一约束／检查约束\n* 实体完整性：主键约束，关系中主属性不为null且不能有相同值。\n* 参照完整性：外键约束，关系中外键必须是另一个关系的主键有效值\n\n<!-- more -->\n## 主键\n定义：主键被创建在一个或者多个列上，通过这些列的值或者值的组合，唯一地标识一条记录。\n特点：\n* 定义了primary key 约束的列（或列组合）不能包含重复值，并且不能包含null值\n* Oracle自动为具有parimary key约束的列（或列组合）建立了一个唯一索引和not null约束\n* 同一个表只能定义一个primary key约束\n* 可以在列上定义primary key约束，也可以在多个列上组合上定义primary key约束\n\n## 外键\n定义：外键约束可以保证使用外键约束的数据库列与所引用的主键约束的数据列一致，外键约束在一个数据表可以有多个。定义了foreign key约束的列称为外键列，被foreign key约束索引的列称为引用列。包含外键的表称为子表，包含引用列的表称为父表。\n特点：\n* 定义了foreign key 约束的列中只能包含相应的其他表中引用的列的值，或为null\n* 定义了foreign key 约束的列赫相应的引用列可以在同一个表中，这种情况称为自引用\n* 同一个列可以同时定义foreign key和not null约束\n* foreign key必须参照一个primary key约束或者唯一约束约束\n* 可以在列上定义foreign key约束，也可以在多个列上组合上定义foreign key约束\n\n## 唯一约束（UNIQUE约束）\n定义：唯一性约束和主键约束很相似，不同的是主键约束在同一个表中只能有一个，而唯一约束在一个表中可以有多个\n\n## 检查约束\n针对列值本身进行限制\n\n\n## 参考书籍和链接\n《oracle 入门》\n\n## 每文音乐推荐\n爱听音乐的猫大叔：爸妈只会简单地操作电脑，\n我在另一个城市上班，忙的发昏，很少回去。\n所以就在电脑上弄了个360，\n他们也不会杀毒，\n每次我回去，体检一下电脑，升一下级。\n昨天老妈打电话 ：儿子啊，360已经提示187天没有体检了………\n顿时，泪流满面。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=5149899&auto=1&height=66\"></iframe>","slug":"oraCons","published":1,"updated":"2017-06-04T12:15:29.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udt001jffca940sfuqn","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>在系统学习数据库之前，直接前面知识了解CURD操作的命令，有的时候再写代码的时候会遇到要求需要添加NOT NULL等约束，但是具体有哪些约束以及如何给出专业的解释，其实自己是比较虚的。所以今天准备系统学习下数据库的约束。</p>\n<h2 id=\"约束\"><a href=\"#约束\" class=\"headerlink\" title=\"约束\"></a>约束</h2><p>约束是数据库中不可少的一部分。约束的目的在于保持数据的完整性，数据完整性是指数据的精确性以及可靠性。约束的种类：</p>\n<ul>\n<li>域完整性：对数据表中字段属性的约束，主要包括not null约束／唯一约束／检查约束</li>\n<li>实体完整性：主键约束，关系中主属性不为null且不能有相同值。</li>\n<li>参照完整性：外键约束，关系中外键必须是另一个关系的主键有效值</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"主键\"><a href=\"#主键\" class=\"headerlink\" title=\"主键\"></a>主键</h2><p>定义：主键被创建在一个或者多个列上，通过这些列的值或者值的组合，唯一地标识一条记录。<br>特点：</p>\n<ul>\n<li>定义了primary key 约束的列（或列组合）不能包含重复值，并且不能包含null值</li>\n<li>Oracle自动为具有parimary key约束的列（或列组合）建立了一个唯一索引和not null约束</li>\n<li>同一个表只能定义一个primary key约束</li>\n<li>可以在列上定义primary key约束，也可以在多个列上组合上定义primary key约束</li>\n</ul>\n<h2 id=\"外键\"><a href=\"#外键\" class=\"headerlink\" title=\"外键\"></a>外键</h2><p>定义：外键约束可以保证使用外键约束的数据库列与所引用的主键约束的数据列一致，外键约束在一个数据表可以有多个。定义了foreign key约束的列称为外键列，被foreign key约束索引的列称为引用列。包含外键的表称为子表，包含引用列的表称为父表。<br>特点：</p>\n<ul>\n<li>定义了foreign key 约束的列中只能包含相应的其他表中引用的列的值，或为null</li>\n<li>定义了foreign key 约束的列赫相应的引用列可以在同一个表中，这种情况称为自引用</li>\n<li>同一个列可以同时定义foreign key和not null约束</li>\n<li>foreign key必须参照一个primary key约束或者唯一约束约束</li>\n<li>可以在列上定义foreign key约束，也可以在多个列上组合上定义foreign key约束</li>\n</ul>\n<h2 id=\"唯一约束（UNIQUE约束）\"><a href=\"#唯一约束（UNIQUE约束）\" class=\"headerlink\" title=\"唯一约束（UNIQUE约束）\"></a>唯一约束（UNIQUE约束）</h2><p>定义：唯一性约束和主键约束很相似，不同的是主键约束在同一个表中只能有一个，而唯一约束在一个表中可以有多个</p>\n<h2 id=\"检查约束\"><a href=\"#检查约束\" class=\"headerlink\" title=\"检查约束\"></a>检查约束</h2><p>针对列值本身进行限制</p>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《oracle 入门》</p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>爱听音乐的猫大叔：爸妈只会简单地操作电脑，<br>我在另一个城市上班，忙的发昏，很少回去。<br>所以就在电脑上弄了个360，<br>他们也不会杀毒，<br>每次我回去，体检一下电脑，升一下级。<br>昨天老妈打电话 ：儿子啊，360已经提示187天没有体检了………<br>顿时，泪流满面。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5149899&auto=1&height=66\"></iframe>","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>在系统学习数据库之前，直接前面知识了解CURD操作的命令，有的时候再写代码的时候会遇到要求需要添加NOT NULL等约束，但是具体有哪些约束以及如何给出专业的解释，其实自己是比较虚的。所以今天准备系统学习下数据库的约束。</p>\n<h2 id=\"约束\"><a href=\"#约束\" class=\"headerlink\" title=\"约束\"></a>约束</h2><p>约束是数据库中不可少的一部分。约束的目的在于保持数据的完整性，数据完整性是指数据的精确性以及可靠性。约束的种类：</p>\n<ul>\n<li>域完整性：对数据表中字段属性的约束，主要包括not null约束／唯一约束／检查约束</li>\n<li>实体完整性：主键约束，关系中主属性不为null且不能有相同值。</li>\n<li>参照完整性：外键约束，关系中外键必须是另一个关系的主键有效值</li>\n</ul>","more":"<h2 id=\"主键\"><a href=\"#主键\" class=\"headerlink\" title=\"主键\"></a>主键</h2><p>定义：主键被创建在一个或者多个列上，通过这些列的值或者值的组合，唯一地标识一条记录。<br>特点：</p>\n<ul>\n<li>定义了primary key 约束的列（或列组合）不能包含重复值，并且不能包含null值</li>\n<li>Oracle自动为具有parimary key约束的列（或列组合）建立了一个唯一索引和not null约束</li>\n<li>同一个表只能定义一个primary key约束</li>\n<li>可以在列上定义primary key约束，也可以在多个列上组合上定义primary key约束</li>\n</ul>\n<h2 id=\"外键\"><a href=\"#外键\" class=\"headerlink\" title=\"外键\"></a>外键</h2><p>定义：外键约束可以保证使用外键约束的数据库列与所引用的主键约束的数据列一致，外键约束在一个数据表可以有多个。定义了foreign key约束的列称为外键列，被foreign key约束索引的列称为引用列。包含外键的表称为子表，包含引用列的表称为父表。<br>特点：</p>\n<ul>\n<li>定义了foreign key 约束的列中只能包含相应的其他表中引用的列的值，或为null</li>\n<li>定义了foreign key 约束的列赫相应的引用列可以在同一个表中，这种情况称为自引用</li>\n<li>同一个列可以同时定义foreign key和not null约束</li>\n<li>foreign key必须参照一个primary key约束或者唯一约束约束</li>\n<li>可以在列上定义foreign key约束，也可以在多个列上组合上定义foreign key约束</li>\n</ul>\n<h2 id=\"唯一约束（UNIQUE约束）\"><a href=\"#唯一约束（UNIQUE约束）\" class=\"headerlink\" title=\"唯一约束（UNIQUE约束）\"></a>唯一约束（UNIQUE约束）</h2><p>定义：唯一性约束和主键约束很相似，不同的是主键约束在同一个表中只能有一个，而唯一约束在一个表中可以有多个</p>\n<h2 id=\"检查约束\"><a href=\"#检查约束\" class=\"headerlink\" title=\"检查约束\"></a>检查约束</h2><p>针对列值本身进行限制</p>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《oracle 入门》</p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>爱听音乐的猫大叔：爸妈只会简单地操作电脑，<br>我在另一个城市上班，忙的发昏，很少回去。<br>所以就在电脑上弄了个360，<br>他们也不会杀毒，<br>每次我回去，体检一下电脑，升一下级。<br>昨天老妈打电话 ：儿子啊，360已经提示187天没有体检了………<br>顿时，泪流满面。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=5149899&auto=1&height=66\"></iframe>"},{"title":"oracle 内置函数","date":"2017-06-03T03:06:39.000Z","_content":"\n## 前言\n由于有的时候需要对于字符串或则日期使用一些内置的函数，但是平时google的时候也比较麻烦，这里干脆做个记录，方便以后自己翻阅。\n\n## 数值函数\n* ABS(n) 取绝对值\n* MOD(n2, n1) 取n2除以n1的余数\n* SIGN(n) 返回参数n的符号。1 0 -1\n\n## 三角函数\n* COS(n) n为弧度\n* ACOS(n)\n* SIN(n)\n* TAN(n)\n\n## 指数／对数函数\n* SQRT(n) n的平方根\n* POEWR(n2,n1) n2的n1次幂\n* EXP(n) e的n次幂\n* LOG(n1, n2) n1位底的n2对数\n\n## 四舍五入函数\n* ROUND(n，integer) 四舍五入精确到小数点的integer位\n* TRUNC(n， integer) 截取到小数点的integer位\n\n## 字符函数 参数都是字符类型的参数单引号\nLENGTH(char) 返回指定的字符长度\n\n\n<!--- more -->\n### 字符串截取 \n参数(char,position[,substring_length]) \nchar：原始字符串\nposition：要截取字符串的开始位置\nsubstring_length：截取的长度\nSUBSTR：以字符为单位\nSUBSTRB：以字节为单位\nSUBSTRC：以unicode为单位\nSUBSTR2：以UCS2代码点为单位\nSUBSTR4：以UCS4代码点为单位\n\n### 字符串连接函数\nCONCAT(char1,char2)函数 效果与“||”相似\n\n### 字符串搜索函数\n参数(string,substring[,position[,occurrence]])\nstring：待搜索的字符串\nsubstring：要搜索的字符串\nposition：搜索开始的位置,默认是1\noccuurrence：substring第几次出现，默认是1\nINSTR：以字符为单位\nINSTRB：以字节为单位\nINSTRC：以unicode为单位\nINSTR2：以UCS2代码点为单位\nINSTR4：以UCS4代码点为单位\n\n### 字母大小转换函数\nUPPER(char)\nLOWER(char)\nINITCAP(char) 所有单词首字母大写\n\n### 替换字符函数\nREPLACE(char,serch_string[,replace_string])\nchar: 表示搜索的目标字符串\nsearch_string: 在目标中要搜索的字符串\nreplace_string: 该参数可选，不填的话就是删除搜索的字符串\n\n### 字符串的填充\nRPAD(expr1,n[,expr2]) \n功能： 在字符串expr1的右边用字符串expr2填充，不填写expr2的话，就用空格填充\nLPAD(expr1,n[,expr2])\n功能： 在字符串expr1的左边用字符串expr2填充，不填写expr2的话，就用空格填充\n\n### 删除字符串首尾指定字符的函数\nTRIM([LEADING|TRAILING|BOTH][trim_character FROM] trim_source)\nLEADING：删除trim_source的前缀字符\nTRAILING：删除trim_source的后缀字符\ntrim_character：删除指定的字符，默认删除空格\ntrim_source：被操作的字符串\n\n## 日期函数\n### 系统时间\nSYSDATE SYSTIMESTAMP\n\n### 数据库时区函数\nDBTIMEZONE\n\n### 为日期加上指定月份函数\nADD_MONTHS(data,integer) \n功能： 该函数返回指定的日期加上一个月份数后的日期\n\n## 转换函数\nASCIISTR(char) 将任意字符集的字符串转换为数据库字符集对应的ASCII字符串\nCAST(expr as type_name) 把expr参数转换成type_name类型\n\n### 数值转换成字符串函数\n参数(n,[,fmt[,nlsparam]])\nn: 数值或者日期\nfmt：要转换的格式\nTO_CHAR(number)\nTO_CHAR(data)\n\n### 字符串转日期函数\nTO_DATA(char[,fmt[,nlsparam]])\nchar:待转换的字符\nfmt：表示转换的格式\nnlsparam：控制格式化时使用的语言类型\n\n\n\n### 每文音乐推荐\n评论：\n无心廿曰：我懒到连喜欢的人，都懒的换\n菮煕：还是老妈说的话最经典，她说：“你们这代人呐，就是活的太明白了，所以什么都得不到。我们当年什么都糊里糊涂，该结婚结婚，该工作工作，现在什么都有。”\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=1615656&auto=1&height=66\"></iframe>\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/oracleFunction.md","raw":"---\ntitle: oracle 内置函数\ndate: 2017-06-03 11:06:39\ntags: [oracle, 数据库]\n---\n\n## 前言\n由于有的时候需要对于字符串或则日期使用一些内置的函数，但是平时google的时候也比较麻烦，这里干脆做个记录，方便以后自己翻阅。\n\n## 数值函数\n* ABS(n) 取绝对值\n* MOD(n2, n1) 取n2除以n1的余数\n* SIGN(n) 返回参数n的符号。1 0 -1\n\n## 三角函数\n* COS(n) n为弧度\n* ACOS(n)\n* SIN(n)\n* TAN(n)\n\n## 指数／对数函数\n* SQRT(n) n的平方根\n* POEWR(n2,n1) n2的n1次幂\n* EXP(n) e的n次幂\n* LOG(n1, n2) n1位底的n2对数\n\n## 四舍五入函数\n* ROUND(n，integer) 四舍五入精确到小数点的integer位\n* TRUNC(n， integer) 截取到小数点的integer位\n\n## 字符函数 参数都是字符类型的参数单引号\nLENGTH(char) 返回指定的字符长度\n\n\n<!--- more -->\n### 字符串截取 \n参数(char,position[,substring_length]) \nchar：原始字符串\nposition：要截取字符串的开始位置\nsubstring_length：截取的长度\nSUBSTR：以字符为单位\nSUBSTRB：以字节为单位\nSUBSTRC：以unicode为单位\nSUBSTR2：以UCS2代码点为单位\nSUBSTR4：以UCS4代码点为单位\n\n### 字符串连接函数\nCONCAT(char1,char2)函数 效果与“||”相似\n\n### 字符串搜索函数\n参数(string,substring[,position[,occurrence]])\nstring：待搜索的字符串\nsubstring：要搜索的字符串\nposition：搜索开始的位置,默认是1\noccuurrence：substring第几次出现，默认是1\nINSTR：以字符为单位\nINSTRB：以字节为单位\nINSTRC：以unicode为单位\nINSTR2：以UCS2代码点为单位\nINSTR4：以UCS4代码点为单位\n\n### 字母大小转换函数\nUPPER(char)\nLOWER(char)\nINITCAP(char) 所有单词首字母大写\n\n### 替换字符函数\nREPLACE(char,serch_string[,replace_string])\nchar: 表示搜索的目标字符串\nsearch_string: 在目标中要搜索的字符串\nreplace_string: 该参数可选，不填的话就是删除搜索的字符串\n\n### 字符串的填充\nRPAD(expr1,n[,expr2]) \n功能： 在字符串expr1的右边用字符串expr2填充，不填写expr2的话，就用空格填充\nLPAD(expr1,n[,expr2])\n功能： 在字符串expr1的左边用字符串expr2填充，不填写expr2的话，就用空格填充\n\n### 删除字符串首尾指定字符的函数\nTRIM([LEADING|TRAILING|BOTH][trim_character FROM] trim_source)\nLEADING：删除trim_source的前缀字符\nTRAILING：删除trim_source的后缀字符\ntrim_character：删除指定的字符，默认删除空格\ntrim_source：被操作的字符串\n\n## 日期函数\n### 系统时间\nSYSDATE SYSTIMESTAMP\n\n### 数据库时区函数\nDBTIMEZONE\n\n### 为日期加上指定月份函数\nADD_MONTHS(data,integer) \n功能： 该函数返回指定的日期加上一个月份数后的日期\n\n## 转换函数\nASCIISTR(char) 将任意字符集的字符串转换为数据库字符集对应的ASCII字符串\nCAST(expr as type_name) 把expr参数转换成type_name类型\n\n### 数值转换成字符串函数\n参数(n,[,fmt[,nlsparam]])\nn: 数值或者日期\nfmt：要转换的格式\nTO_CHAR(number)\nTO_CHAR(data)\n\n### 字符串转日期函数\nTO_DATA(char[,fmt[,nlsparam]])\nchar:待转换的字符\nfmt：表示转换的格式\nnlsparam：控制格式化时使用的语言类型\n\n\n\n### 每文音乐推荐\n评论：\n无心廿曰：我懒到连喜欢的人，都懒的换\n菮煕：还是老妈说的话最经典，她说：“你们这代人呐，就是活的太明白了，所以什么都得不到。我们当年什么都糊里糊涂，该结婚结婚，该工作工作，现在什么都有。”\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=1615656&auto=1&height=66\"></iframe>\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"oracleFunction","published":1,"updated":"2017-06-04T12:14:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udw001lffcap18gdhbj","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>由于有的时候需要对于字符串或则日期使用一些内置的函数，但是平时google的时候也比较麻烦，这里干脆做个记录，方便以后自己翻阅。</p>\n<h2 id=\"数值函数\"><a href=\"#数值函数\" class=\"headerlink\" title=\"数值函数\"></a>数值函数</h2><ul>\n<li>ABS(n) 取绝对值</li>\n<li>MOD(n2, n1) 取n2除以n1的余数</li>\n<li>SIGN(n) 返回参数n的符号。1 0 -1</li>\n</ul>\n<h2 id=\"三角函数\"><a href=\"#三角函数\" class=\"headerlink\" title=\"三角函数\"></a>三角函数</h2><ul>\n<li>COS(n) n为弧度</li>\n<li>ACOS(n)</li>\n<li>SIN(n)</li>\n<li>TAN(n)</li>\n</ul>\n<h2 id=\"指数／对数函数\"><a href=\"#指数／对数函数\" class=\"headerlink\" title=\"指数／对数函数\"></a>指数／对数函数</h2><ul>\n<li>SQRT(n) n的平方根</li>\n<li>POEWR(n2,n1) n2的n1次幂</li>\n<li>EXP(n) e的n次幂</li>\n<li>LOG(n1, n2) n1位底的n2对数</li>\n</ul>\n<h2 id=\"四舍五入函数\"><a href=\"#四舍五入函数\" class=\"headerlink\" title=\"四舍五入函数\"></a>四舍五入函数</h2><ul>\n<li>ROUND(n，integer) 四舍五入精确到小数点的integer位</li>\n<li>TRUNC(n， integer) 截取到小数点的integer位</li>\n</ul>\n<h2 id=\"字符函数-参数都是字符类型的参数单引号\"><a href=\"#字符函数-参数都是字符类型的参数单引号\" class=\"headerlink\" title=\"字符函数 参数都是字符类型的参数单引号\"></a>字符函数 参数都是字符类型的参数单引号</h2><p>LENGTH(char) 返回指定的字符长度</p>\n<a id=\"more\"></a>\n<h3 id=\"字符串截取\"><a href=\"#字符串截取\" class=\"headerlink\" title=\"字符串截取\"></a>字符串截取</h3><p>参数(char,position[,substring_length])<br>char：原始字符串<br>position：要截取字符串的开始位置<br>substring_length：截取的长度<br>SUBSTR：以字符为单位<br>SUBSTRB：以字节为单位<br>SUBSTRC：以unicode为单位<br>SUBSTR2：以UCS2代码点为单位<br>SUBSTR4：以UCS4代码点为单位</p>\n<h3 id=\"字符串连接函数\"><a href=\"#字符串连接函数\" class=\"headerlink\" title=\"字符串连接函数\"></a>字符串连接函数</h3><p>CONCAT(char1,char2)函数 效果与“||”相似</p>\n<h3 id=\"字符串搜索函数\"><a href=\"#字符串搜索函数\" class=\"headerlink\" title=\"字符串搜索函数\"></a>字符串搜索函数</h3><p>参数(string,substring[,position[,occurrence]])<br>string：待搜索的字符串<br>substring：要搜索的字符串<br>position：搜索开始的位置,默认是1<br>occuurrence：substring第几次出现，默认是1<br>INSTR：以字符为单位<br>INSTRB：以字节为单位<br>INSTRC：以unicode为单位<br>INSTR2：以UCS2代码点为单位<br>INSTR4：以UCS4代码点为单位</p>\n<h3 id=\"字母大小转换函数\"><a href=\"#字母大小转换函数\" class=\"headerlink\" title=\"字母大小转换函数\"></a>字母大小转换函数</h3><p>UPPER(char)<br>LOWER(char)<br>INITCAP(char) 所有单词首字母大写</p>\n<h3 id=\"替换字符函数\"><a href=\"#替换字符函数\" class=\"headerlink\" title=\"替换字符函数\"></a>替换字符函数</h3><p>REPLACE(char,serch_string[,replace_string])<br>char: 表示搜索的目标字符串<br>search_string: 在目标中要搜索的字符串<br>replace_string: 该参数可选，不填的话就是删除搜索的字符串</p>\n<h3 id=\"字符串的填充\"><a href=\"#字符串的填充\" class=\"headerlink\" title=\"字符串的填充\"></a>字符串的填充</h3><p>RPAD(expr1,n[,expr2])<br>功能： 在字符串expr1的右边用字符串expr2填充，不填写expr2的话，就用空格填充<br>LPAD(expr1,n[,expr2])<br>功能： 在字符串expr1的左边用字符串expr2填充，不填写expr2的话，就用空格填充</p>\n<h3 id=\"删除字符串首尾指定字符的函数\"><a href=\"#删除字符串首尾指定字符的函数\" class=\"headerlink\" title=\"删除字符串首尾指定字符的函数\"></a>删除字符串首尾指定字符的函数</h3><p>TRIM([LEADING|TRAILING|BOTH][trim_character FROM] trim_source)<br>LEADING：删除trim_source的前缀字符<br>TRAILING：删除trim_source的后缀字符<br>trim_character：删除指定的字符，默认删除空格<br>trim_source：被操作的字符串</p>\n<h2 id=\"日期函数\"><a href=\"#日期函数\" class=\"headerlink\" title=\"日期函数\"></a>日期函数</h2><h3 id=\"系统时间\"><a href=\"#系统时间\" class=\"headerlink\" title=\"系统时间\"></a>系统时间</h3><p>SYSDATE SYSTIMESTAMP</p>\n<h3 id=\"数据库时区函数\"><a href=\"#数据库时区函数\" class=\"headerlink\" title=\"数据库时区函数\"></a>数据库时区函数</h3><p>DBTIMEZONE</p>\n<h3 id=\"为日期加上指定月份函数\"><a href=\"#为日期加上指定月份函数\" class=\"headerlink\" title=\"为日期加上指定月份函数\"></a>为日期加上指定月份函数</h3><p>ADD_MONTHS(data,integer)<br>功能： 该函数返回指定的日期加上一个月份数后的日期</p>\n<h2 id=\"转换函数\"><a href=\"#转换函数\" class=\"headerlink\" title=\"转换函数\"></a>转换函数</h2><p>ASCIISTR(char) 将任意字符集的字符串转换为数据库字符集对应的ASCII字符串<br>CAST(expr as type_name) 把expr参数转换成type_name类型</p>\n<h3 id=\"数值转换成字符串函数\"><a href=\"#数值转换成字符串函数\" class=\"headerlink\" title=\"数值转换成字符串函数\"></a>数值转换成字符串函数</h3><p>参数(n,[,fmt[,nlsparam]])<br>n: 数值或者日期<br>fmt：要转换的格式<br>TO_CHAR(number)<br>TO_CHAR(data)</p>\n<h3 id=\"字符串转日期函数\"><a href=\"#字符串转日期函数\" class=\"headerlink\" title=\"字符串转日期函数\"></a>字符串转日期函数</h3><p>TO_DATA(char[,fmt[,nlsparam]])<br>char:待转换的字符<br>fmt：表示转换的格式<br>nlsparam：控制格式化时使用的语言类型</p>\n<h3 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h3><p>评论：<br>无心廿曰：我懒到连喜欢的人，都懒的换<br>菮煕：还是老妈说的话最经典，她说：“你们这代人呐，就是活的太明白了，所以什么都得不到。我们当年什么都糊里糊涂，该结婚结婚，该工作工作，现在什么都有。”</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=1615656&auto=1&height=66\"></iframe>\n\n\n\n\n\n\n\n\n\n\n\n\n\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>由于有的时候需要对于字符串或则日期使用一些内置的函数，但是平时google的时候也比较麻烦，这里干脆做个记录，方便以后自己翻阅。</p>\n<h2 id=\"数值函数\"><a href=\"#数值函数\" class=\"headerlink\" title=\"数值函数\"></a>数值函数</h2><ul>\n<li>ABS(n) 取绝对值</li>\n<li>MOD(n2, n1) 取n2除以n1的余数</li>\n<li>SIGN(n) 返回参数n的符号。1 0 -1</li>\n</ul>\n<h2 id=\"三角函数\"><a href=\"#三角函数\" class=\"headerlink\" title=\"三角函数\"></a>三角函数</h2><ul>\n<li>COS(n) n为弧度</li>\n<li>ACOS(n)</li>\n<li>SIN(n)</li>\n<li>TAN(n)</li>\n</ul>\n<h2 id=\"指数／对数函数\"><a href=\"#指数／对数函数\" class=\"headerlink\" title=\"指数／对数函数\"></a>指数／对数函数</h2><ul>\n<li>SQRT(n) n的平方根</li>\n<li>POEWR(n2,n1) n2的n1次幂</li>\n<li>EXP(n) e的n次幂</li>\n<li>LOG(n1, n2) n1位底的n2对数</li>\n</ul>\n<h2 id=\"四舍五入函数\"><a href=\"#四舍五入函数\" class=\"headerlink\" title=\"四舍五入函数\"></a>四舍五入函数</h2><ul>\n<li>ROUND(n，integer) 四舍五入精确到小数点的integer位</li>\n<li>TRUNC(n， integer) 截取到小数点的integer位</li>\n</ul>\n<h2 id=\"字符函数-参数都是字符类型的参数单引号\"><a href=\"#字符函数-参数都是字符类型的参数单引号\" class=\"headerlink\" title=\"字符函数 参数都是字符类型的参数单引号\"></a>字符函数 参数都是字符类型的参数单引号</h2><p>LENGTH(char) 返回指定的字符长度</p>","more":"<h3 id=\"字符串截取\"><a href=\"#字符串截取\" class=\"headerlink\" title=\"字符串截取\"></a>字符串截取</h3><p>参数(char,position[,substring_length])<br>char：原始字符串<br>position：要截取字符串的开始位置<br>substring_length：截取的长度<br>SUBSTR：以字符为单位<br>SUBSTRB：以字节为单位<br>SUBSTRC：以unicode为单位<br>SUBSTR2：以UCS2代码点为单位<br>SUBSTR4：以UCS4代码点为单位</p>\n<h3 id=\"字符串连接函数\"><a href=\"#字符串连接函数\" class=\"headerlink\" title=\"字符串连接函数\"></a>字符串连接函数</h3><p>CONCAT(char1,char2)函数 效果与“||”相似</p>\n<h3 id=\"字符串搜索函数\"><a href=\"#字符串搜索函数\" class=\"headerlink\" title=\"字符串搜索函数\"></a>字符串搜索函数</h3><p>参数(string,substring[,position[,occurrence]])<br>string：待搜索的字符串<br>substring：要搜索的字符串<br>position：搜索开始的位置,默认是1<br>occuurrence：substring第几次出现，默认是1<br>INSTR：以字符为单位<br>INSTRB：以字节为单位<br>INSTRC：以unicode为单位<br>INSTR2：以UCS2代码点为单位<br>INSTR4：以UCS4代码点为单位</p>\n<h3 id=\"字母大小转换函数\"><a href=\"#字母大小转换函数\" class=\"headerlink\" title=\"字母大小转换函数\"></a>字母大小转换函数</h3><p>UPPER(char)<br>LOWER(char)<br>INITCAP(char) 所有单词首字母大写</p>\n<h3 id=\"替换字符函数\"><a href=\"#替换字符函数\" class=\"headerlink\" title=\"替换字符函数\"></a>替换字符函数</h3><p>REPLACE(char,serch_string[,replace_string])<br>char: 表示搜索的目标字符串<br>search_string: 在目标中要搜索的字符串<br>replace_string: 该参数可选，不填的话就是删除搜索的字符串</p>\n<h3 id=\"字符串的填充\"><a href=\"#字符串的填充\" class=\"headerlink\" title=\"字符串的填充\"></a>字符串的填充</h3><p>RPAD(expr1,n[,expr2])<br>功能： 在字符串expr1的右边用字符串expr2填充，不填写expr2的话，就用空格填充<br>LPAD(expr1,n[,expr2])<br>功能： 在字符串expr1的左边用字符串expr2填充，不填写expr2的话，就用空格填充</p>\n<h3 id=\"删除字符串首尾指定字符的函数\"><a href=\"#删除字符串首尾指定字符的函数\" class=\"headerlink\" title=\"删除字符串首尾指定字符的函数\"></a>删除字符串首尾指定字符的函数</h3><p>TRIM([LEADING|TRAILING|BOTH][trim_character FROM] trim_source)<br>LEADING：删除trim_source的前缀字符<br>TRAILING：删除trim_source的后缀字符<br>trim_character：删除指定的字符，默认删除空格<br>trim_source：被操作的字符串</p>\n<h2 id=\"日期函数\"><a href=\"#日期函数\" class=\"headerlink\" title=\"日期函数\"></a>日期函数</h2><h3 id=\"系统时间\"><a href=\"#系统时间\" class=\"headerlink\" title=\"系统时间\"></a>系统时间</h3><p>SYSDATE SYSTIMESTAMP</p>\n<h3 id=\"数据库时区函数\"><a href=\"#数据库时区函数\" class=\"headerlink\" title=\"数据库时区函数\"></a>数据库时区函数</h3><p>DBTIMEZONE</p>\n<h3 id=\"为日期加上指定月份函数\"><a href=\"#为日期加上指定月份函数\" class=\"headerlink\" title=\"为日期加上指定月份函数\"></a>为日期加上指定月份函数</h3><p>ADD_MONTHS(data,integer)<br>功能： 该函数返回指定的日期加上一个月份数后的日期</p>\n<h2 id=\"转换函数\"><a href=\"#转换函数\" class=\"headerlink\" title=\"转换函数\"></a>转换函数</h2><p>ASCIISTR(char) 将任意字符集的字符串转换为数据库字符集对应的ASCII字符串<br>CAST(expr as type_name) 把expr参数转换成type_name类型</p>\n<h3 id=\"数值转换成字符串函数\"><a href=\"#数值转换成字符串函数\" class=\"headerlink\" title=\"数值转换成字符串函数\"></a>数值转换成字符串函数</h3><p>参数(n,[,fmt[,nlsparam]])<br>n: 数值或者日期<br>fmt：要转换的格式<br>TO_CHAR(number)<br>TO_CHAR(data)</p>\n<h3 id=\"字符串转日期函数\"><a href=\"#字符串转日期函数\" class=\"headerlink\" title=\"字符串转日期函数\"></a>字符串转日期函数</h3><p>TO_DATA(char[,fmt[,nlsparam]])<br>char:待转换的字符<br>fmt：表示转换的格式<br>nlsparam：控制格式化时使用的语言类型</p>\n<h3 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h3><p>评论：<br>无心廿曰：我懒到连喜欢的人，都懒的换<br>菮煕：还是老妈说的话最经典，她说：“你们这代人呐，就是活的太明白了，所以什么都得不到。我们当年什么都糊里糊涂，该结婚结婚，该工作工作，现在什么都有。”</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=1615656&auto=1&height=66\"></iframe>"},{"title":"学习资料记录","date":"2017-02-17T06:31:59.000Z","_content":"## 学会使用搜索引擎\n[学会使用搜索引擎](https://www.zhihu.com/question/20161362)\n[十大高明的Google搜索技巧](http://www.williamlong.info/archives/728.html)\n\n## 提问\n[敬请:智慧的提问](http://wiki.woodpecker.org.cn/moin/AskForHelp)\n[智慧的提问](https://gist.github.com/zer4tul/95ffaa741c836dc6ab3b)\n\n这里记录下每个阶段的学习资料\n\n##java 多线程和并发\n[java 并发性和多线程](http://wiki.jikexueyuan.com/project/java-concurrent/thread-communication.html)\n[并发编程网](http://ifeve.com/)\n[JDK8](http://docs.oracle.com/javase/8/docs/api/index.html)\n[JDK6](http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/)\n[ @SpringBootApplication的使用](http://blog.csdn.net/u013473691/article/details/52353923)\n\n[mysql 忘记 root 密码](http://lycy521.blog.51cto.com/3492922/1333172)\n《java编程思想》 纸质书籍\n\n<!--more-->\n## web\n《java web 开发》\n\n\n## spring\n《Spring实战》\n\n\n## Mysql\n《Mysql快速入门》 纸质书籍\n《事务处理的技术和概念》 这个学习的文档使电子书籍\n\n\n## 操作系统\n《计算机操作系统》\n陈渝教学视频\n\n\n## 编译原理\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=2328860&auto=1&height=66\"></iframe>","source":"_posts/reading.md","raw":"---\ntitle: 学习资料记录\ndate: 2017-02-17 14:31:59\ncategories: travel                    #文章文类\ntags: [小章鱼, java, reading]\n---\n## 学会使用搜索引擎\n[学会使用搜索引擎](https://www.zhihu.com/question/20161362)\n[十大高明的Google搜索技巧](http://www.williamlong.info/archives/728.html)\n\n## 提问\n[敬请:智慧的提问](http://wiki.woodpecker.org.cn/moin/AskForHelp)\n[智慧的提问](https://gist.github.com/zer4tul/95ffaa741c836dc6ab3b)\n\n这里记录下每个阶段的学习资料\n\n##java 多线程和并发\n[java 并发性和多线程](http://wiki.jikexueyuan.com/project/java-concurrent/thread-communication.html)\n[并发编程网](http://ifeve.com/)\n[JDK8](http://docs.oracle.com/javase/8/docs/api/index.html)\n[JDK6](http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/)\n[ @SpringBootApplication的使用](http://blog.csdn.net/u013473691/article/details/52353923)\n\n[mysql 忘记 root 密码](http://lycy521.blog.51cto.com/3492922/1333172)\n《java编程思想》 纸质书籍\n\n<!--more-->\n## web\n《java web 开发》\n\n\n## spring\n《Spring实战》\n\n\n## Mysql\n《Mysql快速入门》 纸质书籍\n《事务处理的技术和概念》 这个学习的文档使电子书籍\n\n\n## 操作系统\n《计算机操作系统》\n陈渝教学视频\n\n\n## 编译原理\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=2328860&auto=1&height=66\"></iframe>","slug":"reading","published":1,"updated":"2017-03-17T15:01:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1udz001pffcahvz89nlx","content":"<h2 id=\"学会使用搜索引擎\"><a href=\"#学会使用搜索引擎\" class=\"headerlink\" title=\"学会使用搜索引擎\"></a>学会使用搜索引擎</h2><p><a href=\"https://www.zhihu.com/question/20161362\" target=\"_blank\" rel=\"external\">学会使用搜索引擎</a><br><a href=\"http://www.williamlong.info/archives/728.html\" target=\"_blank\" rel=\"external\">十大高明的Google搜索技巧</a></p>\n<h2 id=\"提问\"><a href=\"#提问\" class=\"headerlink\" title=\"提问\"></a>提问</h2><p><a href=\"http://wiki.woodpecker.org.cn/moin/AskForHelp\" target=\"_blank\" rel=\"external\">敬请:智慧的提问</a><br><a href=\"https://gist.github.com/zer4tul/95ffaa741c836dc6ab3b\" target=\"_blank\" rel=\"external\">智慧的提问</a></p>\n<p>这里记录下每个阶段的学习资料</p>\n<p>##java 多线程和并发<br><a href=\"http://wiki.jikexueyuan.com/project/java-concurrent/thread-communication.html\" target=\"_blank\" rel=\"external\">java 并发性和多线程</a><br><a href=\"http://ifeve.com/\" target=\"_blank\" rel=\"external\">并发编程网</a><br><a href=\"http://docs.oracle.com/javase/8/docs/api/index.html\" target=\"_blank\" rel=\"external\">JDK8</a><br><a href=\"http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/\" target=\"_blank\" rel=\"external\">JDK6</a><br><a href=\"http://blog.csdn.net/u013473691/article/details/52353923\" target=\"_blank\" rel=\"external\"> @SpringBootApplication的使用</a></p>\n<p><a href=\"http://lycy521.blog.51cto.com/3492922/1333172\" target=\"_blank\" rel=\"external\">mysql 忘记 root 密码</a><br>《java编程思想》 纸质书籍</p>\n<a id=\"more\"></a>\n<h2 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h2><p>《java web 开发》</p>\n<h2 id=\"spring\"><a href=\"#spring\" class=\"headerlink\" title=\"spring\"></a>spring</h2><p>《Spring实战》</p>\n<h2 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h2><p>《Mysql快速入门》 纸质书籍<br>《事务处理的技术和概念》 这个学习的文档使电子书籍</p>\n<h2 id=\"操作系统\"><a href=\"#操作系统\" class=\"headerlink\" title=\"操作系统\"></a>操作系统</h2><p>《计算机操作系统》<br>陈渝教学视频</p>\n<h2 id=\"编译原理\"><a href=\"#编译原理\" class=\"headerlink\" title=\"编译原理\"></a>编译原理</h2><iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=2328860&auto=1&height=66\"></iframe>","excerpt":"<h2 id=\"学会使用搜索引擎\"><a href=\"#学会使用搜索引擎\" class=\"headerlink\" title=\"学会使用搜索引擎\"></a>学会使用搜索引擎</h2><p><a href=\"https://www.zhihu.com/question/20161362\">学会使用搜索引擎</a><br><a href=\"http://www.williamlong.info/archives/728.html\">十大高明的Google搜索技巧</a></p>\n<h2 id=\"提问\"><a href=\"#提问\" class=\"headerlink\" title=\"提问\"></a>提问</h2><p><a href=\"http://wiki.woodpecker.org.cn/moin/AskForHelp\">敬请:智慧的提问</a><br><a href=\"https://gist.github.com/zer4tul/95ffaa741c836dc6ab3b\">智慧的提问</a></p>\n<p>这里记录下每个阶段的学习资料</p>\n<p>##java 多线程和并发<br><a href=\"http://wiki.jikexueyuan.com/project/java-concurrent/thread-communication.html\">java 并发性和多线程</a><br><a href=\"http://ifeve.com/\">并发编程网</a><br><a href=\"http://docs.oracle.com/javase/8/docs/api/index.html\">JDK8</a><br><a href=\"http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/builds/latest/html/zh_CN/api/\">JDK6</a><br><a href=\"http://blog.csdn.net/u013473691/article/details/52353923\"> @SpringBootApplication的使用</a></p>\n<p><a href=\"http://lycy521.blog.51cto.com/3492922/1333172\">mysql 忘记 root 密码</a><br>《java编程思想》 纸质书籍</p>","more":"<h2 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h2><p>《java web 开发》</p>\n<h2 id=\"spring\"><a href=\"#spring\" class=\"headerlink\" title=\"spring\"></a>spring</h2><p>《Spring实战》</p>\n<h2 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h2><p>《Mysql快速入门》 纸质书籍<br>《事务处理的技术和概念》 这个学习的文档使电子书籍</p>\n<h2 id=\"操作系统\"><a href=\"#操作系统\" class=\"headerlink\" title=\"操作系统\"></a>操作系统</h2><p>《计算机操作系统》<br>陈渝教学视频</p>\n<h2 id=\"编译原理\"><a href=\"#编译原理\" class=\"headerlink\" title=\"编译原理\"></a>编译原理</h2><iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=2328860&auto=1&height=66\"></iframe>"},{"title":"java 算法 （排序算法 快速排序）","date":"2017-02-24T05:44:19.000Z","_content":"\nps:今天听了一首感动死我的歌，歌曲名是Bressanone（布列瑟农），听的时候全身鸡皮疙瘩都起来了，然后我就去搜这首歌，谁知道还有一个感人的故事。\n以下是作者自述，链接来着一个音乐推荐网站\n[音乐链接](http://music.163.com/#/song/1696822?userid=109343852)\n<!-- more -->\n\n## 快速排序（Quick Sort）\n听着音乐差点都忘记了主题了，这篇blog的主题是快速排序。\n\n思想：快速排序由C.A.R.Hoare （1962）开发的，算是分治算法的一种。该算法在数组中选择一个主元（pivot）的元素将数组分为两部分，使得第一部分中所有元素都小于或等于主元，而第二部分中的所有元素都大于主元。对第一第二部分递归调用。\n步骤：\n* 取pivot\n* 划分两部分\n* 递归调用划分方法\n\n具体代码\n```\n/*\n* 快速排序\n*/\npublic static void quickSort(int[] arr) {\n    System.out.println(\"\");\n    System.out.println(\"快速排序前的数组为： \");\n    for (int i : arr) {\n        System.out.print(i + \" \");\n    }\n    quickSort(arr, 0, arr.length - 1);\n    System.out.println(\"\");\n    System.out.println(\"快速排序后的数组为：\");\n    for (int i : arr) {\n        System.out.print(i + \" \");\n    }\n}\n\nprivate static void quickSort(int[] arr, int first, int last) {\n    if (last > first) {\n        int pivot = partition(arr, first, last);\n        quickSort(arr, first, pivot - 1);\n        quickSort(arr, pivot + 1, last);\n    }\n}\n\nprivate static int partition(int[] arr, int first, int last) {\n    int pivot = arr[first]; // 主元\n    int low = first + 1;\n    int high = last;\n    while (high > low) {\n        while (low <= high && arr[last] <= pivot) {\n            low++;\n        }\n        while (low <= high && arr[high] > pivot) {\n            high--;\n        }\n        if (high > low) {\n            int temp = arr[high];\n            arr[high] = arr[low];\n            arr[low] = temp;\n        }\n    }\n    while (high > first && arr[high] >= pivot) {\n        high--;\n    }\n    if (pivot > arr[high]) {\n        arr[first] = arr[high];\n        arr[high] = pivot;\n        return high;\n    } else {\n        return first;\n    }\n}\n\n```\n\n```\n马修·连恩—布列瑟农\n\n谢谢你的评论，现在给你自己冲杯热茶，坐好，我接下来给你说个关于bressanone的故事......\n\n几年前，我疯狂地爱上了一个年轻的女孩，还有，也爱上了南部蒂罗尔山区，它在意大利的北部，与奥地利接壤，就在勃伦尔山脉的南边（勃伦尔山脉正好把意大利和奥地利分隔开来）。\n\n南部蒂罗尔曾经跟北部蒂罗尔（现在属于奥地利）和西部蒂罗尔（现在属于瑞士）是一个整体。这个地区的人说的是德国的一种方言，但是由于蒂罗尔被分割开来，而南部蒂罗尔变成意大利的一部分，所以这里的地名一般都有意大利文和德文两种名字。\n\n总之呢...许多年前我给绿色和平组织工作，在那时候我遇上了一个让我心动的女孩子。我们是在加州的约塞米蒂国家公园归途中相遇的。自那以后，她回到科罗拉多州的绿色和平组织，最后回到纽约洲去上学，而我则回到圣迭戈的绿色和平组织，并且最后回到我在加拿大育空地区的老家。\n\n此后的几个月里我们不停地通讯。很快我们都希望能有更进一步的发展。她将要去意大利的佛罗伦萨学习艺术，我就要去德国的慕尼黑开始新的表演生活，跟一支叫“三月粉”的摇滚乐队...哈啊，没错，三月粉...那是另外一个故事了。\n\n当我俩都在欧洲的时候，我们选了一个处在佛罗伦萨和慕尼黑之间的地方约会。这就是南部蒂罗尔的一个小镇，德文里面它叫“Brixen”，意大利文就是“bressanone”。Bressanone是个非常优美的小镇。它被小乡村包围着，而山谷中回响着教堂的钟声，山羊在牧场漫步，远处是高耸的白色山头。\n\n我们在那里玩乐了几天，探索过周围的小乡村，还有彼此的心。离别的日子到了，她要回去的时候我陪着她去附近乡村的火车站，真是很令人沮丧啊，我们都要踏上各自的道路。流着泪水，我上了去火车站的公共汽车，在短短的40分钟路程里，我缓缓入睡了，在梦中，我隐隐约约地似乎听到了这样的一首歌，非常美妙的旋律和歌词。我醒来的时候，赶紧下了车，来到最近的咖啡店，把所听到的旋律和歌词写在一张餐巾纸上，好让我能够永远地记住它。\n\n一年以后，我才有机会把这首歌录下来。在我的心里，永远会留个地方是给她，还有那些小乡村，和这首歌。\n\n谢谢你这么认真地听我说。现在...是时候跟你同睡了，晚安!!!\n\n:-)\n\n马修\n\n附原文：\n\nThe Story\n\nby Matthew Lien\n\nDate: 02-20-02 18:10\n\nHello Forrest,\n\nThank you for your comments. Now make yourself a cup of hot tea, sit back, and I'll tell you a story about Bressanone...\n\nSeveral years ago, I fell deeply in love with a young woman, and also with a part of northern Italy known as South Tyrol. It borders Austria, just south of the Brenner mountain pass which separates Italy from Austria.\n\nSouth Tyrol used to be joined with North Tyrol (now a part of Austria) and West Tyrol (now a part of Switzerland). The people of this area speak a dialect of German. But since Tyrol was divided and South Tyrol became a part of Italy, all the place names are in both German and Italian.\n\nAnyway... I once worked for Greenpeace many years ago, where I met a young woman who melted my heart. We met while on a retreat in California's Yosemite National Park. After the retreat, she returned to the Colorado Greenpeace office, and eventually went back to school in New York state. I returned to the San Diego Greenpeace Office, and eventually went back to my home in the Yukon, Canada.\n\nOver the months we stayed in touch. Soon we discovered that we would both be close again. She was going to study art in Florence, Italy, and I was going to live in Munich, Germany performing with a rock band called \"Marching Powder\"... ahhhh yes, Marching Powder... but that's another story.\n\nWhen we were both in Europe, we made arrangements to meet in a place that was close to being between Florence and Munich. This was the South Tyrolian town called \"Brixen\" in German, or \"Bressanone\" in Italian. Bressanone is a beautiful town surrounded by small villages high in the mountain valleys with churches ringing and sheep in the meadows, and the awesome peaks of the Dolomite mountains towering beyond.\n\nWe spent several days exploring the mountain villages and each other's hearts. And when the day came for her to return, I took her to a train station in a nearby village, and we said goodbye. It was very sad to be going our own ways again. With tears in my eyes, I got on a bus and headed for the train station in Bressanone. During the short 40-minute bus ride, I fell asleep. And while I slept, I had a dream in which I could hear this song, complete with the words and music. When I awoke, I got off the train and went to the nearest coffee shop to write the words and music on a napkin, so I would not forget.\n\nIt was years later when I finally recorded the song. I will always have a place in my heart for her... and for that village... and for this song.\n\nThank you for listening. Now... off to bed with you!!!\n\n:-)\n\nMatthew\n```\n## 参考链接\n[故事](http://www.sanwen.net/subject/3704574/)","source":"_posts/quickSort.md","raw":"---\ntitle: java 算法 （排序算法 快速排序）\ncategories: 算法                    #文章文类\ndate: 2017-02-24 13:44:19\ntags: [\"小章鱼\", \"java\", \"algorithm\"]\n---\n\nps:今天听了一首感动死我的歌，歌曲名是Bressanone（布列瑟农），听的时候全身鸡皮疙瘩都起来了，然后我就去搜这首歌，谁知道还有一个感人的故事。\n以下是作者自述，链接来着一个音乐推荐网站\n[音乐链接](http://music.163.com/#/song/1696822?userid=109343852)\n<!-- more -->\n\n## 快速排序（Quick Sort）\n听着音乐差点都忘记了主题了，这篇blog的主题是快速排序。\n\n思想：快速排序由C.A.R.Hoare （1962）开发的，算是分治算法的一种。该算法在数组中选择一个主元（pivot）的元素将数组分为两部分，使得第一部分中所有元素都小于或等于主元，而第二部分中的所有元素都大于主元。对第一第二部分递归调用。\n步骤：\n* 取pivot\n* 划分两部分\n* 递归调用划分方法\n\n具体代码\n```\n/*\n* 快速排序\n*/\npublic static void quickSort(int[] arr) {\n    System.out.println(\"\");\n    System.out.println(\"快速排序前的数组为： \");\n    for (int i : arr) {\n        System.out.print(i + \" \");\n    }\n    quickSort(arr, 0, arr.length - 1);\n    System.out.println(\"\");\n    System.out.println(\"快速排序后的数组为：\");\n    for (int i : arr) {\n        System.out.print(i + \" \");\n    }\n}\n\nprivate static void quickSort(int[] arr, int first, int last) {\n    if (last > first) {\n        int pivot = partition(arr, first, last);\n        quickSort(arr, first, pivot - 1);\n        quickSort(arr, pivot + 1, last);\n    }\n}\n\nprivate static int partition(int[] arr, int first, int last) {\n    int pivot = arr[first]; // 主元\n    int low = first + 1;\n    int high = last;\n    while (high > low) {\n        while (low <= high && arr[last] <= pivot) {\n            low++;\n        }\n        while (low <= high && arr[high] > pivot) {\n            high--;\n        }\n        if (high > low) {\n            int temp = arr[high];\n            arr[high] = arr[low];\n            arr[low] = temp;\n        }\n    }\n    while (high > first && arr[high] >= pivot) {\n        high--;\n    }\n    if (pivot > arr[high]) {\n        arr[first] = arr[high];\n        arr[high] = pivot;\n        return high;\n    } else {\n        return first;\n    }\n}\n\n```\n\n```\n马修·连恩—布列瑟农\n\n谢谢你的评论，现在给你自己冲杯热茶，坐好，我接下来给你说个关于bressanone的故事......\n\n几年前，我疯狂地爱上了一个年轻的女孩，还有，也爱上了南部蒂罗尔山区，它在意大利的北部，与奥地利接壤，就在勃伦尔山脉的南边（勃伦尔山脉正好把意大利和奥地利分隔开来）。\n\n南部蒂罗尔曾经跟北部蒂罗尔（现在属于奥地利）和西部蒂罗尔（现在属于瑞士）是一个整体。这个地区的人说的是德国的一种方言，但是由于蒂罗尔被分割开来，而南部蒂罗尔变成意大利的一部分，所以这里的地名一般都有意大利文和德文两种名字。\n\n总之呢...许多年前我给绿色和平组织工作，在那时候我遇上了一个让我心动的女孩子。我们是在加州的约塞米蒂国家公园归途中相遇的。自那以后，她回到科罗拉多州的绿色和平组织，最后回到纽约洲去上学，而我则回到圣迭戈的绿色和平组织，并且最后回到我在加拿大育空地区的老家。\n\n此后的几个月里我们不停地通讯。很快我们都希望能有更进一步的发展。她将要去意大利的佛罗伦萨学习艺术，我就要去德国的慕尼黑开始新的表演生活，跟一支叫“三月粉”的摇滚乐队...哈啊，没错，三月粉...那是另外一个故事了。\n\n当我俩都在欧洲的时候，我们选了一个处在佛罗伦萨和慕尼黑之间的地方约会。这就是南部蒂罗尔的一个小镇，德文里面它叫“Brixen”，意大利文就是“bressanone”。Bressanone是个非常优美的小镇。它被小乡村包围着，而山谷中回响着教堂的钟声，山羊在牧场漫步，远处是高耸的白色山头。\n\n我们在那里玩乐了几天，探索过周围的小乡村，还有彼此的心。离别的日子到了，她要回去的时候我陪着她去附近乡村的火车站，真是很令人沮丧啊，我们都要踏上各自的道路。流着泪水，我上了去火车站的公共汽车，在短短的40分钟路程里，我缓缓入睡了，在梦中，我隐隐约约地似乎听到了这样的一首歌，非常美妙的旋律和歌词。我醒来的时候，赶紧下了车，来到最近的咖啡店，把所听到的旋律和歌词写在一张餐巾纸上，好让我能够永远地记住它。\n\n一年以后，我才有机会把这首歌录下来。在我的心里，永远会留个地方是给她，还有那些小乡村，和这首歌。\n\n谢谢你这么认真地听我说。现在...是时候跟你同睡了，晚安!!!\n\n:-)\n\n马修\n\n附原文：\n\nThe Story\n\nby Matthew Lien\n\nDate: 02-20-02 18:10\n\nHello Forrest,\n\nThank you for your comments. Now make yourself a cup of hot tea, sit back, and I'll tell you a story about Bressanone...\n\nSeveral years ago, I fell deeply in love with a young woman, and also with a part of northern Italy known as South Tyrol. It borders Austria, just south of the Brenner mountain pass which separates Italy from Austria.\n\nSouth Tyrol used to be joined with North Tyrol (now a part of Austria) and West Tyrol (now a part of Switzerland). The people of this area speak a dialect of German. But since Tyrol was divided and South Tyrol became a part of Italy, all the place names are in both German and Italian.\n\nAnyway... I once worked for Greenpeace many years ago, where I met a young woman who melted my heart. We met while on a retreat in California's Yosemite National Park. After the retreat, she returned to the Colorado Greenpeace office, and eventually went back to school in New York state. I returned to the San Diego Greenpeace Office, and eventually went back to my home in the Yukon, Canada.\n\nOver the months we stayed in touch. Soon we discovered that we would both be close again. She was going to study art in Florence, Italy, and I was going to live in Munich, Germany performing with a rock band called \"Marching Powder\"... ahhhh yes, Marching Powder... but that's another story.\n\nWhen we were both in Europe, we made arrangements to meet in a place that was close to being between Florence and Munich. This was the South Tyrolian town called \"Brixen\" in German, or \"Bressanone\" in Italian. Bressanone is a beautiful town surrounded by small villages high in the mountain valleys with churches ringing and sheep in the meadows, and the awesome peaks of the Dolomite mountains towering beyond.\n\nWe spent several days exploring the mountain villages and each other's hearts. And when the day came for her to return, I took her to a train station in a nearby village, and we said goodbye. It was very sad to be going our own ways again. With tears in my eyes, I got on a bus and headed for the train station in Bressanone. During the short 40-minute bus ride, I fell asleep. And while I slept, I had a dream in which I could hear this song, complete with the words and music. When I awoke, I got off the train and went to the nearest coffee shop to write the words and music on a napkin, so I would not forget.\n\nIt was years later when I finally recorded the song. I will always have a place in my heart for her... and for that village... and for this song.\n\nThank you for listening. Now... off to bed with you!!!\n\n:-)\n\nMatthew\n```\n## 参考链接\n[故事](http://www.sanwen.net/subject/3704574/)","slug":"quickSort","published":1,"updated":"2017-03-02T11:47:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ue1001rffcanve2k2da","content":"<p>ps:今天听了一首感动死我的歌，歌曲名是Bressanone（布列瑟农），听的时候全身鸡皮疙瘩都起来了，然后我就去搜这首歌，谁知道还有一个感人的故事。<br>以下是作者自述，链接来着一个音乐推荐网站<br><a href=\"http://music.163.com/#/song/1696822?userid=109343852\" target=\"_blank\" rel=\"external\">音乐链接</a><br><a id=\"more\"></a></p>\n<h2 id=\"快速排序（Quick-Sort）\"><a href=\"#快速排序（Quick-Sort）\" class=\"headerlink\" title=\"快速排序（Quick Sort）\"></a>快速排序（Quick Sort）</h2><p>听着音乐差点都忘记了主题了，这篇blog的主题是快速排序。</p>\n<p>思想：快速排序由C.A.R.Hoare （1962）开发的，算是分治算法的一种。该算法在数组中选择一个主元（pivot）的元素将数组分为两部分，使得第一部分中所有元素都小于或等于主元，而第二部分中的所有元素都大于主元。对第一第二部分递归调用。<br>步骤：</p>\n<ul>\n<li>取pivot</li>\n<li>划分两部分</li>\n<li>递归调用划分方法</li>\n</ul>\n<p>具体代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*</div><div class=\"line\">* 快速排序</div><div class=\"line\">*/</div><div class=\"line\">public static void quickSort(int[] arr) &#123;</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    System.out.println(&quot;快速排序前的数组为： &quot;);</div><div class=\"line\">    for (int i : arr) &#123;</div><div class=\"line\">        System.out.print(i + &quot; &quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">    quickSort(arr, 0, arr.length - 1);</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    System.out.println(&quot;快速排序后的数组为：&quot;);</div><div class=\"line\">    for (int i : arr) &#123;</div><div class=\"line\">        System.out.print(i + &quot; &quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">private static void quickSort(int[] arr, int first, int last) &#123;</div><div class=\"line\">    if (last &gt; first) &#123;</div><div class=\"line\">        int pivot = partition(arr, first, last);</div><div class=\"line\">        quickSort(arr, first, pivot - 1);</div><div class=\"line\">        quickSort(arr, pivot + 1, last);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">private static int partition(int[] arr, int first, int last) &#123;</div><div class=\"line\">    int pivot = arr[first]; // 主元</div><div class=\"line\">    int low = first + 1;</div><div class=\"line\">    int high = last;</div><div class=\"line\">    while (high &gt; low) &#123;</div><div class=\"line\">        while (low &lt;= high &amp;&amp; arr[last] &lt;= pivot) &#123;</div><div class=\"line\">            low++;</div><div class=\"line\">        &#125;</div><div class=\"line\">        while (low &lt;= high &amp;&amp; arr[high] &gt; pivot) &#123;</div><div class=\"line\">            high--;</div><div class=\"line\">        &#125;</div><div class=\"line\">        if (high &gt; low) &#123;</div><div class=\"line\">            int temp = arr[high];</div><div class=\"line\">            arr[high] = arr[low];</div><div class=\"line\">            arr[low] = temp;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    while (high &gt; first &amp;&amp; arr[high] &gt;= pivot) &#123;</div><div class=\"line\">        high--;</div><div class=\"line\">    &#125;</div><div class=\"line\">    if (pivot &gt; arr[high]) &#123;</div><div class=\"line\">        arr[first] = arr[high];</div><div class=\"line\">        arr[high] = pivot;</div><div class=\"line\">        return high;</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">        return first;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div></pre></td><td class=\"code\"><pre><div class=\"line\">马修·连恩—布列瑟农</div><div class=\"line\"></div><div class=\"line\">谢谢你的评论，现在给你自己冲杯热茶，坐好，我接下来给你说个关于bressanone的故事......</div><div class=\"line\"></div><div class=\"line\">几年前，我疯狂地爱上了一个年轻的女孩，还有，也爱上了南部蒂罗尔山区，它在意大利的北部，与奥地利接壤，就在勃伦尔山脉的南边（勃伦尔山脉正好把意大利和奥地利分隔开来）。</div><div class=\"line\"></div><div class=\"line\">南部蒂罗尔曾经跟北部蒂罗尔（现在属于奥地利）和西部蒂罗尔（现在属于瑞士）是一个整体。这个地区的人说的是德国的一种方言，但是由于蒂罗尔被分割开来，而南部蒂罗尔变成意大利的一部分，所以这里的地名一般都有意大利文和德文两种名字。</div><div class=\"line\"></div><div class=\"line\">总之呢...许多年前我给绿色和平组织工作，在那时候我遇上了一个让我心动的女孩子。我们是在加州的约塞米蒂国家公园归途中相遇的。自那以后，她回到科罗拉多州的绿色和平组织，最后回到纽约洲去上学，而我则回到圣迭戈的绿色和平组织，并且最后回到我在加拿大育空地区的老家。</div><div class=\"line\"></div><div class=\"line\">此后的几个月里我们不停地通讯。很快我们都希望能有更进一步的发展。她将要去意大利的佛罗伦萨学习艺术，我就要去德国的慕尼黑开始新的表演生活，跟一支叫“三月粉”的摇滚乐队...哈啊，没错，三月粉...那是另外一个故事了。</div><div class=\"line\"></div><div class=\"line\">当我俩都在欧洲的时候，我们选了一个处在佛罗伦萨和慕尼黑之间的地方约会。这就是南部蒂罗尔的一个小镇，德文里面它叫“Brixen”，意大利文就是“bressanone”。Bressanone是个非常优美的小镇。它被小乡村包围着，而山谷中回响着教堂的钟声，山羊在牧场漫步，远处是高耸的白色山头。</div><div class=\"line\"></div><div class=\"line\">我们在那里玩乐了几天，探索过周围的小乡村，还有彼此的心。离别的日子到了，她要回去的时候我陪着她去附近乡村的火车站，真是很令人沮丧啊，我们都要踏上各自的道路。流着泪水，我上了去火车站的公共汽车，在短短的40分钟路程里，我缓缓入睡了，在梦中，我隐隐约约地似乎听到了这样的一首歌，非常美妙的旋律和歌词。我醒来的时候，赶紧下了车，来到最近的咖啡店，把所听到的旋律和歌词写在一张餐巾纸上，好让我能够永远地记住它。</div><div class=\"line\"></div><div class=\"line\">一年以后，我才有机会把这首歌录下来。在我的心里，永远会留个地方是给她，还有那些小乡村，和这首歌。</div><div class=\"line\"></div><div class=\"line\">谢谢你这么认真地听我说。现在...是时候跟你同睡了，晚安!!!</div><div class=\"line\"></div><div class=\"line\">:-)</div><div class=\"line\"></div><div class=\"line\">马修</div><div class=\"line\"></div><div class=\"line\">附原文：</div><div class=\"line\"></div><div class=\"line\">The Story</div><div class=\"line\"></div><div class=\"line\">by Matthew Lien</div><div class=\"line\"></div><div class=\"line\">Date: 02-20-02 18:10</div><div class=\"line\"></div><div class=\"line\">Hello Forrest,</div><div class=\"line\"></div><div class=\"line\">Thank you for your comments. Now make yourself a cup of hot tea, sit back, and I&apos;ll tell you a story about Bressanone...</div><div class=\"line\"></div><div class=\"line\">Several years ago, I fell deeply in love with a young woman, and also with a part of northern Italy known as South Tyrol. It borders Austria, just south of the Brenner mountain pass which separates Italy from Austria.</div><div class=\"line\"></div><div class=\"line\">South Tyrol used to be joined with North Tyrol (now a part of Austria) and West Tyrol (now a part of Switzerland). The people of this area speak a dialect of German. But since Tyrol was divided and South Tyrol became a part of Italy, all the place names are in both German and Italian.</div><div class=\"line\"></div><div class=\"line\">Anyway... I once worked for Greenpeace many years ago, where I met a young woman who melted my heart. We met while on a retreat in California&apos;s Yosemite National Park. After the retreat, she returned to the Colorado Greenpeace office, and eventually went back to school in New York state. I returned to the San Diego Greenpeace Office, and eventually went back to my home in the Yukon, Canada.</div><div class=\"line\"></div><div class=\"line\">Over the months we stayed in touch. Soon we discovered that we would both be close again. She was going to study art in Florence, Italy, and I was going to live in Munich, Germany performing with a rock band called &quot;Marching Powder&quot;... ahhhh yes, Marching Powder... but that&apos;s another story.</div><div class=\"line\"></div><div class=\"line\">When we were both in Europe, we made arrangements to meet in a place that was close to being between Florence and Munich. This was the South Tyrolian town called &quot;Brixen&quot; in German, or &quot;Bressanone&quot; in Italian. Bressanone is a beautiful town surrounded by small villages high in the mountain valleys with churches ringing and sheep in the meadows, and the awesome peaks of the Dolomite mountains towering beyond.</div><div class=\"line\"></div><div class=\"line\">We spent several days exploring the mountain villages and each other&apos;s hearts. And when the day came for her to return, I took her to a train station in a nearby village, and we said goodbye. It was very sad to be going our own ways again. With tears in my eyes, I got on a bus and headed for the train station in Bressanone. During the short 40-minute bus ride, I fell asleep. And while I slept, I had a dream in which I could hear this song, complete with the words and music. When I awoke, I got off the train and went to the nearest coffee shop to write the words and music on a napkin, so I would not forget.</div><div class=\"line\"></div><div class=\"line\">It was years later when I finally recorded the song. I will always have a place in my heart for her... and for that village... and for this song.</div><div class=\"line\"></div><div class=\"line\">Thank you for listening. Now... off to bed with you!!!</div><div class=\"line\"></div><div class=\"line\">:-)</div><div class=\"line\"></div><div class=\"line\">Matthew</div></pre></td></tr></table></figure>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://www.sanwen.net/subject/3704574/\" target=\"_blank\" rel=\"external\">故事</a></p>\n","excerpt":"<p>ps:今天听了一首感动死我的歌，歌曲名是Bressanone（布列瑟农），听的时候全身鸡皮疙瘩都起来了，然后我就去搜这首歌，谁知道还有一个感人的故事。<br>以下是作者自述，链接来着一个音乐推荐网站<br><a href=\"http://music.163.com/#/song/1696822?userid=109343852\">音乐链接</a><br></p>","more":"<p></p>\n<h2 id=\"快速排序（Quick-Sort）\"><a href=\"#快速排序（Quick-Sort）\" class=\"headerlink\" title=\"快速排序（Quick Sort）\"></a>快速排序（Quick Sort）</h2><p>听着音乐差点都忘记了主题了，这篇blog的主题是快速排序。</p>\n<p>思想：快速排序由C.A.R.Hoare （1962）开发的，算是分治算法的一种。该算法在数组中选择一个主元（pivot）的元素将数组分为两部分，使得第一部分中所有元素都小于或等于主元，而第二部分中的所有元素都大于主元。对第一第二部分递归调用。<br>步骤：</p>\n<ul>\n<li>取pivot</li>\n<li>划分两部分</li>\n<li>递归调用划分方法</li>\n</ul>\n<p>具体代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*</div><div class=\"line\">* 快速排序</div><div class=\"line\">*/</div><div class=\"line\">public static void quickSort(int[] arr) &#123;</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    System.out.println(&quot;快速排序前的数组为： &quot;);</div><div class=\"line\">    for (int i : arr) &#123;</div><div class=\"line\">        System.out.print(i + &quot; &quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">    quickSort(arr, 0, arr.length - 1);</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    System.out.println(&quot;快速排序后的数组为：&quot;);</div><div class=\"line\">    for (int i : arr) &#123;</div><div class=\"line\">        System.out.print(i + &quot; &quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">private static void quickSort(int[] arr, int first, int last) &#123;</div><div class=\"line\">    if (last &gt; first) &#123;</div><div class=\"line\">        int pivot = partition(arr, first, last);</div><div class=\"line\">        quickSort(arr, first, pivot - 1);</div><div class=\"line\">        quickSort(arr, pivot + 1, last);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">private static int partition(int[] arr, int first, int last) &#123;</div><div class=\"line\">    int pivot = arr[first]; // 主元</div><div class=\"line\">    int low = first + 1;</div><div class=\"line\">    int high = last;</div><div class=\"line\">    while (high &gt; low) &#123;</div><div class=\"line\">        while (low &lt;= high &amp;&amp; arr[last] &lt;= pivot) &#123;</div><div class=\"line\">            low++;</div><div class=\"line\">        &#125;</div><div class=\"line\">        while (low &lt;= high &amp;&amp; arr[high] &gt; pivot) &#123;</div><div class=\"line\">            high--;</div><div class=\"line\">        &#125;</div><div class=\"line\">        if (high &gt; low) &#123;</div><div class=\"line\">            int temp = arr[high];</div><div class=\"line\">            arr[high] = arr[low];</div><div class=\"line\">            arr[low] = temp;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    while (high &gt; first &amp;&amp; arr[high] &gt;= pivot) &#123;</div><div class=\"line\">        high--;</div><div class=\"line\">    &#125;</div><div class=\"line\">    if (pivot &gt; arr[high]) &#123;</div><div class=\"line\">        arr[first] = arr[high];</div><div class=\"line\">        arr[high] = pivot;</div><div class=\"line\">        return high;</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">        return first;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div></pre></td><td class=\"code\"><pre><div class=\"line\">马修·连恩—布列瑟农</div><div class=\"line\"></div><div class=\"line\">谢谢你的评论，现在给你自己冲杯热茶，坐好，我接下来给你说个关于bressanone的故事......</div><div class=\"line\"></div><div class=\"line\">几年前，我疯狂地爱上了一个年轻的女孩，还有，也爱上了南部蒂罗尔山区，它在意大利的北部，与奥地利接壤，就在勃伦尔山脉的南边（勃伦尔山脉正好把意大利和奥地利分隔开来）。</div><div class=\"line\"></div><div class=\"line\">南部蒂罗尔曾经跟北部蒂罗尔（现在属于奥地利）和西部蒂罗尔（现在属于瑞士）是一个整体。这个地区的人说的是德国的一种方言，但是由于蒂罗尔被分割开来，而南部蒂罗尔变成意大利的一部分，所以这里的地名一般都有意大利文和德文两种名字。</div><div class=\"line\"></div><div class=\"line\">总之呢...许多年前我给绿色和平组织工作，在那时候我遇上了一个让我心动的女孩子。我们是在加州的约塞米蒂国家公园归途中相遇的。自那以后，她回到科罗拉多州的绿色和平组织，最后回到纽约洲去上学，而我则回到圣迭戈的绿色和平组织，并且最后回到我在加拿大育空地区的老家。</div><div class=\"line\"></div><div class=\"line\">此后的几个月里我们不停地通讯。很快我们都希望能有更进一步的发展。她将要去意大利的佛罗伦萨学习艺术，我就要去德国的慕尼黑开始新的表演生活，跟一支叫“三月粉”的摇滚乐队...哈啊，没错，三月粉...那是另外一个故事了。</div><div class=\"line\"></div><div class=\"line\">当我俩都在欧洲的时候，我们选了一个处在佛罗伦萨和慕尼黑之间的地方约会。这就是南部蒂罗尔的一个小镇，德文里面它叫“Brixen”，意大利文就是“bressanone”。Bressanone是个非常优美的小镇。它被小乡村包围着，而山谷中回响着教堂的钟声，山羊在牧场漫步，远处是高耸的白色山头。</div><div class=\"line\"></div><div class=\"line\">我们在那里玩乐了几天，探索过周围的小乡村，还有彼此的心。离别的日子到了，她要回去的时候我陪着她去附近乡村的火车站，真是很令人沮丧啊，我们都要踏上各自的道路。流着泪水，我上了去火车站的公共汽车，在短短的40分钟路程里，我缓缓入睡了，在梦中，我隐隐约约地似乎听到了这样的一首歌，非常美妙的旋律和歌词。我醒来的时候，赶紧下了车，来到最近的咖啡店，把所听到的旋律和歌词写在一张餐巾纸上，好让我能够永远地记住它。</div><div class=\"line\"></div><div class=\"line\">一年以后，我才有机会把这首歌录下来。在我的心里，永远会留个地方是给她，还有那些小乡村，和这首歌。</div><div class=\"line\"></div><div class=\"line\">谢谢你这么认真地听我说。现在...是时候跟你同睡了，晚安!!!</div><div class=\"line\"></div><div class=\"line\">:-)</div><div class=\"line\"></div><div class=\"line\">马修</div><div class=\"line\"></div><div class=\"line\">附原文：</div><div class=\"line\"></div><div class=\"line\">The Story</div><div class=\"line\"></div><div class=\"line\">by Matthew Lien</div><div class=\"line\"></div><div class=\"line\">Date: 02-20-02 18:10</div><div class=\"line\"></div><div class=\"line\">Hello Forrest,</div><div class=\"line\"></div><div class=\"line\">Thank you for your comments. Now make yourself a cup of hot tea, sit back, and I&apos;ll tell you a story about Bressanone...</div><div class=\"line\"></div><div class=\"line\">Several years ago, I fell deeply in love with a young woman, and also with a part of northern Italy known as South Tyrol. It borders Austria, just south of the Brenner mountain pass which separates Italy from Austria.</div><div class=\"line\"></div><div class=\"line\">South Tyrol used to be joined with North Tyrol (now a part of Austria) and West Tyrol (now a part of Switzerland). The people of this area speak a dialect of German. But since Tyrol was divided and South Tyrol became a part of Italy, all the place names are in both German and Italian.</div><div class=\"line\"></div><div class=\"line\">Anyway... I once worked for Greenpeace many years ago, where I met a young woman who melted my heart. We met while on a retreat in California&apos;s Yosemite National Park. After the retreat, she returned to the Colorado Greenpeace office, and eventually went back to school in New York state. I returned to the San Diego Greenpeace Office, and eventually went back to my home in the Yukon, Canada.</div><div class=\"line\"></div><div class=\"line\">Over the months we stayed in touch. Soon we discovered that we would both be close again. She was going to study art in Florence, Italy, and I was going to live in Munich, Germany performing with a rock band called &quot;Marching Powder&quot;... ahhhh yes, Marching Powder... but that&apos;s another story.</div><div class=\"line\"></div><div class=\"line\">When we were both in Europe, we made arrangements to meet in a place that was close to being between Florence and Munich. This was the South Tyrolian town called &quot;Brixen&quot; in German, or &quot;Bressanone&quot; in Italian. Bressanone is a beautiful town surrounded by small villages high in the mountain valleys with churches ringing and sheep in the meadows, and the awesome peaks of the Dolomite mountains towering beyond.</div><div class=\"line\"></div><div class=\"line\">We spent several days exploring the mountain villages and each other&apos;s hearts. And when the day came for her to return, I took her to a train station in a nearby village, and we said goodbye. It was very sad to be going our own ways again. With tears in my eyes, I got on a bus and headed for the train station in Bressanone. During the short 40-minute bus ride, I fell asleep. And while I slept, I had a dream in which I could hear this song, complete with the words and music. When I awoke, I got off the train and went to the nearest coffee shop to write the words and music on a napkin, so I would not forget.</div><div class=\"line\"></div><div class=\"line\">It was years later when I finally recorded the song. I will always have a place in my heart for her... and for that village... and for this song.</div><div class=\"line\"></div><div class=\"line\">Thank you for listening. Now... off to bed with you!!!</div><div class=\"line\"></div><div class=\"line\">:-)</div><div class=\"line\"></div><div class=\"line\">Matthew</div></pre></td></tr></table></figure>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://www.sanwen.net/subject/3704574/\">故事</a></p>"},{"title":"java 算法 （搜索算法 二分排序）","date":"2017-02-28T12:30:19.000Z","_content":"\n## 二分搜索算法\n\n二分搜索算法顾名思义就是每次分成两边的搜索算法，这个算法的要求是数据已经是排序过的数据。\n\n步骤\n* 排序\n* 比较中值和搜索值大小，化分搜索范围\n* 对划分的范围继续搜索\n\n```\n/*\n* 不是迭代的二分搜索算法\n */\npublic static int binarySearch(int[] arr, int low, int high,int search) {\n    System.out.println(\"\");\n    while (low <= high) {\n        int mid = (low + high) / 2;\n        if (search > arr[mid]) {\n            low = mid + 1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n        } else if (search < arr[mid]) {\n            high = mid - 1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n        } else {\n            System.out.println(\"找到的数据在第\" + mid + \"值为：\" + arr[mid]);\n            return arr[mid];\n        }\n    }\n    System.out.println(\"无此数据\");\n    return -1;\n}\n\n/*\n* 二分迭代搜索算法\n */\npublic static int binaryItratorSearch(int[] arr, int low, int high, int search) {\n    System.out.println(\"\");\n    if (low <= high) {\n        int mid = (low + high) / 2;\n        if (search < arr[mid]) {\n            high = mid -1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n            binaryItratorSearch(arr, low, high, search);\n        } else if (search > arr[mid]) {\n            low = mid + 1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n            binaryItratorSearch(arr, low, high, search);\n        } else {\n            System.out.println(\"找到的数据在第\" + mid + \"值为：\" + arr[mid]);\n            return arr[mid];\n        }\n    }\n    System.out.println(\"无此数据\");\n    return -1;\n}\n```","source":"_posts/searchAlgorithm.md","raw":"---\ntitle: java 算法 （搜索算法 二分排序）\ncategories: 算法                    #文章文类\ndate: 2017-02-28 20:30:19\ntags: [\"小章鱼\", \"java\", \"algorithm\"]\n---\n\n## 二分搜索算法\n\n二分搜索算法顾名思义就是每次分成两边的搜索算法，这个算法的要求是数据已经是排序过的数据。\n\n步骤\n* 排序\n* 比较中值和搜索值大小，化分搜索范围\n* 对划分的范围继续搜索\n\n```\n/*\n* 不是迭代的二分搜索算法\n */\npublic static int binarySearch(int[] arr, int low, int high,int search) {\n    System.out.println(\"\");\n    while (low <= high) {\n        int mid = (low + high) / 2;\n        if (search > arr[mid]) {\n            low = mid + 1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n        } else if (search < arr[mid]) {\n            high = mid - 1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n        } else {\n            System.out.println(\"找到的数据在第\" + mid + \"值为：\" + arr[mid]);\n            return arr[mid];\n        }\n    }\n    System.out.println(\"无此数据\");\n    return -1;\n}\n\n/*\n* 二分迭代搜索算法\n */\npublic static int binaryItratorSearch(int[] arr, int low, int high, int search) {\n    System.out.println(\"\");\n    if (low <= high) {\n        int mid = (low + high) / 2;\n        if (search < arr[mid]) {\n            high = mid -1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n            binaryItratorSearch(arr, low, high, search);\n        } else if (search > arr[mid]) {\n            low = mid + 1;\n            System.out.println(\"mid: \" + mid + \"high: \" + high + \"low: \" + low);\n            binaryItratorSearch(arr, low, high, search);\n        } else {\n            System.out.println(\"找到的数据在第\" + mid + \"值为：\" + arr[mid]);\n            return arr[mid];\n        }\n    }\n    System.out.println(\"无此数据\");\n    return -1;\n}\n```","slug":"searchAlgorithm","published":1,"updated":"2017-02-28T14:24:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ue3001uffcah44uka41","content":"<h2 id=\"二分搜索算法\"><a href=\"#二分搜索算法\" class=\"headerlink\" title=\"二分搜索算法\"></a>二分搜索算法</h2><p>二分搜索算法顾名思义就是每次分成两边的搜索算法，这个算法的要求是数据已经是排序过的数据。</p>\n<p>步骤</p>\n<ul>\n<li>排序</li>\n<li>比较中值和搜索值大小，化分搜索范围</li>\n<li>对划分的范围继续搜索</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*</div><div class=\"line\">* 不是迭代的二分搜索算法</div><div class=\"line\"> */</div><div class=\"line\">public static int binarySearch(int[] arr, int low, int high,int search) &#123;</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    while (low &lt;= high) &#123;</div><div class=\"line\">        int mid = (low + high) / 2;</div><div class=\"line\">        if (search &gt; arr[mid]) &#123;</div><div class=\"line\">            low = mid + 1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">        &#125; else if (search &lt; arr[mid]) &#123;</div><div class=\"line\">            high = mid - 1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">        &#125; else &#123;</div><div class=\"line\">            System.out.println(&quot;找到的数据在第&quot; + mid + &quot;值为：&quot; + arr[mid]);</div><div class=\"line\">            return arr[mid];</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    System.out.println(&quot;无此数据&quot;);</div><div class=\"line\">    return -1;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/*</div><div class=\"line\">* 二分迭代搜索算法</div><div class=\"line\"> */</div><div class=\"line\">public static int binaryItratorSearch(int[] arr, int low, int high, int search) &#123;</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    if (low &lt;= high) &#123;</div><div class=\"line\">        int mid = (low + high) / 2;</div><div class=\"line\">        if (search &lt; arr[mid]) &#123;</div><div class=\"line\">            high = mid -1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">            binaryItratorSearch(arr, low, high, search);</div><div class=\"line\">        &#125; else if (search &gt; arr[mid]) &#123;</div><div class=\"line\">            low = mid + 1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">            binaryItratorSearch(arr, low, high, search);</div><div class=\"line\">        &#125; else &#123;</div><div class=\"line\">            System.out.println(&quot;找到的数据在第&quot; + mid + &quot;值为：&quot; + arr[mid]);</div><div class=\"line\">            return arr[mid];</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    System.out.println(&quot;无此数据&quot;);</div><div class=\"line\">    return -1;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","excerpt":"","more":"<h2 id=\"二分搜索算法\"><a href=\"#二分搜索算法\" class=\"headerlink\" title=\"二分搜索算法\"></a>二分搜索算法</h2><p>二分搜索算法顾名思义就是每次分成两边的搜索算法，这个算法的要求是数据已经是排序过的数据。</p>\n<p>步骤</p>\n<ul>\n<li>排序</li>\n<li>比较中值和搜索值大小，化分搜索范围</li>\n<li>对划分的范围继续搜索</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*</div><div class=\"line\">* 不是迭代的二分搜索算法</div><div class=\"line\"> */</div><div class=\"line\">public static int binarySearch(int[] arr, int low, int high,int search) &#123;</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    while (low &lt;= high) &#123;</div><div class=\"line\">        int mid = (low + high) / 2;</div><div class=\"line\">        if (search &gt; arr[mid]) &#123;</div><div class=\"line\">            low = mid + 1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">        &#125; else if (search &lt; arr[mid]) &#123;</div><div class=\"line\">            high = mid - 1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">        &#125; else &#123;</div><div class=\"line\">            System.out.println(&quot;找到的数据在第&quot; + mid + &quot;值为：&quot; + arr[mid]);</div><div class=\"line\">            return arr[mid];</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    System.out.println(&quot;无此数据&quot;);</div><div class=\"line\">    return -1;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/*</div><div class=\"line\">* 二分迭代搜索算法</div><div class=\"line\"> */</div><div class=\"line\">public static int binaryItratorSearch(int[] arr, int low, int high, int search) &#123;</div><div class=\"line\">    System.out.println(&quot;&quot;);</div><div class=\"line\">    if (low &lt;= high) &#123;</div><div class=\"line\">        int mid = (low + high) / 2;</div><div class=\"line\">        if (search &lt; arr[mid]) &#123;</div><div class=\"line\">            high = mid -1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">            binaryItratorSearch(arr, low, high, search);</div><div class=\"line\">        &#125; else if (search &gt; arr[mid]) &#123;</div><div class=\"line\">            low = mid + 1;</div><div class=\"line\">            System.out.println(&quot;mid: &quot; + mid + &quot;high: &quot; + high + &quot;low: &quot; + low);</div><div class=\"line\">            binaryItratorSearch(arr, low, high, search);</div><div class=\"line\">        &#125; else &#123;</div><div class=\"line\">            System.out.println(&quot;找到的数据在第&quot; + mid + &quot;值为：&quot; + arr[mid]);</div><div class=\"line\">            return arr[mid];</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    System.out.println(&quot;无此数据&quot;);</div><div class=\"line\">    return -1;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"Markdown 学习笔记","date":"2017-01-12T07:14:01.000Z","_content":"\n### 段落\n\n# 第一段\n## 第二段\n### 第三段\n源代码\n\t# 第一段\n\t## 第二段\n\t### 第三段\n\n\n<!-- more -->\n\n## 列表\n* 苹果\n* 香蕉\n* 菠萝\n源代码\n```\n* 苹果\n* 香蕉\n* 菠萝\n```\n\n### 引用、斜体、加粗\n> _天空没有鸟的痕迹，但我已飞过_。 --泰戈尔\n源代码\n`> _天空没有**鸟**的痕迹，但我已飞过_。 --泰戈尔`\n\n### 代码块\n```css\nul {\n    margin: 0 0;\n    padding: 0 0;\n    list-style-type: none;\n}\nli {\n    float: right;\n    width: 80px;\n    height: 40px;\n    margin-right: 5%;\n    margin-bottom: 10px;\n    line-height: 40px;\n    text-align: center;\n}\n```\n源代码\n(```css\nul {\n    margin: 0 0;\n    padding: 0 0;\n    list-style-type: none;\n}\nli {\n    float: right;\n    width: 80px;\n    height: 40px;\n    margin-right: 5%;\n    margin-bottom: 10px;\n    line-height: 40px;\n    text-align: center;\n}\n```)\n### 分割线\n- - -\n源代码\n\t- - -\n### 链接\n[i am 404](https://twitter.com/Tracy_xzh)\n[i am baidu](https://www.baidu.com)\n源代码\n\t`[i am 404](https://twitter.com/Tracy_xzh)`\n\t`[i am baidu](https://www.baidu.com)`\n### 参考链接\n[链接](http://wowubuntu.com/markdown/)","source":"_posts/start.md","raw":"---\ntitle: \"Markdown 学习笔记\"           #可以随意修改,可以是中文\ncategories: blog                    #文章文类\ndate: 2017-01-12 15:14:01\ntags: [测试, Markdown]                 #文章tag标签,多个标签用逗号隔开\n---\n\n### 段落\n\n# 第一段\n## 第二段\n### 第三段\n源代码\n\t# 第一段\n\t## 第二段\n\t### 第三段\n\n\n<!-- more -->\n\n## 列表\n* 苹果\n* 香蕉\n* 菠萝\n源代码\n```\n* 苹果\n* 香蕉\n* 菠萝\n```\n\n### 引用、斜体、加粗\n> _天空没有鸟的痕迹，但我已飞过_。 --泰戈尔\n源代码\n`> _天空没有**鸟**的痕迹，但我已飞过_。 --泰戈尔`\n\n### 代码块\n```css\nul {\n    margin: 0 0;\n    padding: 0 0;\n    list-style-type: none;\n}\nli {\n    float: right;\n    width: 80px;\n    height: 40px;\n    margin-right: 5%;\n    margin-bottom: 10px;\n    line-height: 40px;\n    text-align: center;\n}\n```\n源代码\n(```css\nul {\n    margin: 0 0;\n    padding: 0 0;\n    list-style-type: none;\n}\nli {\n    float: right;\n    width: 80px;\n    height: 40px;\n    margin-right: 5%;\n    margin-bottom: 10px;\n    line-height: 40px;\n    text-align: center;\n}\n```)\n### 分割线\n- - -\n源代码\n\t- - -\n### 链接\n[i am 404](https://twitter.com/Tracy_xzh)\n[i am baidu](https://www.baidu.com)\n源代码\n\t`[i am 404](https://twitter.com/Tracy_xzh)`\n\t`[i am baidu](https://www.baidu.com)`\n### 参考链接\n[链接](http://wowubuntu.com/markdown/)","slug":"start","published":1,"updated":"2017-02-21T15:01:27.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ue6001wffca3ghv85qt","content":"<h3 id=\"段落\"><a href=\"#段落\" class=\"headerlink\" title=\"段落\"></a>段落</h3><h1 id=\"第一段\"><a href=\"#第一段\" class=\"headerlink\" title=\"第一段\"></a>第一段</h1><h2 id=\"第二段\"><a href=\"#第二段\" class=\"headerlink\" title=\"第二段\"></a>第二段</h2><h3 id=\"第三段\"><a href=\"#第三段\" class=\"headerlink\" title=\"第三段\"></a>第三段</h3><p>源代码</p>\n<pre><code># 第一段\n## 第二段\n### 第三段\n</code></pre><a id=\"more\"></a>\n<h2 id=\"列表\"><a href=\"#列表\" class=\"headerlink\" title=\"列表\"></a>列表</h2><ul>\n<li>苹果</li>\n<li>香蕉</li>\n<li>菠萝<br>源代码<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">* 苹果</div><div class=\"line\">* 香蕉</div><div class=\"line\">* 菠萝</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"引用、斜体、加粗\"><a href=\"#引用、斜体、加粗\" class=\"headerlink\" title=\"引用、斜体、加粗\"></a>引用、斜体、加粗</h3><blockquote>\n<p><em>天空没有鸟的痕迹，但我已飞过</em>。 –泰戈尔<br>源代码<br><code>&gt; _天空没有**鸟**的痕迹，但我已飞过_。 --泰戈尔</code></p>\n</blockquote>\n<h3 id=\"代码块\"><a href=\"#代码块\" class=\"headerlink\" title=\"代码块\"></a>代码块</h3><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">ul</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">list-style-type</span>: none;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-tag\">li</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">float</span>: right;</div><div class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">80px</span>;</div><div class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</div><div class=\"line\">    <span class=\"attribute\">margin-right</span>: <span class=\"number\">5%</span>;</div><div class=\"line\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</div><div class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">40px</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: center;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>源代码<br>(<code>css\nul {\n    margin: 0 0;\n    padding: 0 0;\n    list-style-type: none;\n}\nli {\n    float: right;\n    width: 80px;\n    height: 40px;\n    margin-right: 5%;\n    margin-bottom: 10px;\n    line-height: 40px;\n    text-align: center;\n}</code>)</p>\n<h3 id=\"分割线\"><a href=\"#分割线\" class=\"headerlink\" title=\"分割线\"></a>分割线</h3><hr>\n<p>源代码</p>\n<pre><code>- - -\n</code></pre><h3 id=\"链接\"><a href=\"#链接\" class=\"headerlink\" title=\"链接\"></a>链接</h3><p><a href=\"https://twitter.com/Tracy_xzh\" target=\"_blank\" rel=\"external\">i am 404</a><br><a href=\"https://www.baidu.com\" target=\"_blank\" rel=\"external\">i am baidu</a><br>源代码<br>    <code>[i am 404](https://twitter.com/Tracy_xzh)</code><br>    <code>[i am baidu](https://www.baidu.com)</code></p>\n<h3 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h3><p><a href=\"http://wowubuntu.com/markdown/\" target=\"_blank\" rel=\"external\">链接</a></p>\n","excerpt":"<h3 id=\"段落\"><a href=\"#段落\" class=\"headerlink\" title=\"段落\"></a>段落</h3><h1 id=\"第一段\"><a href=\"#第一段\" class=\"headerlink\" title=\"第一段\"></a>第一段</h1><h2 id=\"第二段\"><a href=\"#第二段\" class=\"headerlink\" title=\"第二段\"></a>第二段</h2><h3 id=\"第三段\"><a href=\"#第三段\" class=\"headerlink\" title=\"第三段\"></a>第三段</h3><p>源代码</p>\n<pre><code># 第一段\n## 第二段\n### 第三段\n</code></pre>","more":"<h2 id=\"列表\"><a href=\"#列表\" class=\"headerlink\" title=\"列表\"></a>列表</h2><ul>\n<li>苹果</li>\n<li>香蕉</li>\n<li>菠萝<br>源代码<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">* 苹果</div><div class=\"line\">* 香蕉</div><div class=\"line\">* 菠萝</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"引用、斜体、加粗\"><a href=\"#引用、斜体、加粗\" class=\"headerlink\" title=\"引用、斜体、加粗\"></a>引用、斜体、加粗</h3><blockquote>\n<p><em>天空没有鸟的痕迹，但我已飞过</em>。 –泰戈尔<br>源代码<br><code>&gt; _天空没有**鸟**的痕迹，但我已飞过_。 --泰戈尔</code></p>\n</blockquote>\n<h3 id=\"代码块\"><a href=\"#代码块\" class=\"headerlink\" title=\"代码块\"></a>代码块</h3><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">ul</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">list-style-type</span>: none;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-tag\">li</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">float</span>: right;</div><div class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">80px</span>;</div><div class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</div><div class=\"line\">    <span class=\"attribute\">margin-right</span>: <span class=\"number\">5%</span>;</div><div class=\"line\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</div><div class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">40px</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: center;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>源代码<br>(<code>css\nul {\n    margin: 0 0;\n    padding: 0 0;\n    list-style-type: none;\n}\nli {\n    float: right;\n    width: 80px;\n    height: 40px;\n    margin-right: 5%;\n    margin-bottom: 10px;\n    line-height: 40px;\n    text-align: center;\n}</code>)</p>\n<h3 id=\"分割线\"><a href=\"#分割线\" class=\"headerlink\" title=\"分割线\"></a>分割线</h3><hr>\n<p>源代码</p>\n<pre><code>- - -\n</code></pre><h3 id=\"链接\"><a href=\"#链接\" class=\"headerlink\" title=\"链接\"></a>链接</h3><p><a href=\"https://twitter.com/Tracy_xzh\">i am 404</a><br><a href=\"https://www.baidu.com\">i am baidu</a><br>源代码<br>    <code>[i am 404](https://twitter.com/Tracy_xzh)</code><br>    <code>[i am baidu](https://www.baidu.com)</code></p>\n<h3 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h3><p><a href=\"http://wowubuntu.com/markdown/\">链接</a></p>"},{"title":"spring aop 使用以及代理原理","date":"2017-03-10T11:09:30.000Z","_content":"\n## 前言\n又到了紧张刺激的前言了，前一段时间整理了hashmap以及解决hash碰撞的方法，然后今天在阿里第一次面试的时候就问到了。虽然这个回答的还可以，但是我对自己还是失望的，面试问我spring和主要概念aop我知不知道。讲真的，我老早就说准备看看，而且我还看过一遍，但是就只是那么匆匆一看，没有怎么在意。果然就像考试，只有仔细认真的人才会一直取得高分。所以我今天一天都在研究spring aop。\n\n\n## 使用场景\n面向切面区别于面向对象，由于琐碎的逻辑需要嵌入整体的项目框架。如果是面向对象需要在相应的对象中修改代码，这样显然很麻烦，而且琐碎的逻辑耦合在了项目中。如果使用面向切面，就可以减少耦合。通过面向切面可以不用修改原有项目代码，而是在外部找到添加代码，找到需要嵌入逻辑的地方标记好，那么运行的时候就会插入相应的代码。比如我们常用的如事务管理、安全检查、缓存、对象池管理。AOP 实现的关键就在于 AOP 框架自动创建的 AOP 代理.\n\n## 实践出真知\n启用 Spring 对 @AspectJ 方面配置的支持\n```\n在config类中添加@EnableAspectJAutoProxy注解\n当启动了 @AspectJ 支持后，只要我们在 Spring 容器中配置一个带 @Aspect 注释的 Bean，Spring 将会自动识别该 Bean，并将该 Bean 作为切面 Bean 处理。\n```\n\n定义切面\n```\n@Aspect\npublic class TestAspect {\n    @Before(\"execution(* com.example.web.LoginControlller.well(..))\")\n    public void logBefore(JoinPoint joinPoint) {\n\n        System.out.println(\"logBefore() is running!\");\n        System.out.println(\"hijacked : \" + joinPoint.getSignature().getName());\n        System.out.println(\"******\");\n    }\n\n    @After(\"execution(* com.example.web.LoginControlller.well(..))\")\n    public void logAfter(JoinPoint joinPoint) {\n\n        System.out.println(\"logAfter() is running!\");\n        System.out.println(\"hijacked : \" + joinPoint.getSignature().getName());\n        System.out.println(\"******\");\n\n    }\n\n    @AfterReturning(\n            pointcut = \"execution(* com.example.web.LoginControlller.well(..)))\",\n            returning= \"result\")\n    public void logAfterReturning(JoinPoint joinPoint, Object result) {\n\n        System.out.println(\"logAfterReturning() is running!\");\n        System.out.println(\"hijacked : \" + joinPoint.getSignature().getName());\n        System.out.println(\"Method returned value is : \" + result);\n        System.out.println(\"******\");\n\n    }\n}\n```\n<!--more-->\n\n\n定义控制器\n```\n@RestController\npublic class LoginControlller {\n    @RequestMapping(value = \"/login\", method = RequestMethod.POST)\n    public String login (@PathVariable String post) {\n        System.out.println(\"login() is running \");\n        return \"hah\";\n    }\n```\n输出\n```\nlogBefore() is running!\nhijacked : well\n******\nget() is running \nlogAfter() is running!\nhijacked : well\n******\nlogAfterReturning() is running!\nhijacked : well\nMethod returned value is : well\n******\n```\n## spring aop 的代理模式\n```\nSpring AOP defaults to using standard JDK dynamic proxies for AOP proxies. This enables any interface (or set of interfaces) to be proxied.\n\nSpring AOP can also use CGLIB proxies. This is necessary to proxy classes rather than interfaces. CGLIB is used by default if a business object does not implement an interface. As it is good practice to program to interfaces rather than classes; business classes normally will implement one or more business interfaces. It is possible to force the use of CGLIB, in those (hopefully rare) cases where you need to advise a method that is not declared on an interface, or where you need to pass a proxied object to a method as a concrete type.\n\nIt is important to grasp the fact that Spring AOP is proxy-based. See Section 11.6.1, “Understanding AOP proxies” for a thorough examination of exactly what this implementation detail actually means.\n```\n这是官网对于spring aop代理的描述，这里可以看到\n* 静态代理：使用 AOP 框架提供的命令进行编译，从而在编译阶段就可生成 AOP 代理类，因此也称为编译时增强；静态代理以 AspectJ 为代表。\n* 动态代理：在运行时借助于 JDK 动态代理、CGLIB 等在内存中“临时”生成 AOP 动态代理类，因此也被称为运行时增强。Spring AOP 用的就是 动态代理\n\n动态代理\n* 如果目标对象实现了接口，默认会采用JDK的动态代理机制实现AOP \n* 如果目标对象实现了接口，可以强制使用CGLIB实现AOP \n* 如果目标对象没有实现接口，必须使用CGLIB生成代理，spring会自动在CGLIB和JDK动态代理之间切换 \n* JDK代理只能对实现了接口的类生成代理，而不能针对类 \n* CGLIB是针对类实现代理的，主要对指定的类生成一个子类，并覆盖其中的方法\n\n## 原理解析\nAOP 代理其实是由 AOP 框架动态生成的一个对象，该对象可作为目标对象使用。AOP 代理包含了目标对象的全部方法，但 AOP 代理中的方法与目标对象的方法存在差异：AOP 方法在特定切入点添加了增强处理，并回调了目标对象的方法。\n代理类图：\n![代理类图](springaop/proxy.png)\n\n### JDK动态代理\nsping aop的jdk动态代理主要基于JdkDynamicAopProxy实现源代码如下：\n```\nfinal class JdkDynamicAopProxy implements AopProxy, InvocationHandler, Serializable {\n\t...\n\t//创建一个代理对象\n\t@Override\n\tpublic Object getProxy(ClassLoader classLoader) {\n\t\tif (logger.isDebugEnabled()) {\n\t\t\tlogger.debug(\"Creating JDK dynamic proxy: target source is \" + this.advised.getTargetSource());\n\t\t}\n\t\tClass<?>[] proxiedInterfaces = AopProxyUtils.completeProxiedInterfaces(this.advised, true);\n\t\tfindDefinedEqualsAndHashCodeMethods(proxiedInterfaces);\n\t\treturn Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);\n\t}\n\t...\n}\n```\n从源代码中我们可以看出这个类实现了AopProxy和InvoctionHandler接口。\n```\n而这个AopProxy中只定义了两个方法。这个接口是在spring中定义的。\npublic interface AopProxy {\n\tObject getProxy();\n\tObject getProxy(ClassLoader classLoader);\n\n}\n这个InvocationHandler接口是在jdk中定义的，其中只有一个方法invoke。\n* InvocationHandler 是代理实例的调用处理程序 实现的接口\n* 包名可以看出使用到了反射\n* 每个代理实例都具有一个关联的调用处理程序。对代理实例调用方法时，将对方法调用进行编码并将其指派到它的调用处理程序的 invoke 方法。\npackage java.lang.reflect;\npublic interface InvocationHandler {\n    //在代理实例上处理方法调用并返回结果。\n    public Object invoke(Object proxy, Method method, Object[] args)\n        throws Throwable;\n}\n```\n```\n在JdkDynamicAopProxy中getProxy最后使用的方法是\nreturn Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);\n这个方法是Proxy 提供用于创建动态代理类和实例的静态方法，它还是由这些方法创建的所有动态代理类的超类。\n@CallerSensitive\npublic static Object newProxyInstance(ClassLoader loader,\n                                      Class<?>[] interfaces,\n                                      InvocationHandler h)\n    throws IllegalArgumentException {\n    ...\n}\n```\n#### JDK动态代理demo\n```\n//接口\npackage com.example.test;\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic interface Student {\n    void say();\n}\n\n//实体类\npackage com.example.test;\n\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic class StudentImpl implements Student {\n    private String name;\n\n    public StudentImpl() {\n\n    }\n\n    public StudentImpl(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public void say() {\n        System.out.println(\"my name is: \" + name);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n//代理工厂类\npackage com.example.test;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic class ProxyFactory implements InvocationHandler {\n    private Object obj;\n\n    public Object createObjectProxy(Object obj) {\n        this.obj = obj;\n        return Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(), this);\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        StudentImpl stu = (StudentImpl) obj;\n        Object object = null;\n        if(stu.getName() != null)\n            object = method.invoke(stu, args);\n        else\n            System.out.println(\"i am the proxy of student\" + \"his name is \" + stu.getName());\n        return object;\n    }\n}\n\n//展示\npackage com.example.test;\n\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic class Test {\n    public static void main(String args[]) {\n        Student stu = (Student) new ProxyFactory().createObjectProxy(new StudentImpl());\n        stu.say();\n        Student stu2 = (Student) new ProxyFactory().createObjectProxy(new StudentImpl(\"xiezhanghua\"));\n        stu2.say();\n    }\n}\n\n//输出\ni am the proxy of studenthis name is null\nmy name is: xiezhanghua\n\n```\n\n### CGLIB代理\nspring 使用cglib代理的类\n```\nclass CglibAopProxy implements AopProxy, Serializable {\n@Override\npublic Object getProxy(ClassLoader classLoader) {\n\t...\n\n\ttry {\n\t\t...\n\t\t// Configure CGLIB Enhancer...\n\t\tEnhancer enhancer = createEnhancer();\n\t\tif (classLoader != null) {\n\t\t\tenhancer.setClassLoader(classLoader);\n\t\t\tif (classLoader instanceof SmartClassLoader &&\n\t\t\t\t\t((SmartClassLoader) classLoader).isClassReloadable(proxySuperClass)) {\n\t\t\t\tenhancer.setUseCache(false);\n\t\t\t}\n\t\t}\n\t\t//设置父类\n\t\tenhancer.setSuperclass(proxySuperClass);\n\t\tenhancer.setInterfaces(AopProxyUtils.completeProxiedInterfaces(this.advised));\n\t\tenhancer.setNamingPolicy(SpringNamingPolicy.INSTANCE);\n\t\tenhancer.setStrategy(new ClassLoaderAwareUndeclaredThrowableStrategy(classLoader));\n\n\t\tCallback[] callbacks = getCallbacks(rootClass);\n\t\tClass<?>[] types = new Class<?>[callbacks.length];\n\t\tfor (int x = 0; x < types.length; x++) {\n\t\t\ttypes[x] = callbacks[x].getClass();\n\t\t}\n\t\t// fixedInterceptorMap only populated at this point, after getCallbacks call above\n\t\tenhancer.setCallbackFilter(new ProxyCallbackFilter(\n\t\t\t\tthis.advised.getConfigurationOnlyCopy(), this.fixedInterceptorMap, this.fixedInterceptorOffset));\n\t\tenhancer.setCallbackTypes(types);\n\n\t\t// Generate the proxy class and create a proxy instance.\n\t\treturn createProxyClassAndInstance(enhancer, callbacks);\n\t}\n\t...\n\tprotected Object createProxyClassAndInstance(Enhancer enhancer, Callback[] callbacks) {\n\t\tenhancer.setInterceptDuringConstruction(false);\n\t\t//设置回调函数\n\t\tenhancer.setCallbacks(callbacks);\n\t\treturn (this.constructorArgs != null ?\n\t\t\t\tenhancer.create(this.constructorArgTypes, this.constructorArgs) :\n\t\t\t\tenhancer.create());\n\t}\n\t...\n}\n\n}\n```\n主要注意的地方就是Enhancer类的使用.在创建的时候，我们要使用一个 Enhance 类的对象，而不再是 Proxy，需要为其实例指定一个父类，也就是我们 的目标对象。这样，我们新创建出来的对象就是目标对象的子类，有目标对象的一样。除此之外，还要指定一个回调函数，这个函数就和Proxy的 invoke()类似。\n\n总体来说，使用CGlib的方法和使用Proxy的方法差不多，只是Proxy创建出来的代理对象和目标对象都实现了同一个接口。而CGlib的方法则是直接继承了目标对象。\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=298 height=52 src=\"//music.163.com/outchain/player?type=2&id=412016547&auto=1&height=32\"></iframe>\n\n[Enhancer](https://github.com/cglib/cglib/wiki/Tutorial)\n\n## 参考链接\n[spring 官方文档](http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#aop)\n[spring aop使用](http://wiki.jikexueyuan.com/project/spring/aop-with-spring-framenwork/aspectj-based-aop-with-spring.html)\n[aop](https://www.zhihu.com/question/24863332)\n[设计模式](https://github.com/pzxwhc/MineKnowContainer/issues/85)\n[natian306的专栏](http://blog.csdn.net/natian306/article/details/16371389)\n[Enhancer](https://github.com/cglib/cglib/wiki/Tutorial)\n[链接](http://www.jasongj.com/design_pattern/dynamic_proxy_cglib/)\n","source":"_posts/springaop.md","raw":"---\ntitle: spring aop 使用以及代理原理\ndate: 2017-03-10 19:09:30\ntags: [\"小章鱼\", \"java\", \"spring\"]\n---\n\n## 前言\n又到了紧张刺激的前言了，前一段时间整理了hashmap以及解决hash碰撞的方法，然后今天在阿里第一次面试的时候就问到了。虽然这个回答的还可以，但是我对自己还是失望的，面试问我spring和主要概念aop我知不知道。讲真的，我老早就说准备看看，而且我还看过一遍，但是就只是那么匆匆一看，没有怎么在意。果然就像考试，只有仔细认真的人才会一直取得高分。所以我今天一天都在研究spring aop。\n\n\n## 使用场景\n面向切面区别于面向对象，由于琐碎的逻辑需要嵌入整体的项目框架。如果是面向对象需要在相应的对象中修改代码，这样显然很麻烦，而且琐碎的逻辑耦合在了项目中。如果使用面向切面，就可以减少耦合。通过面向切面可以不用修改原有项目代码，而是在外部找到添加代码，找到需要嵌入逻辑的地方标记好，那么运行的时候就会插入相应的代码。比如我们常用的如事务管理、安全检查、缓存、对象池管理。AOP 实现的关键就在于 AOP 框架自动创建的 AOP 代理.\n\n## 实践出真知\n启用 Spring 对 @AspectJ 方面配置的支持\n```\n在config类中添加@EnableAspectJAutoProxy注解\n当启动了 @AspectJ 支持后，只要我们在 Spring 容器中配置一个带 @Aspect 注释的 Bean，Spring 将会自动识别该 Bean，并将该 Bean 作为切面 Bean 处理。\n```\n\n定义切面\n```\n@Aspect\npublic class TestAspect {\n    @Before(\"execution(* com.example.web.LoginControlller.well(..))\")\n    public void logBefore(JoinPoint joinPoint) {\n\n        System.out.println(\"logBefore() is running!\");\n        System.out.println(\"hijacked : \" + joinPoint.getSignature().getName());\n        System.out.println(\"******\");\n    }\n\n    @After(\"execution(* com.example.web.LoginControlller.well(..))\")\n    public void logAfter(JoinPoint joinPoint) {\n\n        System.out.println(\"logAfter() is running!\");\n        System.out.println(\"hijacked : \" + joinPoint.getSignature().getName());\n        System.out.println(\"******\");\n\n    }\n\n    @AfterReturning(\n            pointcut = \"execution(* com.example.web.LoginControlller.well(..)))\",\n            returning= \"result\")\n    public void logAfterReturning(JoinPoint joinPoint, Object result) {\n\n        System.out.println(\"logAfterReturning() is running!\");\n        System.out.println(\"hijacked : \" + joinPoint.getSignature().getName());\n        System.out.println(\"Method returned value is : \" + result);\n        System.out.println(\"******\");\n\n    }\n}\n```\n<!--more-->\n\n\n定义控制器\n```\n@RestController\npublic class LoginControlller {\n    @RequestMapping(value = \"/login\", method = RequestMethod.POST)\n    public String login (@PathVariable String post) {\n        System.out.println(\"login() is running \");\n        return \"hah\";\n    }\n```\n输出\n```\nlogBefore() is running!\nhijacked : well\n******\nget() is running \nlogAfter() is running!\nhijacked : well\n******\nlogAfterReturning() is running!\nhijacked : well\nMethod returned value is : well\n******\n```\n## spring aop 的代理模式\n```\nSpring AOP defaults to using standard JDK dynamic proxies for AOP proxies. This enables any interface (or set of interfaces) to be proxied.\n\nSpring AOP can also use CGLIB proxies. This is necessary to proxy classes rather than interfaces. CGLIB is used by default if a business object does not implement an interface. As it is good practice to program to interfaces rather than classes; business classes normally will implement one or more business interfaces. It is possible to force the use of CGLIB, in those (hopefully rare) cases where you need to advise a method that is not declared on an interface, or where you need to pass a proxied object to a method as a concrete type.\n\nIt is important to grasp the fact that Spring AOP is proxy-based. See Section 11.6.1, “Understanding AOP proxies” for a thorough examination of exactly what this implementation detail actually means.\n```\n这是官网对于spring aop代理的描述，这里可以看到\n* 静态代理：使用 AOP 框架提供的命令进行编译，从而在编译阶段就可生成 AOP 代理类，因此也称为编译时增强；静态代理以 AspectJ 为代表。\n* 动态代理：在运行时借助于 JDK 动态代理、CGLIB 等在内存中“临时”生成 AOP 动态代理类，因此也被称为运行时增强。Spring AOP 用的就是 动态代理\n\n动态代理\n* 如果目标对象实现了接口，默认会采用JDK的动态代理机制实现AOP \n* 如果目标对象实现了接口，可以强制使用CGLIB实现AOP \n* 如果目标对象没有实现接口，必须使用CGLIB生成代理，spring会自动在CGLIB和JDK动态代理之间切换 \n* JDK代理只能对实现了接口的类生成代理，而不能针对类 \n* CGLIB是针对类实现代理的，主要对指定的类生成一个子类，并覆盖其中的方法\n\n## 原理解析\nAOP 代理其实是由 AOP 框架动态生成的一个对象，该对象可作为目标对象使用。AOP 代理包含了目标对象的全部方法，但 AOP 代理中的方法与目标对象的方法存在差异：AOP 方法在特定切入点添加了增强处理，并回调了目标对象的方法。\n代理类图：\n![代理类图](springaop/proxy.png)\n\n### JDK动态代理\nsping aop的jdk动态代理主要基于JdkDynamicAopProxy实现源代码如下：\n```\nfinal class JdkDynamicAopProxy implements AopProxy, InvocationHandler, Serializable {\n\t...\n\t//创建一个代理对象\n\t@Override\n\tpublic Object getProxy(ClassLoader classLoader) {\n\t\tif (logger.isDebugEnabled()) {\n\t\t\tlogger.debug(\"Creating JDK dynamic proxy: target source is \" + this.advised.getTargetSource());\n\t\t}\n\t\tClass<?>[] proxiedInterfaces = AopProxyUtils.completeProxiedInterfaces(this.advised, true);\n\t\tfindDefinedEqualsAndHashCodeMethods(proxiedInterfaces);\n\t\treturn Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);\n\t}\n\t...\n}\n```\n从源代码中我们可以看出这个类实现了AopProxy和InvoctionHandler接口。\n```\n而这个AopProxy中只定义了两个方法。这个接口是在spring中定义的。\npublic interface AopProxy {\n\tObject getProxy();\n\tObject getProxy(ClassLoader classLoader);\n\n}\n这个InvocationHandler接口是在jdk中定义的，其中只有一个方法invoke。\n* InvocationHandler 是代理实例的调用处理程序 实现的接口\n* 包名可以看出使用到了反射\n* 每个代理实例都具有一个关联的调用处理程序。对代理实例调用方法时，将对方法调用进行编码并将其指派到它的调用处理程序的 invoke 方法。\npackage java.lang.reflect;\npublic interface InvocationHandler {\n    //在代理实例上处理方法调用并返回结果。\n    public Object invoke(Object proxy, Method method, Object[] args)\n        throws Throwable;\n}\n```\n```\n在JdkDynamicAopProxy中getProxy最后使用的方法是\nreturn Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);\n这个方法是Proxy 提供用于创建动态代理类和实例的静态方法，它还是由这些方法创建的所有动态代理类的超类。\n@CallerSensitive\npublic static Object newProxyInstance(ClassLoader loader,\n                                      Class<?>[] interfaces,\n                                      InvocationHandler h)\n    throws IllegalArgumentException {\n    ...\n}\n```\n#### JDK动态代理demo\n```\n//接口\npackage com.example.test;\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic interface Student {\n    void say();\n}\n\n//实体类\npackage com.example.test;\n\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic class StudentImpl implements Student {\n    private String name;\n\n    public StudentImpl() {\n\n    }\n\n    public StudentImpl(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public void say() {\n        System.out.println(\"my name is: \" + name);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n//代理工厂类\npackage com.example.test;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic class ProxyFactory implements InvocationHandler {\n    private Object obj;\n\n    public Object createObjectProxy(Object obj) {\n        this.obj = obj;\n        return Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(), this);\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        StudentImpl stu = (StudentImpl) obj;\n        Object object = null;\n        if(stu.getName() != null)\n            object = method.invoke(stu, args);\n        else\n            System.out.println(\"i am the proxy of student\" + \"his name is \" + stu.getName());\n        return object;\n    }\n}\n\n//展示\npackage com.example.test;\n\n/**\n * Created by xiezhanghua on 2017/3/11.\n */\npublic class Test {\n    public static void main(String args[]) {\n        Student stu = (Student) new ProxyFactory().createObjectProxy(new StudentImpl());\n        stu.say();\n        Student stu2 = (Student) new ProxyFactory().createObjectProxy(new StudentImpl(\"xiezhanghua\"));\n        stu2.say();\n    }\n}\n\n//输出\ni am the proxy of studenthis name is null\nmy name is: xiezhanghua\n\n```\n\n### CGLIB代理\nspring 使用cglib代理的类\n```\nclass CglibAopProxy implements AopProxy, Serializable {\n@Override\npublic Object getProxy(ClassLoader classLoader) {\n\t...\n\n\ttry {\n\t\t...\n\t\t// Configure CGLIB Enhancer...\n\t\tEnhancer enhancer = createEnhancer();\n\t\tif (classLoader != null) {\n\t\t\tenhancer.setClassLoader(classLoader);\n\t\t\tif (classLoader instanceof SmartClassLoader &&\n\t\t\t\t\t((SmartClassLoader) classLoader).isClassReloadable(proxySuperClass)) {\n\t\t\t\tenhancer.setUseCache(false);\n\t\t\t}\n\t\t}\n\t\t//设置父类\n\t\tenhancer.setSuperclass(proxySuperClass);\n\t\tenhancer.setInterfaces(AopProxyUtils.completeProxiedInterfaces(this.advised));\n\t\tenhancer.setNamingPolicy(SpringNamingPolicy.INSTANCE);\n\t\tenhancer.setStrategy(new ClassLoaderAwareUndeclaredThrowableStrategy(classLoader));\n\n\t\tCallback[] callbacks = getCallbacks(rootClass);\n\t\tClass<?>[] types = new Class<?>[callbacks.length];\n\t\tfor (int x = 0; x < types.length; x++) {\n\t\t\ttypes[x] = callbacks[x].getClass();\n\t\t}\n\t\t// fixedInterceptorMap only populated at this point, after getCallbacks call above\n\t\tenhancer.setCallbackFilter(new ProxyCallbackFilter(\n\t\t\t\tthis.advised.getConfigurationOnlyCopy(), this.fixedInterceptorMap, this.fixedInterceptorOffset));\n\t\tenhancer.setCallbackTypes(types);\n\n\t\t// Generate the proxy class and create a proxy instance.\n\t\treturn createProxyClassAndInstance(enhancer, callbacks);\n\t}\n\t...\n\tprotected Object createProxyClassAndInstance(Enhancer enhancer, Callback[] callbacks) {\n\t\tenhancer.setInterceptDuringConstruction(false);\n\t\t//设置回调函数\n\t\tenhancer.setCallbacks(callbacks);\n\t\treturn (this.constructorArgs != null ?\n\t\t\t\tenhancer.create(this.constructorArgTypes, this.constructorArgs) :\n\t\t\t\tenhancer.create());\n\t}\n\t...\n}\n\n}\n```\n主要注意的地方就是Enhancer类的使用.在创建的时候，我们要使用一个 Enhance 类的对象，而不再是 Proxy，需要为其实例指定一个父类，也就是我们 的目标对象。这样，我们新创建出来的对象就是目标对象的子类，有目标对象的一样。除此之外，还要指定一个回调函数，这个函数就和Proxy的 invoke()类似。\n\n总体来说，使用CGlib的方法和使用Proxy的方法差不多，只是Proxy创建出来的代理对象和目标对象都实现了同一个接口。而CGlib的方法则是直接继承了目标对象。\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=298 height=52 src=\"//music.163.com/outchain/player?type=2&id=412016547&auto=1&height=32\"></iframe>\n\n[Enhancer](https://github.com/cglib/cglib/wiki/Tutorial)\n\n## 参考链接\n[spring 官方文档](http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#aop)\n[spring aop使用](http://wiki.jikexueyuan.com/project/spring/aop-with-spring-framenwork/aspectj-based-aop-with-spring.html)\n[aop](https://www.zhihu.com/question/24863332)\n[设计模式](https://github.com/pzxwhc/MineKnowContainer/issues/85)\n[natian306的专栏](http://blog.csdn.net/natian306/article/details/16371389)\n[Enhancer](https://github.com/cglib/cglib/wiki/Tutorial)\n[链接](http://www.jasongj.com/design_pattern/dynamic_proxy_cglib/)\n","slug":"springaop","published":1,"updated":"2017-03-11T12:23:31.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ue90020ffcagp0poc6v","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>又到了紧张刺激的前言了，前一段时间整理了hashmap以及解决hash碰撞的方法，然后今天在阿里第一次面试的时候就问到了。虽然这个回答的还可以，但是我对自己还是失望的，面试问我spring和主要概念aop我知不知道。讲真的，我老早就说准备看看，而且我还看过一遍，但是就只是那么匆匆一看，没有怎么在意。果然就像考试，只有仔细认真的人才会一直取得高分。所以我今天一天都在研究spring aop。</p>\n<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>面向切面区别于面向对象，由于琐碎的逻辑需要嵌入整体的项目框架。如果是面向对象需要在相应的对象中修改代码，这样显然很麻烦，而且琐碎的逻辑耦合在了项目中。如果使用面向切面，就可以减少耦合。通过面向切面可以不用修改原有项目代码，而是在外部找到添加代码，找到需要嵌入逻辑的地方标记好，那么运行的时候就会插入相应的代码。比如我们常用的如事务管理、安全检查、缓存、对象池管理。AOP 实现的关键就在于 AOP 框架自动创建的 AOP 代理.</p>\n<h2 id=\"实践出真知\"><a href=\"#实践出真知\" class=\"headerlink\" title=\"实践出真知\"></a>实践出真知</h2><p>启用 Spring 对 @AspectJ 方面配置的支持<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">在config类中添加@EnableAspectJAutoProxy注解</div><div class=\"line\">当启动了 @AspectJ 支持后，只要我们在 Spring 容器中配置一个带 @Aspect 注释的 Bean，Spring 将会自动识别该 Bean，并将该 Bean 作为切面 Bean 处理。</div></pre></td></tr></table></figure></p>\n<p>定义切面<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Aspect</div><div class=\"line\">public class TestAspect &#123;</div><div class=\"line\">    @Before(&quot;execution(* com.example.web.LoginControlller.well(..))&quot;)</div><div class=\"line\">    public void logBefore(JoinPoint joinPoint) &#123;</div><div class=\"line\"></div><div class=\"line\">        System.out.println(&quot;logBefore() is running!&quot;);</div><div class=\"line\">        System.out.println(&quot;hijacked : &quot; + joinPoint.getSignature().getName());</div><div class=\"line\">        System.out.println(&quot;******&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @After(&quot;execution(* com.example.web.LoginControlller.well(..))&quot;)</div><div class=\"line\">    public void logAfter(JoinPoint joinPoint) &#123;</div><div class=\"line\"></div><div class=\"line\">        System.out.println(&quot;logAfter() is running!&quot;);</div><div class=\"line\">        System.out.println(&quot;hijacked : &quot; + joinPoint.getSignature().getName());</div><div class=\"line\">        System.out.println(&quot;******&quot;);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @AfterReturning(</div><div class=\"line\">            pointcut = &quot;execution(* com.example.web.LoginControlller.well(..)))&quot;,</div><div class=\"line\">            returning= &quot;result&quot;)</div><div class=\"line\">    public void logAfterReturning(JoinPoint joinPoint, Object result) &#123;</div><div class=\"line\"></div><div class=\"line\">        System.out.println(&quot;logAfterReturning() is running!&quot;);</div><div class=\"line\">        System.out.println(&quot;hijacked : &quot; + joinPoint.getSignature().getName());</div><div class=\"line\">        System.out.println(&quot;Method returned value is : &quot; + result);</div><div class=\"line\">        System.out.println(&quot;******&quot;);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<p>定义控制器<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">@RestController</div><div class=\"line\">public class LoginControlller &#123;</div><div class=\"line\">    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)</div><div class=\"line\">    public String login (@PathVariable String post) &#123;</div><div class=\"line\">        System.out.println(&quot;login() is running &quot;);</div><div class=\"line\">        return &quot;hah&quot;;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p>输出<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">logBefore() is running!</div><div class=\"line\">hijacked : well</div><div class=\"line\">******</div><div class=\"line\">get() is running </div><div class=\"line\">logAfter() is running!</div><div class=\"line\">hijacked : well</div><div class=\"line\">******</div><div class=\"line\">logAfterReturning() is running!</div><div class=\"line\">hijacked : well</div><div class=\"line\">Method returned value is : well</div><div class=\"line\">******</div></pre></td></tr></table></figure></p>\n<h2 id=\"spring-aop-的代理模式\"><a href=\"#spring-aop-的代理模式\" class=\"headerlink\" title=\"spring aop 的代理模式\"></a>spring aop 的代理模式</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">Spring AOP defaults to using standard JDK dynamic proxies for AOP proxies. This enables any interface (or set of interfaces) to be proxied.</div><div class=\"line\"></div><div class=\"line\">Spring AOP can also use CGLIB proxies. This is necessary to proxy classes rather than interfaces. CGLIB is used by default if a business object does not implement an interface. As it is good practice to program to interfaces rather than classes; business classes normally will implement one or more business interfaces. It is possible to force the use of CGLIB, in those (hopefully rare) cases where you need to advise a method that is not declared on an interface, or where you need to pass a proxied object to a method as a concrete type.</div><div class=\"line\"></div><div class=\"line\">It is important to grasp the fact that Spring AOP is proxy-based. See Section 11.6.1, “Understanding AOP proxies” for a thorough examination of exactly what this implementation detail actually means.</div></pre></td></tr></table></figure>\n<p>这是官网对于spring aop代理的描述，这里可以看到</p>\n<ul>\n<li>静态代理：使用 AOP 框架提供的命令进行编译，从而在编译阶段就可生成 AOP 代理类，因此也称为编译时增强；静态代理以 AspectJ 为代表。</li>\n<li>动态代理：在运行时借助于 JDK 动态代理、CGLIB 等在内存中“临时”生成 AOP 动态代理类，因此也被称为运行时增强。Spring AOP 用的就是 动态代理</li>\n</ul>\n<p>动态代理</p>\n<ul>\n<li>如果目标对象实现了接口，默认会采用JDK的动态代理机制实现AOP </li>\n<li>如果目标对象实现了接口，可以强制使用CGLIB实现AOP </li>\n<li>如果目标对象没有实现接口，必须使用CGLIB生成代理，spring会自动在CGLIB和JDK动态代理之间切换 </li>\n<li>JDK代理只能对实现了接口的类生成代理，而不能针对类 </li>\n<li>CGLIB是针对类实现代理的，主要对指定的类生成一个子类，并覆盖其中的方法</li>\n</ul>\n<h2 id=\"原理解析\"><a href=\"#原理解析\" class=\"headerlink\" title=\"原理解析\"></a>原理解析</h2><p>AOP 代理其实是由 AOP 框架动态生成的一个对象，该对象可作为目标对象使用。AOP 代理包含了目标对象的全部方法，但 AOP 代理中的方法与目标对象的方法存在差异：AOP 方法在特定切入点添加了增强处理，并回调了目标对象的方法。<br>代理类图：<br><img src=\"/2017/03/10/springaop/proxy.png\" alt=\"代理类图\"></p>\n<h3 id=\"JDK动态代理\"><a href=\"#JDK动态代理\" class=\"headerlink\" title=\"JDK动态代理\"></a>JDK动态代理</h3><p>sping aop的jdk动态代理主要基于JdkDynamicAopProxy实现源代码如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">final class JdkDynamicAopProxy implements AopProxy, InvocationHandler, Serializable &#123;</div><div class=\"line\">\t...</div><div class=\"line\">\t//创建一个代理对象</div><div class=\"line\">\t@Override</div><div class=\"line\">\tpublic Object getProxy(ClassLoader classLoader) &#123;</div><div class=\"line\">\t\tif (logger.isDebugEnabled()) &#123;</div><div class=\"line\">\t\t\tlogger.debug(&quot;Creating JDK dynamic proxy: target source is &quot; + this.advised.getTargetSource());</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\tClass&lt;?&gt;[] proxiedInterfaces = AopProxyUtils.completeProxiedInterfaces(this.advised, true);</div><div class=\"line\">\t\tfindDefinedEqualsAndHashCodeMethods(proxiedInterfaces);</div><div class=\"line\">\t\treturn Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>从源代码中我们可以看出这个类实现了AopProxy和InvoctionHandler接口。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">而这个AopProxy中只定义了两个方法。这个接口是在spring中定义的。</div><div class=\"line\">public interface AopProxy &#123;</div><div class=\"line\">\tObject getProxy();</div><div class=\"line\">\tObject getProxy(ClassLoader classLoader);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">这个InvocationHandler接口是在jdk中定义的，其中只有一个方法invoke。</div><div class=\"line\">* InvocationHandler 是代理实例的调用处理程序 实现的接口</div><div class=\"line\">* 包名可以看出使用到了反射</div><div class=\"line\">* 每个代理实例都具有一个关联的调用处理程序。对代理实例调用方法时，将对方法调用进行编码并将其指派到它的调用处理程序的 invoke 方法。</div><div class=\"line\">package java.lang.reflect;</div><div class=\"line\">public interface InvocationHandler &#123;</div><div class=\"line\">    //在代理实例上处理方法调用并返回结果。</div><div class=\"line\">    public Object invoke(Object proxy, Method method, Object[] args)</div><div class=\"line\">        throws Throwable;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">在JdkDynamicAopProxy中getProxy最后使用的方法是</div><div class=\"line\">return Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);</div><div class=\"line\">这个方法是Proxy 提供用于创建动态代理类和实例的静态方法，它还是由这些方法创建的所有动态代理类的超类。</div><div class=\"line\">@CallerSensitive</div><div class=\"line\">public static Object newProxyInstance(ClassLoader loader,</div><div class=\"line\">                                      Class&lt;?&gt;[] interfaces,</div><div class=\"line\">                                      InvocationHandler h)</div><div class=\"line\">    throws IllegalArgumentException &#123;</div><div class=\"line\">    ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"JDK动态代理demo\"><a href=\"#JDK动态代理demo\" class=\"headerlink\" title=\"JDK动态代理demo\"></a>JDK动态代理demo</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div></pre></td><td class=\"code\"><pre><div class=\"line\">//接口</div><div class=\"line\">package com.example.test;</div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public interface Student &#123;</div><div class=\"line\">    void say();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//实体类</div><div class=\"line\">package com.example.test;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public class StudentImpl implements Student &#123;</div><div class=\"line\">    private String name;</div><div class=\"line\"></div><div class=\"line\">    public StudentImpl() &#123;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public StudentImpl(String name) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void say() &#123;</div><div class=\"line\">        System.out.println(&quot;my name is: &quot; + name);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getName() &#123;</div><div class=\"line\">        return name;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setName(String name) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//代理工厂类</div><div class=\"line\">package com.example.test;</div><div class=\"line\"></div><div class=\"line\">import java.lang.reflect.InvocationHandler;</div><div class=\"line\">import java.lang.reflect.Method;</div><div class=\"line\">import java.lang.reflect.Proxy;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public class ProxyFactory implements InvocationHandler &#123;</div><div class=\"line\">    private Object obj;</div><div class=\"line\"></div><div class=\"line\">    public Object createObjectProxy(Object obj) &#123;</div><div class=\"line\">        this.obj = obj;</div><div class=\"line\">        return Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(), this);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</div><div class=\"line\">        StudentImpl stu = (StudentImpl) obj;</div><div class=\"line\">        Object object = null;</div><div class=\"line\">        if(stu.getName() != null)</div><div class=\"line\">            object = method.invoke(stu, args);</div><div class=\"line\">        else</div><div class=\"line\">            System.out.println(&quot;i am the proxy of student&quot; + &quot;his name is &quot; + stu.getName());</div><div class=\"line\">        return object;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//展示</div><div class=\"line\">package com.example.test;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public class Test &#123;</div><div class=\"line\">    public static void main(String args[]) &#123;</div><div class=\"line\">        Student stu = (Student) new ProxyFactory().createObjectProxy(new StudentImpl());</div><div class=\"line\">        stu.say();</div><div class=\"line\">        Student stu2 = (Student) new ProxyFactory().createObjectProxy(new StudentImpl(&quot;xiezhanghua&quot;));</div><div class=\"line\">        stu2.say();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//输出</div><div class=\"line\">i am the proxy of studenthis name is null</div><div class=\"line\">my name is: xiezhanghua</div></pre></td></tr></table></figure>\n<h3 id=\"CGLIB代理\"><a href=\"#CGLIB代理\" class=\"headerlink\" title=\"CGLIB代理\"></a>CGLIB代理</h3><p>spring 使用cglib代理的类<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div></pre></td><td class=\"code\"><pre><div class=\"line\">class CglibAopProxy implements AopProxy, Serializable &#123;</div><div class=\"line\">@Override</div><div class=\"line\">public Object getProxy(ClassLoader classLoader) &#123;</div><div class=\"line\">\t...</div><div class=\"line\"></div><div class=\"line\">\ttry &#123;</div><div class=\"line\">\t\t...</div><div class=\"line\">\t\t// Configure CGLIB Enhancer...</div><div class=\"line\">\t\tEnhancer enhancer = createEnhancer();</div><div class=\"line\">\t\tif (classLoader != null) &#123;</div><div class=\"line\">\t\t\tenhancer.setClassLoader(classLoader);</div><div class=\"line\">\t\t\tif (classLoader instanceof SmartClassLoader &amp;&amp;</div><div class=\"line\">\t\t\t\t\t((SmartClassLoader) classLoader).isClassReloadable(proxySuperClass)) &#123;</div><div class=\"line\">\t\t\t\tenhancer.setUseCache(false);</div><div class=\"line\">\t\t\t&#125;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t//设置父类</div><div class=\"line\">\t\tenhancer.setSuperclass(proxySuperClass);</div><div class=\"line\">\t\tenhancer.setInterfaces(AopProxyUtils.completeProxiedInterfaces(this.advised));</div><div class=\"line\">\t\tenhancer.setNamingPolicy(SpringNamingPolicy.INSTANCE);</div><div class=\"line\">\t\tenhancer.setStrategy(new ClassLoaderAwareUndeclaredThrowableStrategy(classLoader));</div><div class=\"line\"></div><div class=\"line\">\t\tCallback[] callbacks = getCallbacks(rootClass);</div><div class=\"line\">\t\tClass&lt;?&gt;[] types = new Class&lt;?&gt;[callbacks.length];</div><div class=\"line\">\t\tfor (int x = 0; x &lt; types.length; x++) &#123;</div><div class=\"line\">\t\t\ttypes[x] = callbacks[x].getClass();</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t// fixedInterceptorMap only populated at this point, after getCallbacks call above</div><div class=\"line\">\t\tenhancer.setCallbackFilter(new ProxyCallbackFilter(</div><div class=\"line\">\t\t\t\tthis.advised.getConfigurationOnlyCopy(), this.fixedInterceptorMap, this.fixedInterceptorOffset));</div><div class=\"line\">\t\tenhancer.setCallbackTypes(types);</div><div class=\"line\"></div><div class=\"line\">\t\t// Generate the proxy class and create a proxy instance.</div><div class=\"line\">\t\treturn createProxyClassAndInstance(enhancer, callbacks);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t...</div><div class=\"line\">\tprotected Object createProxyClassAndInstance(Enhancer enhancer, Callback[] callbacks) &#123;</div><div class=\"line\">\t\tenhancer.setInterceptDuringConstruction(false);</div><div class=\"line\">\t\t//设置回调函数</div><div class=\"line\">\t\tenhancer.setCallbacks(callbacks);</div><div class=\"line\">\t\treturn (this.constructorArgs != null ?</div><div class=\"line\">\t\t\t\tenhancer.create(this.constructorArgTypes, this.constructorArgs) :</div><div class=\"line\">\t\t\t\tenhancer.create());</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t...</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>主要注意的地方就是Enhancer类的使用.在创建的时候，我们要使用一个 Enhance 类的对象，而不再是 Proxy，需要为其实例指定一个父类，也就是我们 的目标对象。这样，我们新创建出来的对象就是目标对象的子类，有目标对象的一样。除此之外，还要指定一个回调函数，这个函数就和Proxy的 invoke()类似。</p>\n<p>总体来说，使用CGlib的方法和使用Proxy的方法差不多，只是Proxy创建出来的代理对象和目标对象都实现了同一个接口。而CGlib的方法则是直接继承了目标对象。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"298\" height=\"52\" src=\"//music.163.com/outchain/player?type=2&id=412016547&auto=1&height=32\"></iframe>\n\n<p><a href=\"https://github.com/cglib/cglib/wiki/Tutorial\" target=\"_blank\" rel=\"external\">Enhancer</a></p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#aop\" target=\"_blank\" rel=\"external\">spring 官方文档</a><br><a href=\"http://wiki.jikexueyuan.com/project/spring/aop-with-spring-framenwork/aspectj-based-aop-with-spring.html\" target=\"_blank\" rel=\"external\">spring aop使用</a><br><a href=\"https://www.zhihu.com/question/24863332\" target=\"_blank\" rel=\"external\">aop</a><br><a href=\"https://github.com/pzxwhc/MineKnowContainer/issues/85\" target=\"_blank\" rel=\"external\">设计模式</a><br><a href=\"http://blog.csdn.net/natian306/article/details/16371389\" target=\"_blank\" rel=\"external\">natian306的专栏</a><br><a href=\"https://github.com/cglib/cglib/wiki/Tutorial\" target=\"_blank\" rel=\"external\">Enhancer</a><br><a href=\"http://www.jasongj.com/design_pattern/dynamic_proxy_cglib/\" target=\"_blank\" rel=\"external\">链接</a></p>\n","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>又到了紧张刺激的前言了，前一段时间整理了hashmap以及解决hash碰撞的方法，然后今天在阿里第一次面试的时候就问到了。虽然这个回答的还可以，但是我对自己还是失望的，面试问我spring和主要概念aop我知不知道。讲真的，我老早就说准备看看，而且我还看过一遍，但是就只是那么匆匆一看，没有怎么在意。果然就像考试，只有仔细认真的人才会一直取得高分。所以我今天一天都在研究spring aop。</p>\n<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>面向切面区别于面向对象，由于琐碎的逻辑需要嵌入整体的项目框架。如果是面向对象需要在相应的对象中修改代码，这样显然很麻烦，而且琐碎的逻辑耦合在了项目中。如果使用面向切面，就可以减少耦合。通过面向切面可以不用修改原有项目代码，而是在外部找到添加代码，找到需要嵌入逻辑的地方标记好，那么运行的时候就会插入相应的代码。比如我们常用的如事务管理、安全检查、缓存、对象池管理。AOP 实现的关键就在于 AOP 框架自动创建的 AOP 代理.</p>\n<h2 id=\"实践出真知\"><a href=\"#实践出真知\" class=\"headerlink\" title=\"实践出真知\"></a>实践出真知</h2><p>启用 Spring 对 @AspectJ 方面配置的支持<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">在config类中添加@EnableAspectJAutoProxy注解</div><div class=\"line\">当启动了 @AspectJ 支持后，只要我们在 Spring 容器中配置一个带 @Aspect 注释的 Bean，Spring 将会自动识别该 Bean，并将该 Bean 作为切面 Bean 处理。</div></pre></td></tr></table></figure></p>\n<p>定义切面<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Aspect</div><div class=\"line\">public class TestAspect &#123;</div><div class=\"line\">    @Before(&quot;execution(* com.example.web.LoginControlller.well(..))&quot;)</div><div class=\"line\">    public void logBefore(JoinPoint joinPoint) &#123;</div><div class=\"line\"></div><div class=\"line\">        System.out.println(&quot;logBefore() is running!&quot;);</div><div class=\"line\">        System.out.println(&quot;hijacked : &quot; + joinPoint.getSignature().getName());</div><div class=\"line\">        System.out.println(&quot;******&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @After(&quot;execution(* com.example.web.LoginControlller.well(..))&quot;)</div><div class=\"line\">    public void logAfter(JoinPoint joinPoint) &#123;</div><div class=\"line\"></div><div class=\"line\">        System.out.println(&quot;logAfter() is running!&quot;);</div><div class=\"line\">        System.out.println(&quot;hijacked : &quot; + joinPoint.getSignature().getName());</div><div class=\"line\">        System.out.println(&quot;******&quot;);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @AfterReturning(</div><div class=\"line\">            pointcut = &quot;execution(* com.example.web.LoginControlller.well(..)))&quot;,</div><div class=\"line\">            returning= &quot;result&quot;)</div><div class=\"line\">    public void logAfterReturning(JoinPoint joinPoint, Object result) &#123;</div><div class=\"line\"></div><div class=\"line\">        System.out.println(&quot;logAfterReturning() is running!&quot;);</div><div class=\"line\">        System.out.println(&quot;hijacked : &quot; + joinPoint.getSignature().getName());</div><div class=\"line\">        System.out.println(&quot;Method returned value is : &quot; + result);</div><div class=\"line\">        System.out.println(&quot;******&quot;);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>","more":"<p>定义控制器<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">@RestController</div><div class=\"line\">public class LoginControlller &#123;</div><div class=\"line\">    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)</div><div class=\"line\">    public String login (@PathVariable String post) &#123;</div><div class=\"line\">        System.out.println(&quot;login() is running &quot;);</div><div class=\"line\">        return &quot;hah&quot;;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p>输出<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">logBefore() is running!</div><div class=\"line\">hijacked : well</div><div class=\"line\">******</div><div class=\"line\">get() is running </div><div class=\"line\">logAfter() is running!</div><div class=\"line\">hijacked : well</div><div class=\"line\">******</div><div class=\"line\">logAfterReturning() is running!</div><div class=\"line\">hijacked : well</div><div class=\"line\">Method returned value is : well</div><div class=\"line\">******</div></pre></td></tr></table></figure></p>\n<h2 id=\"spring-aop-的代理模式\"><a href=\"#spring-aop-的代理模式\" class=\"headerlink\" title=\"spring aop 的代理模式\"></a>spring aop 的代理模式</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">Spring AOP defaults to using standard JDK dynamic proxies for AOP proxies. This enables any interface (or set of interfaces) to be proxied.</div><div class=\"line\"></div><div class=\"line\">Spring AOP can also use CGLIB proxies. This is necessary to proxy classes rather than interfaces. CGLIB is used by default if a business object does not implement an interface. As it is good practice to program to interfaces rather than classes; business classes normally will implement one or more business interfaces. It is possible to force the use of CGLIB, in those (hopefully rare) cases where you need to advise a method that is not declared on an interface, or where you need to pass a proxied object to a method as a concrete type.</div><div class=\"line\"></div><div class=\"line\">It is important to grasp the fact that Spring AOP is proxy-based. See Section 11.6.1, “Understanding AOP proxies” for a thorough examination of exactly what this implementation detail actually means.</div></pre></td></tr></table></figure>\n<p>这是官网对于spring aop代理的描述，这里可以看到</p>\n<ul>\n<li>静态代理：使用 AOP 框架提供的命令进行编译，从而在编译阶段就可生成 AOP 代理类，因此也称为编译时增强；静态代理以 AspectJ 为代表。</li>\n<li>动态代理：在运行时借助于 JDK 动态代理、CGLIB 等在内存中“临时”生成 AOP 动态代理类，因此也被称为运行时增强。Spring AOP 用的就是 动态代理</li>\n</ul>\n<p>动态代理</p>\n<ul>\n<li>如果目标对象实现了接口，默认会采用JDK的动态代理机制实现AOP </li>\n<li>如果目标对象实现了接口，可以强制使用CGLIB实现AOP </li>\n<li>如果目标对象没有实现接口，必须使用CGLIB生成代理，spring会自动在CGLIB和JDK动态代理之间切换 </li>\n<li>JDK代理只能对实现了接口的类生成代理，而不能针对类 </li>\n<li>CGLIB是针对类实现代理的，主要对指定的类生成一个子类，并覆盖其中的方法</li>\n</ul>\n<h2 id=\"原理解析\"><a href=\"#原理解析\" class=\"headerlink\" title=\"原理解析\"></a>原理解析</h2><p>AOP 代理其实是由 AOP 框架动态生成的一个对象，该对象可作为目标对象使用。AOP 代理包含了目标对象的全部方法，但 AOP 代理中的方法与目标对象的方法存在差异：AOP 方法在特定切入点添加了增强处理，并回调了目标对象的方法。<br>代理类图：<br><img src=\"/2017/03/10/springaop/proxy.png\" alt=\"代理类图\"></p>\n<h3 id=\"JDK动态代理\"><a href=\"#JDK动态代理\" class=\"headerlink\" title=\"JDK动态代理\"></a>JDK动态代理</h3><p>sping aop的jdk动态代理主要基于JdkDynamicAopProxy实现源代码如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">final class JdkDynamicAopProxy implements AopProxy, InvocationHandler, Serializable &#123;</div><div class=\"line\">\t...</div><div class=\"line\">\t//创建一个代理对象</div><div class=\"line\">\t@Override</div><div class=\"line\">\tpublic Object getProxy(ClassLoader classLoader) &#123;</div><div class=\"line\">\t\tif (logger.isDebugEnabled()) &#123;</div><div class=\"line\">\t\t\tlogger.debug(&quot;Creating JDK dynamic proxy: target source is &quot; + this.advised.getTargetSource());</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\tClass&lt;?&gt;[] proxiedInterfaces = AopProxyUtils.completeProxiedInterfaces(this.advised, true);</div><div class=\"line\">\t\tfindDefinedEqualsAndHashCodeMethods(proxiedInterfaces);</div><div class=\"line\">\t\treturn Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>从源代码中我们可以看出这个类实现了AopProxy和InvoctionHandler接口。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">而这个AopProxy中只定义了两个方法。这个接口是在spring中定义的。</div><div class=\"line\">public interface AopProxy &#123;</div><div class=\"line\">\tObject getProxy();</div><div class=\"line\">\tObject getProxy(ClassLoader classLoader);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">这个InvocationHandler接口是在jdk中定义的，其中只有一个方法invoke。</div><div class=\"line\">* InvocationHandler 是代理实例的调用处理程序 实现的接口</div><div class=\"line\">* 包名可以看出使用到了反射</div><div class=\"line\">* 每个代理实例都具有一个关联的调用处理程序。对代理实例调用方法时，将对方法调用进行编码并将其指派到它的调用处理程序的 invoke 方法。</div><div class=\"line\">package java.lang.reflect;</div><div class=\"line\">public interface InvocationHandler &#123;</div><div class=\"line\">    //在代理实例上处理方法调用并返回结果。</div><div class=\"line\">    public Object invoke(Object proxy, Method method, Object[] args)</div><div class=\"line\">        throws Throwable;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">在JdkDynamicAopProxy中getProxy最后使用的方法是</div><div class=\"line\">return Proxy.newProxyInstance(classLoader, proxiedInterfaces, this);</div><div class=\"line\">这个方法是Proxy 提供用于创建动态代理类和实例的静态方法，它还是由这些方法创建的所有动态代理类的超类。</div><div class=\"line\">@CallerSensitive</div><div class=\"line\">public static Object newProxyInstance(ClassLoader loader,</div><div class=\"line\">                                      Class&lt;?&gt;[] interfaces,</div><div class=\"line\">                                      InvocationHandler h)</div><div class=\"line\">    throws IllegalArgumentException &#123;</div><div class=\"line\">    ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"JDK动态代理demo\"><a href=\"#JDK动态代理demo\" class=\"headerlink\" title=\"JDK动态代理demo\"></a>JDK动态代理demo</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div></pre></td><td class=\"code\"><pre><div class=\"line\">//接口</div><div class=\"line\">package com.example.test;</div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public interface Student &#123;</div><div class=\"line\">    void say();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//实体类</div><div class=\"line\">package com.example.test;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public class StudentImpl implements Student &#123;</div><div class=\"line\">    private String name;</div><div class=\"line\"></div><div class=\"line\">    public StudentImpl() &#123;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public StudentImpl(String name) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void say() &#123;</div><div class=\"line\">        System.out.println(&quot;my name is: &quot; + name);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getName() &#123;</div><div class=\"line\">        return name;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setName(String name) &#123;</div><div class=\"line\">        this.name = name;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//代理工厂类</div><div class=\"line\">package com.example.test;</div><div class=\"line\"></div><div class=\"line\">import java.lang.reflect.InvocationHandler;</div><div class=\"line\">import java.lang.reflect.Method;</div><div class=\"line\">import java.lang.reflect.Proxy;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public class ProxyFactory implements InvocationHandler &#123;</div><div class=\"line\">    private Object obj;</div><div class=\"line\"></div><div class=\"line\">    public Object createObjectProxy(Object obj) &#123;</div><div class=\"line\">        this.obj = obj;</div><div class=\"line\">        return Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(), this);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</div><div class=\"line\">        StudentImpl stu = (StudentImpl) obj;</div><div class=\"line\">        Object object = null;</div><div class=\"line\">        if(stu.getName() != null)</div><div class=\"line\">            object = method.invoke(stu, args);</div><div class=\"line\">        else</div><div class=\"line\">            System.out.println(&quot;i am the proxy of student&quot; + &quot;his name is &quot; + stu.getName());</div><div class=\"line\">        return object;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//展示</div><div class=\"line\">package com.example.test;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * Created by xiezhanghua on 2017/3/11.</div><div class=\"line\"> */</div><div class=\"line\">public class Test &#123;</div><div class=\"line\">    public static void main(String args[]) &#123;</div><div class=\"line\">        Student stu = (Student) new ProxyFactory().createObjectProxy(new StudentImpl());</div><div class=\"line\">        stu.say();</div><div class=\"line\">        Student stu2 = (Student) new ProxyFactory().createObjectProxy(new StudentImpl(&quot;xiezhanghua&quot;));</div><div class=\"line\">        stu2.say();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//输出</div><div class=\"line\">i am the proxy of studenthis name is null</div><div class=\"line\">my name is: xiezhanghua</div></pre></td></tr></table></figure>\n<h3 id=\"CGLIB代理\"><a href=\"#CGLIB代理\" class=\"headerlink\" title=\"CGLIB代理\"></a>CGLIB代理</h3><p>spring 使用cglib代理的类<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div></pre></td><td class=\"code\"><pre><div class=\"line\">class CglibAopProxy implements AopProxy, Serializable &#123;</div><div class=\"line\">@Override</div><div class=\"line\">public Object getProxy(ClassLoader classLoader) &#123;</div><div class=\"line\">\t...</div><div class=\"line\"></div><div class=\"line\">\ttry &#123;</div><div class=\"line\">\t\t...</div><div class=\"line\">\t\t// Configure CGLIB Enhancer...</div><div class=\"line\">\t\tEnhancer enhancer = createEnhancer();</div><div class=\"line\">\t\tif (classLoader != null) &#123;</div><div class=\"line\">\t\t\tenhancer.setClassLoader(classLoader);</div><div class=\"line\">\t\t\tif (classLoader instanceof SmartClassLoader &amp;&amp;</div><div class=\"line\">\t\t\t\t\t((SmartClassLoader) classLoader).isClassReloadable(proxySuperClass)) &#123;</div><div class=\"line\">\t\t\t\tenhancer.setUseCache(false);</div><div class=\"line\">\t\t\t&#125;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t//设置父类</div><div class=\"line\">\t\tenhancer.setSuperclass(proxySuperClass);</div><div class=\"line\">\t\tenhancer.setInterfaces(AopProxyUtils.completeProxiedInterfaces(this.advised));</div><div class=\"line\">\t\tenhancer.setNamingPolicy(SpringNamingPolicy.INSTANCE);</div><div class=\"line\">\t\tenhancer.setStrategy(new ClassLoaderAwareUndeclaredThrowableStrategy(classLoader));</div><div class=\"line\"></div><div class=\"line\">\t\tCallback[] callbacks = getCallbacks(rootClass);</div><div class=\"line\">\t\tClass&lt;?&gt;[] types = new Class&lt;?&gt;[callbacks.length];</div><div class=\"line\">\t\tfor (int x = 0; x &lt; types.length; x++) &#123;</div><div class=\"line\">\t\t\ttypes[x] = callbacks[x].getClass();</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t// fixedInterceptorMap only populated at this point, after getCallbacks call above</div><div class=\"line\">\t\tenhancer.setCallbackFilter(new ProxyCallbackFilter(</div><div class=\"line\">\t\t\t\tthis.advised.getConfigurationOnlyCopy(), this.fixedInterceptorMap, this.fixedInterceptorOffset));</div><div class=\"line\">\t\tenhancer.setCallbackTypes(types);</div><div class=\"line\"></div><div class=\"line\">\t\t// Generate the proxy class and create a proxy instance.</div><div class=\"line\">\t\treturn createProxyClassAndInstance(enhancer, callbacks);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t...</div><div class=\"line\">\tprotected Object createProxyClassAndInstance(Enhancer enhancer, Callback[] callbacks) &#123;</div><div class=\"line\">\t\tenhancer.setInterceptDuringConstruction(false);</div><div class=\"line\">\t\t//设置回调函数</div><div class=\"line\">\t\tenhancer.setCallbacks(callbacks);</div><div class=\"line\">\t\treturn (this.constructorArgs != null ?</div><div class=\"line\">\t\t\t\tenhancer.create(this.constructorArgTypes, this.constructorArgs) :</div><div class=\"line\">\t\t\t\tenhancer.create());</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t...</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>主要注意的地方就是Enhancer类的使用.在创建的时候，我们要使用一个 Enhance 类的对象，而不再是 Proxy，需要为其实例指定一个父类，也就是我们 的目标对象。这样，我们新创建出来的对象就是目标对象的子类，有目标对象的一样。除此之外，还要指定一个回调函数，这个函数就和Proxy的 invoke()类似。</p>\n<p>总体来说，使用CGlib的方法和使用Proxy的方法差不多，只是Proxy创建出来的代理对象和目标对象都实现了同一个接口。而CGlib的方法则是直接继承了目标对象。</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"298\" height=\"52\" src=\"//music.163.com/outchain/player?type=2&id=412016547&auto=1&height=32\"></iframe>\n\n<p><a href=\"https://github.com/cglib/cglib/wiki/Tutorial\">Enhancer</a></p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#aop\">spring 官方文档</a><br><a href=\"http://wiki.jikexueyuan.com/project/spring/aop-with-spring-framenwork/aspectj-based-aop-with-spring.html\">spring aop使用</a><br><a href=\"https://www.zhihu.com/question/24863332\">aop</a><br><a href=\"https://github.com/pzxwhc/MineKnowContainer/issues/85\">设计模式</a><br><a href=\"http://blog.csdn.net/natian306/article/details/16371389\">natian306的专栏</a><br><a href=\"https://github.com/cglib/cglib/wiki/Tutorial\">Enhancer</a><br><a href=\"http://www.jasongj.com/design_pattern/dynamic_proxy_cglib/\">链接</a></p>"},{"title":"泰国游记序言","date":"2017-02-04T15:44:55.000Z","_content":"这是一次真正意义上的说走就走的旅行，当我看到我同门师弟（其实也不算师弟，我们同届，只是他晚来几天^-^）在买飞机票的时候我就好奇的问了句“去哪里玩吗？”同时回了句“我也去可以？”。就这样的两个问句开始我2017年的第一次旅游，同时也是我的第一次出国游，同时也完成了我许许多多的第一次。\n最最重要的使这是我第一次写游记，本来没这种兴趣的，但是不知道怎么就在手机上写了一些简单的记录，回来了也就想着干脆写游记吧。毕竟这一路上自己也遇到了一些坑，就当给别人一些参考也好，而且一边写着一边回忆起旅游的乐事，真的很有意思，有的时候都会笑出来声来。\n\n首先简单介绍一下一起出行的6个人。\n\n<!-- more -->\n\n![一起出游的朋友们](thailand00/friends.jpeg)\n\n从前往后介绍：\n一排左一是我们的财政大臣，所有公费都放在这个boy手上，办事沉稳\n一排右一是我们的欢乐使者，气氛莫名尴尬的时候只需要他发声立马暖场\n二排左一和右一是太阳伞CP，只要有太阳自动组合\n三排左一和右一是绯闻CP，学校到泰国到学校都是绯闻CP\n那么问题来了，那个才是真的我\n\n再简单介绍一下我们的行程：\n旅游方式：自助游+两个一日团\n行程：为期8天，\n旅游城市：清迈，普吉和曼谷\n住宿：名宿和酒店\n出行方式：飞机，出租，包车，船和嘟嘟车（凸凸车）\n电话：happy卡\n花费：旅游+购物 7000+RMB","source":"_posts/thailand00.md","raw":"---\ntitle: 泰国游记序言\ncategories: travel                    #文章文类\ndate: 2017-02-4 23:44:55\ntags: [小章鱼, travel, thailand, 随笔]\n---\n这是一次真正意义上的说走就走的旅行，当我看到我同门师弟（其实也不算师弟，我们同届，只是他晚来几天^-^）在买飞机票的时候我就好奇的问了句“去哪里玩吗？”同时回了句“我也去可以？”。就这样的两个问句开始我2017年的第一次旅游，同时也是我的第一次出国游，同时也完成了我许许多多的第一次。\n最最重要的使这是我第一次写游记，本来没这种兴趣的，但是不知道怎么就在手机上写了一些简单的记录，回来了也就想着干脆写游记吧。毕竟这一路上自己也遇到了一些坑，就当给别人一些参考也好，而且一边写着一边回忆起旅游的乐事，真的很有意思，有的时候都会笑出来声来。\n\n首先简单介绍一下一起出行的6个人。\n\n<!-- more -->\n\n![一起出游的朋友们](thailand00/friends.jpeg)\n\n从前往后介绍：\n一排左一是我们的财政大臣，所有公费都放在这个boy手上，办事沉稳\n一排右一是我们的欢乐使者，气氛莫名尴尬的时候只需要他发声立马暖场\n二排左一和右一是太阳伞CP，只要有太阳自动组合\n三排左一和右一是绯闻CP，学校到泰国到学校都是绯闻CP\n那么问题来了，那个才是真的我\n\n再简单介绍一下我们的行程：\n旅游方式：自助游+两个一日团\n行程：为期8天，\n旅游城市：清迈，普吉和曼谷\n住宿：名宿和酒店\n出行方式：飞机，出租，包车，船和嘟嘟车（凸凸车）\n电话：happy卡\n花费：旅游+购物 7000+RMB","slug":"thailand00","published":1,"updated":"2017-03-02T11:48:29.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ueb0022ffcas2twed3o","content":"<p>这是一次真正意义上的说走就走的旅行，当我看到我同门师弟（其实也不算师弟，我们同届，只是他晚来几天^-^）在买飞机票的时候我就好奇的问了句“去哪里玩吗？”同时回了句“我也去可以？”。就这样的两个问句开始我2017年的第一次旅游，同时也是我的第一次出国游，同时也完成了我许许多多的第一次。<br>最最重要的使这是我第一次写游记，本来没这种兴趣的，但是不知道怎么就在手机上写了一些简单的记录，回来了也就想着干脆写游记吧。毕竟这一路上自己也遇到了一些坑，就当给别人一些参考也好，而且一边写着一边回忆起旅游的乐事，真的很有意思，有的时候都会笑出来声来。</p>\n<p>首先简单介绍一下一起出行的6个人。</p>\n<a id=\"more\"></a>\n<p><img src=\"/2017/02/04/thailand00/friends.jpeg\" alt=\"一起出游的朋友们\"></p>\n<p>从前往后介绍：<br>一排左一是我们的财政大臣，所有公费都放在这个boy手上，办事沉稳<br>一排右一是我们的欢乐使者，气氛莫名尴尬的时候只需要他发声立马暖场<br>二排左一和右一是太阳伞CP，只要有太阳自动组合<br>三排左一和右一是绯闻CP，学校到泰国到学校都是绯闻CP<br>那么问题来了，那个才是真的我</p>\n<p>再简单介绍一下我们的行程：<br>旅游方式：自助游+两个一日团<br>行程：为期8天，<br>旅游城市：清迈，普吉和曼谷<br>住宿：名宿和酒店<br>出行方式：飞机，出租，包车，船和嘟嘟车（凸凸车）<br>电话：happy卡<br>花费：旅游+购物 7000+RMB</p>\n","excerpt":"<p>这是一次真正意义上的说走就走的旅行，当我看到我同门师弟（其实也不算师弟，我们同届，只是他晚来几天^-^）在买飞机票的时候我就好奇的问了句“去哪里玩吗？”同时回了句“我也去可以？”。就这样的两个问句开始我2017年的第一次旅游，同时也是我的第一次出国游，同时也完成了我许许多多的第一次。<br>最最重要的使这是我第一次写游记，本来没这种兴趣的，但是不知道怎么就在手机上写了一些简单的记录，回来了也就想着干脆写游记吧。毕竟这一路上自己也遇到了一些坑，就当给别人一些参考也好，而且一边写着一边回忆起旅游的乐事，真的很有意思，有的时候都会笑出来声来。</p>\n<p>首先简单介绍一下一起出行的6个人。</p>","more":"<p><img src=\"/2017/02/04/thailand00/friends.jpeg\" alt=\"一起出游的朋友们\"></p>\n<p>从前往后介绍：<br>一排左一是我们的财政大臣，所有公费都放在这个boy手上，办事沉稳<br>一排右一是我们的欢乐使者，气氛莫名尴尬的时候只需要他发声立马暖场<br>二排左一和右一是太阳伞CP，只要有太阳自动组合<br>三排左一和右一是绯闻CP，学校到泰国到学校都是绯闻CP<br>那么问题来了，那个才是真的我</p>\n<p>再简单介绍一下我们的行程：<br>旅游方式：自助游+两个一日团<br>行程：为期8天，<br>旅游城市：清迈，普吉和曼谷<br>住宿：名宿和酒店<br>出行方式：飞机，出租，包车，船和嘟嘟车（凸凸车）<br>电话：happy卡<br>花费：旅游+购物 7000+RMB</p>"},{"title":"泰国游记 第一天1.16 by yuan同学 and zhou同学","date":"2017-03-02T11:37:41.000Z","_content":"### zhou同学版\n![说走就走的Thailand](taiday1/tai1.jpeg)\n\n<!--more-->\n\n![凹造型很愉快](taiday1/tai2.jpeg)\n![不容错过的考山路](taiday1/tai3.jpeg)\n\n### yuan同学版 第一天1.16\n出发时间：凌晨3：00（携程接机），40分钟抵达上海浦东国际机场，办理托运和登机牌时遇到泰国来华留学生，在候机的地方给我们推荐当地特色和美食，并且帮助我们修改行程计划。(真的超级幸运，整个旅行给我们提供了很多帮助)\n6：50飞机起飞，十点半到达廊曼机场；注意在机场填写出入境卡，好好保存出境卡（回国时需要）\n更换电话卡，一行六人分开打的士前往预定的民宿，之前看攻略说一定要by meter！,然而完全没有什么用，曼谷的出租车司机有的是办法让你的出租车费用飞起来！比如走高速，绕路…...\n\n### 机场------民宿\nTaxi1 210TB 高速费+出租费+小费\nTaxi2 100TB 出租费105-没有零钱省下的5TB\n还好还好~~\n\n### 民宿------大皇宫\nTaxi1 250TB  出租费\nTaxi2 380TB 高速费+出租费\nWhat!?\n\n\n### 大皇宫-------民宿\nTaxi1 330TB  出租费（司机不认识路，饶路，已经偏贵\nTaxi2 510TB 高速费+出租费+…\n（小剧场：\n我们：可以不走高速吗？走下面\n司机：不行！不走高速到不了！\n我们：……)\nWhaaaaaat!? \n只想说算你们狠!!!!\n午餐当地、meji牛奶\n下午原定行程是大皇宫。但不让进了，遗憾。外面看起来就很壮观！\n改成卧佛寺、拍照（国王丧期，国民祭祀）\n晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西\n## 教训：\n坑货司机，400RMB\n\n### 关键词：\ntaxi、便宜、彩色（国王颜色，待查证） 、舞蹈\n\n### 餐饮\n中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊\n很多材料都没怎么处理，总共510B\n下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）\n晚上吃的：榴莲180B（第一次吃，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B\n\n### 建议：\n1.酒吧要选人多的，有欧洲人莫名就起舞了，很多人都会上去跳舞。泰国的酒普遍比国内贵一些。\n2.榴莲要选软的，颜色偏淡，饱满的，并不便宜\n3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）\n4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。泰国人十分守时，一般只会提前到，所以有拖延症的小伙伴要提前准备。\n5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车\n6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾 \n7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。\n8.大皇宫那边有专门的志愿者帮助你找路和提供线路建议。不要听信路边收费的旅行指导。\n\n### 故事\n1.老夫妻的舞蹈\n2.护照丢失奇案，主人公（汪小明）\n\n\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=18498011&auto=1&height=66\"></iframe>","source":"_posts/taiday1.md","raw":"---\ntitle: 泰国游记 第一天1.16 by yuan同学 and zhou同学\ndate: 2017-03-02 19:37:41\ncategories: travel                    #文章文类\ntags: [travel, thailand, 随笔]\n---\n### zhou同学版\n![说走就走的Thailand](taiday1/tai1.jpeg)\n\n<!--more-->\n\n![凹造型很愉快](taiday1/tai2.jpeg)\n![不容错过的考山路](taiday1/tai3.jpeg)\n\n### yuan同学版 第一天1.16\n出发时间：凌晨3：00（携程接机），40分钟抵达上海浦东国际机场，办理托运和登机牌时遇到泰国来华留学生，在候机的地方给我们推荐当地特色和美食，并且帮助我们修改行程计划。(真的超级幸运，整个旅行给我们提供了很多帮助)\n6：50飞机起飞，十点半到达廊曼机场；注意在机场填写出入境卡，好好保存出境卡（回国时需要）\n更换电话卡，一行六人分开打的士前往预定的民宿，之前看攻略说一定要by meter！,然而完全没有什么用，曼谷的出租车司机有的是办法让你的出租车费用飞起来！比如走高速，绕路…...\n\n### 机场------民宿\nTaxi1 210TB 高速费+出租费+小费\nTaxi2 100TB 出租费105-没有零钱省下的5TB\n还好还好~~\n\n### 民宿------大皇宫\nTaxi1 250TB  出租费\nTaxi2 380TB 高速费+出租费\nWhat!?\n\n\n### 大皇宫-------民宿\nTaxi1 330TB  出租费（司机不认识路，饶路，已经偏贵\nTaxi2 510TB 高速费+出租费+…\n（小剧场：\n我们：可以不走高速吗？走下面\n司机：不行！不走高速到不了！\n我们：……)\nWhaaaaaat!? \n只想说算你们狠!!!!\n午餐当地、meji牛奶\n下午原定行程是大皇宫。但不让进了，遗憾。外面看起来就很壮观！\n改成卧佛寺、拍照（国王丧期，国民祭祀）\n晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西\n## 教训：\n坑货司机，400RMB\n\n### 关键词：\ntaxi、便宜、彩色（国王颜色，待查证） 、舞蹈\n\n### 餐饮\n中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊\n很多材料都没怎么处理，总共510B\n下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）\n晚上吃的：榴莲180B（第一次吃，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B\n\n### 建议：\n1.酒吧要选人多的，有欧洲人莫名就起舞了，很多人都会上去跳舞。泰国的酒普遍比国内贵一些。\n2.榴莲要选软的，颜色偏淡，饱满的，并不便宜\n3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）\n4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。泰国人十分守时，一般只会提前到，所以有拖延症的小伙伴要提前准备。\n5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车\n6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾 \n7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。\n8.大皇宫那边有专门的志愿者帮助你找路和提供线路建议。不要听信路边收费的旅行指导。\n\n### 故事\n1.老夫妻的舞蹈\n2.护照丢失奇案，主人公（汪小明）\n\n\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=18498011&auto=1&height=66\"></iframe>","slug":"taiday1","published":1,"updated":"2017-03-12T09:47:57.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ued0024ffcakdspizv7","content":"<h3 id=\"zhou同学版\"><a href=\"#zhou同学版\" class=\"headerlink\" title=\"zhou同学版\"></a>zhou同学版</h3><p><img src=\"/2017/03/02/taiday1/tai1.jpeg\" alt=\"说走就走的Thailand\"></p>\n<a id=\"more\"></a>\n<p><img src=\"/2017/03/02/taiday1/tai2.jpeg\" alt=\"凹造型很愉快\"><br><img src=\"/2017/03/02/taiday1/tai3.jpeg\" alt=\"不容错过的考山路\"></p>\n<h3 id=\"yuan同学版-第一天1-16\"><a href=\"#yuan同学版-第一天1-16\" class=\"headerlink\" title=\"yuan同学版 第一天1.16\"></a>yuan同学版 第一天1.16</h3><p>出发时间：凌晨3：00（携程接机），40分钟抵达上海浦东国际机场，办理托运和登机牌时遇到泰国来华留学生，在候机的地方给我们推荐当地特色和美食，并且帮助我们修改行程计划。(真的超级幸运，整个旅行给我们提供了很多帮助)<br>6：50飞机起飞，十点半到达廊曼机场；注意在机场填写出入境卡，好好保存出境卡（回国时需要）<br>更换电话卡，一行六人分开打的士前往预定的民宿，之前看攻略说一定要by meter！,然而完全没有什么用，曼谷的出租车司机有的是办法让你的出租车费用飞起来！比如走高速，绕路……</p>\n<h3 id=\"机场——民宿\"><a href=\"#机场——民宿\" class=\"headerlink\" title=\"机场——民宿\"></a>机场——民宿</h3><p>Taxi1 210TB 高速费+出租费+小费<br>Taxi2 100TB 出租费105-没有零钱省下的5TB<br>还好还好~~</p>\n<h3 id=\"民宿——大皇宫\"><a href=\"#民宿——大皇宫\" class=\"headerlink\" title=\"民宿——大皇宫\"></a>民宿——大皇宫</h3><p>Taxi1 250TB  出租费<br>Taxi2 380TB 高速费+出租费<br>What!?</p>\n<h3 id=\"大皇宫——-民宿\"><a href=\"#大皇宫——-民宿\" class=\"headerlink\" title=\"大皇宫——-民宿\"></a>大皇宫——-民宿</h3><p>Taxi1 330TB  出租费（司机不认识路，饶路，已经偏贵<br>Taxi2 510TB 高速费+出租费+…<br>（小剧场：<br>我们：可以不走高速吗？走下面<br>司机：不行！不走高速到不了！<br>我们：……)<br>Whaaaaaat!?<br>只想说算你们狠!!!!<br>午餐当地、meji牛奶<br>下午原定行程是大皇宫。但不让进了，遗憾。外面看起来就很壮观！<br>改成卧佛寺、拍照（国王丧期，国民祭祀）<br>晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西</p>\n<h2 id=\"教训：\"><a href=\"#教训：\" class=\"headerlink\" title=\"教训：\"></a>教训：</h2><p>坑货司机，400RMB</p>\n<h3 id=\"关键词：\"><a href=\"#关键词：\" class=\"headerlink\" title=\"关键词：\"></a>关键词：</h3><p>taxi、便宜、彩色（国王颜色，待查证） 、舞蹈</p>\n<h3 id=\"餐饮\"><a href=\"#餐饮\" class=\"headerlink\" title=\"餐饮\"></a>餐饮</h3><p>中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊<br>很多材料都没怎么处理，总共510B<br>下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）<br>晚上吃的：榴莲180B（第一次吃，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B</p>\n<h3 id=\"建议：\"><a href=\"#建议：\" class=\"headerlink\" title=\"建议：\"></a>建议：</h3><p>1.酒吧要选人多的，有欧洲人莫名就起舞了，很多人都会上去跳舞。泰国的酒普遍比国内贵一些。<br>2.榴莲要选软的，颜色偏淡，饱满的，并不便宜<br>3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）<br>4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。泰国人十分守时，一般只会提前到，所以有拖延症的小伙伴要提前准备。<br>5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车<br>6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾<br>7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。<br>8.大皇宫那边有专门的志愿者帮助你找路和提供线路建议。不要听信路边收费的旅行指导。</p>\n<h3 id=\"故事\"><a href=\"#故事\" class=\"headerlink\" title=\"故事\"></a>故事</h3><p>1.老夫妻的舞蹈<br>2.护照丢失奇案，主人公（汪小明）</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=18498011&auto=1&height=66\"></iframe>","excerpt":"<h3 id=\"zhou同学版\"><a href=\"#zhou同学版\" class=\"headerlink\" title=\"zhou同学版\"></a>zhou同学版</h3><p><img src=\"/2017/03/02/taiday1/tai1.jpeg\" alt=\"说走就走的Thailand\"></p>","more":"<p><img src=\"/2017/03/02/taiday1/tai2.jpeg\" alt=\"凹造型很愉快\"><br><img src=\"/2017/03/02/taiday1/tai3.jpeg\" alt=\"不容错过的考山路\"></p>\n<h3 id=\"yuan同学版-第一天1-16\"><a href=\"#yuan同学版-第一天1-16\" class=\"headerlink\" title=\"yuan同学版 第一天1.16\"></a>yuan同学版 第一天1.16</h3><p>出发时间：凌晨3：00（携程接机），40分钟抵达上海浦东国际机场，办理托运和登机牌时遇到泰国来华留学生，在候机的地方给我们推荐当地特色和美食，并且帮助我们修改行程计划。(真的超级幸运，整个旅行给我们提供了很多帮助)<br>6：50飞机起飞，十点半到达廊曼机场；注意在机场填写出入境卡，好好保存出境卡（回国时需要）<br>更换电话卡，一行六人分开打的士前往预定的民宿，之前看攻略说一定要by meter！,然而完全没有什么用，曼谷的出租车司机有的是办法让你的出租车费用飞起来！比如走高速，绕路……</p>\n<h3 id=\"机场——民宿\"><a href=\"#机场——民宿\" class=\"headerlink\" title=\"机场——民宿\"></a>机场——民宿</h3><p>Taxi1 210TB 高速费+出租费+小费<br>Taxi2 100TB 出租费105-没有零钱省下的5TB<br>还好还好~~</p>\n<h3 id=\"民宿——大皇宫\"><a href=\"#民宿——大皇宫\" class=\"headerlink\" title=\"民宿——大皇宫\"></a>民宿——大皇宫</h3><p>Taxi1 250TB  出租费<br>Taxi2 380TB 高速费+出租费<br>What!?</p>\n<h3 id=\"大皇宫——-民宿\"><a href=\"#大皇宫——-民宿\" class=\"headerlink\" title=\"大皇宫——-民宿\"></a>大皇宫——-民宿</h3><p>Taxi1 330TB  出租费（司机不认识路，饶路，已经偏贵<br>Taxi2 510TB 高速费+出租费+…<br>（小剧场：<br>我们：可以不走高速吗？走下面<br>司机：不行！不走高速到不了！<br>我们：……)<br>Whaaaaaat!?<br>只想说算你们狠!!!!<br>午餐当地、meji牛奶<br>下午原定行程是大皇宫。但不让进了，遗憾。外面看起来就很壮观！<br>改成卧佛寺、拍照（国王丧期，国民祭祀）<br>晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西</p>\n<h2 id=\"教训：\"><a href=\"#教训：\" class=\"headerlink\" title=\"教训：\"></a>教训：</h2><p>坑货司机，400RMB</p>\n<h3 id=\"关键词：\"><a href=\"#关键词：\" class=\"headerlink\" title=\"关键词：\"></a>关键词：</h3><p>taxi、便宜、彩色（国王颜色，待查证） 、舞蹈</p>\n<h3 id=\"餐饮\"><a href=\"#餐饮\" class=\"headerlink\" title=\"餐饮\"></a>餐饮</h3><p>中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊<br>很多材料都没怎么处理，总共510B<br>下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）<br>晚上吃的：榴莲180B（第一次吃，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B</p>\n<h3 id=\"建议：\"><a href=\"#建议：\" class=\"headerlink\" title=\"建议：\"></a>建议：</h3><p>1.酒吧要选人多的，有欧洲人莫名就起舞了，很多人都会上去跳舞。泰国的酒普遍比国内贵一些。<br>2.榴莲要选软的，颜色偏淡，饱满的，并不便宜<br>3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）<br>4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。泰国人十分守时，一般只会提前到，所以有拖延症的小伙伴要提前准备。<br>5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车<br>6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾<br>7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。<br>8.大皇宫那边有专门的志愿者帮助你找路和提供线路建议。不要听信路边收费的旅行指导。</p>\n<h3 id=\"故事\"><a href=\"#故事\" class=\"headerlink\" title=\"故事\"></a>故事</h3><p>1.老夫妻的舞蹈<br>2.护照丢失奇案，主人公（汪小明）</p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=18498011&auto=1&height=66\"></iframe>"},{"title":"泰国游记原稿","date":"2017-02-07T03:11:48.000Z","_content":"\nps：最近在忙于学业，就一直没有整理我的游记，这里先贴出来一些原始稿件，对大家有帮助\n\n泰国游记\n## 第一天1.16\n故事附加：泰国留学生\n抵达（廊曼机场）\n午餐当地、meji牛奶\n下午卧佛寺、拍照（国王丧期，国民祭祀）\n晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西\n教训：坑货司机，400RMB\n关键词：taxi、便宜、彩色（国王颜色，待查证） 、舞蹈\n中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊\n很多材料都没怎么处理，总共510B\n下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）\n晚上吃的：榴莲180B（第一次吃😂😂，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B\n建议：\n1.酒吧要选人多的，有欧洲人莫名就起舞了😂😂\n2.榴莲要选软的，颜色偏淡，饱满的\n3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）\n4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。\n5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车\n6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾😭😭😭 \n7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。\n故事\n1.老夫妻的舞蹈\n2.护照丢失奇案，主人公（汪小明）\n\n\n## 第二天1.17\n去机场：100B\n出行：门口出租都是一口价，不打表，我们包车SUV（260B到酒店）\n建议：\n1.正规酒店2点check in，（携程上预定的）可以寄存在东西，用护照。提前check in收费400泰铢\n2.虫子多\n3.吃饭\n4.中午清曼寺，静坐参悟，融入\n5.check in\n6.lila按摩店押金600B\n7.各种寺庙\n8.坐车到瓦洛洛市场（垃圾）120B\n草莓150B、菠萝65B、香肠15B\n9.坐车到苏打曼市场（100B）\n10.晚饭酒109B，烧烤400B，饭530B\n11.坐车回酒店150B\n12.吹风机押金300B\n袁枫林和陶轩\n\n## 1.18\n地点：清迈\n1.接车到蝴蝶园\n2.蝴蝶园到激流勇进（很好玩）\n3.激流勇进照片，工作人员拍（150一张），建议带两套衣服包括内裤，做好防晒，这边711美好的防晒，去boots买\n4.午餐，自助餐（水好喝，蔬菜沙拉好吃，强推，味道极好一点涩味都没有，超级爽口），套餐内\n5.骑大象（没什么意思）\n6.丛林飞跃（19），很好玩，工作人员会拍照，出门在外记得熬pose（150一张），记得带u盘，可以拷贝\n7.竹筏超级无聊，还要求小费\n建议：\n1.5:00小卖部关门，这边游玩身体很渴\n2.防晒\n\n早饭：157B\n晚饭：2550B\n故事：营救翻船救人，路上混战（champion被围攻，就是我们🙈）goodteam\n陶轩、老张尿尿在佛祖旁边\n梗：老司机（xzh）\n老妈妈（wm，老张）\n漂酿（袁枫林，zqr）\n小女孩问（xzh）性别\n袁枫林裤子开档（被汪明拧坏的\n\n<!--more-->\n\n\n## 1.19\n地点：清迈\n1.早饭：泡面便宜又好吃，红色的味道有点怪159B\n2.双条车包车到双龙寺门票（50B）电梯20B，30B门票，花和蜡烛（20B）\n3.午餐：780B\n4.清迈大学，车票60B\n5.塔佩门shop336元加\n6.包车付钱：1400B\n7.飞机清迈～曼谷，曼谷～普吉（一路跑步）\n故事：\n祈祷\n汪明求签\n差点误机\n液体太重不能上飞机（托运）\n飞奔的✈️\n\n## 1.20\n1.6:20起床坐车去斯米兰岛（一日游团）飞猪上订的\n2.岛上交通基本走环岛线路，从机场到酒店以及九点到机场都要将近2小时（刚好补觉了）\n3.建议：跟团不错，就是常遇到中国人😂😂，比如你在车上睡觉，她在看喜羊羊与灰太狼🌚（山寨机的外音无解）\n4.早餐自助，就餐后吃晕船药，会发药和黄色橡胶圈（队伍标志，靠这个区分）\n5.登船去斯米兰岛，斯米兰岛9岛，我们玩4个岛，两个浮潜点（7、4）\n先去主岛，那边吃午饭可以在间隙拍照，海水很蓝，风景很好\n再去第一个浮潜点7，有很多漂亮的鱼（强推）建议记得带防水套，防水套，防水套。时间半小时\n然后去第二个浮潜点4，没什么东西看，时间半小时\n最后在岛上，会给1个半小时拍照时间，岛上风景超级美，海水比第一个海蓝岛上人多，建议在船离开案边间隙拍照，宽阔海景一览无遗。1个半小时拍照时间  \n江西冷：low，衣服750B\n晚饭：2150B\n建议：\n1.带毛巾、泳裤、换洗衣服裤子。\n每去一个岛船员都会给我们水果和饮料，最后还有饼干。船员消费是每个人50B。\n\n## 1.21\n1.早上8:15出发到码头\n2.坐船半小时到岛珊瑚岛\n3.岛上玩香蕉船还可以（800B），飞伞（800B），同学说不好玩，吃午饭，玩水\n4.坐船去皇权岛深潜（2100B）或者套餐，好玩，海底拍照，租相机（2000B）两人\n5.钓鱼，日落。\n6.晚餐\n故事：\n袁和周半夜买药，感动）T_T\n美人鱼沙雕\n\n## 1.22\n1.普吉—曼谷\n2.美功铁道市场\n3.安帕瓦水上市场\n买买买，吃吃吃，比西塘好\n\n## 1.23\n1.机场寄存行李 \n2.机场大巴6号门a1去BTS\n3.BTS去siam\n\n## 泰国印象\n1.垃圾桶少，但是路上垃圾不是很多\n2.斑马线、红绿灯不多，这里夸下泰国司机，路人示意要过马路，司机会主动让行人\n3.车速慢\n中午：百香果、芒果冰沙45B\nthe chef 800B，鱿鱼丝\n4.夜场坑\n5.国内机可能早飞\n6.机场可寄存东西75B一件\n7.6号门A1\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=31234247&auto=1&height=66\"></iframe>\n## 买东西：\n雪肌精乳液\n欧莱雅口红 唇釉V103\n鼻通\n肩痛\n祛疤\n烟\n\n","source":"_posts/thailand01.md","raw":"---\ntitle: 泰国游记原稿\ndate: 2017-02-07 11:11:48\ncategories: travel                    #文章文类\ntags: [小章鱼, travel, thailand, 随笔]\n---\n\nps：最近在忙于学业，就一直没有整理我的游记，这里先贴出来一些原始稿件，对大家有帮助\n\n泰国游记\n## 第一天1.16\n故事附加：泰国留学生\n抵达（廊曼机场）\n午餐当地、meji牛奶\n下午卧佛寺、拍照（国王丧期，国民祭祀）\n晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西\n教训：坑货司机，400RMB\n关键词：taxi、便宜、彩色（国王颜色，待查证） 、舞蹈\n中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊\n很多材料都没怎么处理，总共510B\n下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）\n晚上吃的：榴莲180B（第一次吃😂😂，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B\n建议：\n1.酒吧要选人多的，有欧洲人莫名就起舞了😂😂\n2.榴莲要选软的，颜色偏淡，饱满的\n3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）\n4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。\n5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车\n6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾😭😭😭 \n7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。\n故事\n1.老夫妻的舞蹈\n2.护照丢失奇案，主人公（汪小明）\n\n\n## 第二天1.17\n去机场：100B\n出行：门口出租都是一口价，不打表，我们包车SUV（260B到酒店）\n建议：\n1.正规酒店2点check in，（携程上预定的）可以寄存在东西，用护照。提前check in收费400泰铢\n2.虫子多\n3.吃饭\n4.中午清曼寺，静坐参悟，融入\n5.check in\n6.lila按摩店押金600B\n7.各种寺庙\n8.坐车到瓦洛洛市场（垃圾）120B\n草莓150B、菠萝65B、香肠15B\n9.坐车到苏打曼市场（100B）\n10.晚饭酒109B，烧烤400B，饭530B\n11.坐车回酒店150B\n12.吹风机押金300B\n袁枫林和陶轩\n\n## 1.18\n地点：清迈\n1.接车到蝴蝶园\n2.蝴蝶园到激流勇进（很好玩）\n3.激流勇进照片，工作人员拍（150一张），建议带两套衣服包括内裤，做好防晒，这边711美好的防晒，去boots买\n4.午餐，自助餐（水好喝，蔬菜沙拉好吃，强推，味道极好一点涩味都没有，超级爽口），套餐内\n5.骑大象（没什么意思）\n6.丛林飞跃（19），很好玩，工作人员会拍照，出门在外记得熬pose（150一张），记得带u盘，可以拷贝\n7.竹筏超级无聊，还要求小费\n建议：\n1.5:00小卖部关门，这边游玩身体很渴\n2.防晒\n\n早饭：157B\n晚饭：2550B\n故事：营救翻船救人，路上混战（champion被围攻，就是我们🙈）goodteam\n陶轩、老张尿尿在佛祖旁边\n梗：老司机（xzh）\n老妈妈（wm，老张）\n漂酿（袁枫林，zqr）\n小女孩问（xzh）性别\n袁枫林裤子开档（被汪明拧坏的\n\n<!--more-->\n\n\n## 1.19\n地点：清迈\n1.早饭：泡面便宜又好吃，红色的味道有点怪159B\n2.双条车包车到双龙寺门票（50B）电梯20B，30B门票，花和蜡烛（20B）\n3.午餐：780B\n4.清迈大学，车票60B\n5.塔佩门shop336元加\n6.包车付钱：1400B\n7.飞机清迈～曼谷，曼谷～普吉（一路跑步）\n故事：\n祈祷\n汪明求签\n差点误机\n液体太重不能上飞机（托运）\n飞奔的✈️\n\n## 1.20\n1.6:20起床坐车去斯米兰岛（一日游团）飞猪上订的\n2.岛上交通基本走环岛线路，从机场到酒店以及九点到机场都要将近2小时（刚好补觉了）\n3.建议：跟团不错，就是常遇到中国人😂😂，比如你在车上睡觉，她在看喜羊羊与灰太狼🌚（山寨机的外音无解）\n4.早餐自助，就餐后吃晕船药，会发药和黄色橡胶圈（队伍标志，靠这个区分）\n5.登船去斯米兰岛，斯米兰岛9岛，我们玩4个岛，两个浮潜点（7、4）\n先去主岛，那边吃午饭可以在间隙拍照，海水很蓝，风景很好\n再去第一个浮潜点7，有很多漂亮的鱼（强推）建议记得带防水套，防水套，防水套。时间半小时\n然后去第二个浮潜点4，没什么东西看，时间半小时\n最后在岛上，会给1个半小时拍照时间，岛上风景超级美，海水比第一个海蓝岛上人多，建议在船离开案边间隙拍照，宽阔海景一览无遗。1个半小时拍照时间  \n江西冷：low，衣服750B\n晚饭：2150B\n建议：\n1.带毛巾、泳裤、换洗衣服裤子。\n每去一个岛船员都会给我们水果和饮料，最后还有饼干。船员消费是每个人50B。\n\n## 1.21\n1.早上8:15出发到码头\n2.坐船半小时到岛珊瑚岛\n3.岛上玩香蕉船还可以（800B），飞伞（800B），同学说不好玩，吃午饭，玩水\n4.坐船去皇权岛深潜（2100B）或者套餐，好玩，海底拍照，租相机（2000B）两人\n5.钓鱼，日落。\n6.晚餐\n故事：\n袁和周半夜买药，感动）T_T\n美人鱼沙雕\n\n## 1.22\n1.普吉—曼谷\n2.美功铁道市场\n3.安帕瓦水上市场\n买买买，吃吃吃，比西塘好\n\n## 1.23\n1.机场寄存行李 \n2.机场大巴6号门a1去BTS\n3.BTS去siam\n\n## 泰国印象\n1.垃圾桶少，但是路上垃圾不是很多\n2.斑马线、红绿灯不多，这里夸下泰国司机，路人示意要过马路，司机会主动让行人\n3.车速慢\n中午：百香果、芒果冰沙45B\nthe chef 800B，鱿鱼丝\n4.夜场坑\n5.国内机可能早飞\n6.机场可寄存东西75B一件\n7.6号门A1\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=31234247&auto=1&height=66\"></iframe>\n## 买东西：\n雪肌精乳液\n欧莱雅口红 唇釉V103\n鼻通\n肩痛\n祛疤\n烟\n\n","slug":"thailand01","published":1,"updated":"2017-03-12T09:00:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1uep0029ffcam9k709ms","content":"<p>ps：最近在忙于学业，就一直没有整理我的游记，这里先贴出来一些原始稿件，对大家有帮助</p>\n<p>泰国游记</p>\n<h2 id=\"第一天1-16\"><a href=\"#第一天1-16\" class=\"headerlink\" title=\"第一天1.16\"></a>第一天1.16</h2><p>故事附加：泰国留学生<br>抵达（廊曼机场）<br>午餐当地、meji牛奶<br>下午卧佛寺、拍照（国王丧期，国民祭祀）<br>晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西<br>教训：坑货司机，400RMB<br>关键词：taxi、便宜、彩色（国王颜色，待查证） 、舞蹈<br>中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊<br>很多材料都没怎么处理，总共510B<br>下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）<br>晚上吃的：榴莲180B（第一次吃😂😂，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B<br>建议：<br>1.酒吧要选人多的，有欧洲人莫名就起舞了😂😂<br>2.榴莲要选软的，颜色偏淡，饱满的<br>3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）<br>4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。<br>5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车<br>6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾😭😭😭<br>7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。<br>故事<br>1.老夫妻的舞蹈<br>2.护照丢失奇案，主人公（汪小明）</p>\n<h2 id=\"第二天1-17\"><a href=\"#第二天1-17\" class=\"headerlink\" title=\"第二天1.17\"></a>第二天1.17</h2><p>去机场：100B<br>出行：门口出租都是一口价，不打表，我们包车SUV（260B到酒店）<br>建议：<br>1.正规酒店2点check in，（携程上预定的）可以寄存在东西，用护照。提前check in收费400泰铢<br>2.虫子多<br>3.吃饭<br>4.中午清曼寺，静坐参悟，融入<br>5.check in<br>6.lila按摩店押金600B<br>7.各种寺庙<br>8.坐车到瓦洛洛市场（垃圾）120B<br>草莓150B、菠萝65B、香肠15B<br>9.坐车到苏打曼市场（100B）<br>10.晚饭酒109B，烧烤400B，饭530B<br>11.坐车回酒店150B<br>12.吹风机押金300B<br>袁枫林和陶轩</p>\n<h2 id=\"1-18\"><a href=\"#1-18\" class=\"headerlink\" title=\"1.18\"></a>1.18</h2><p>地点：清迈<br>1.接车到蝴蝶园<br>2.蝴蝶园到激流勇进（很好玩）<br>3.激流勇进照片，工作人员拍（150一张），建议带两套衣服包括内裤，做好防晒，这边711美好的防晒，去boots买<br>4.午餐，自助餐（水好喝，蔬菜沙拉好吃，强推，味道极好一点涩味都没有，超级爽口），套餐内<br>5.骑大象（没什么意思）<br>6.丛林飞跃（19），很好玩，工作人员会拍照，出门在外记得熬pose（150一张），记得带u盘，可以拷贝<br>7.竹筏超级无聊，还要求小费<br>建议：<br>1.5:00小卖部关门，这边游玩身体很渴<br>2.防晒</p>\n<p>早饭：157B<br>晚饭：2550B<br>故事：营救翻船救人，路上混战（champion被围攻，就是我们🙈）goodteam<br>陶轩、老张尿尿在佛祖旁边<br>梗：老司机（xzh）<br>老妈妈（wm，老张）<br>漂酿（袁枫林，zqr）<br>小女孩问（xzh）性别<br>袁枫林裤子开档（被汪明拧坏的</p>\n<a id=\"more\"></a>\n<h2 id=\"1-19\"><a href=\"#1-19\" class=\"headerlink\" title=\"1.19\"></a>1.19</h2><p>地点：清迈<br>1.早饭：泡面便宜又好吃，红色的味道有点怪159B<br>2.双条车包车到双龙寺门票（50B）电梯20B，30B门票，花和蜡烛（20B）<br>3.午餐：780B<br>4.清迈大学，车票60B<br>5.塔佩门shop336元加<br>6.包车付钱：1400B<br>7.飞机清迈～曼谷，曼谷～普吉（一路跑步）<br>故事：<br>祈祷<br>汪明求签<br>差点误机<br>液体太重不能上飞机（托运）<br>飞奔的✈️</p>\n<h2 id=\"1-20\"><a href=\"#1-20\" class=\"headerlink\" title=\"1.20\"></a>1.20</h2><p>1.6:20起床坐车去斯米兰岛（一日游团）飞猪上订的<br>2.岛上交通基本走环岛线路，从机场到酒店以及九点到机场都要将近2小时（刚好补觉了）<br>3.建议：跟团不错，就是常遇到中国人😂😂，比如你在车上睡觉，她在看喜羊羊与灰太狼🌚（山寨机的外音无解）<br>4.早餐自助，就餐后吃晕船药，会发药和黄色橡胶圈（队伍标志，靠这个区分）<br>5.登船去斯米兰岛，斯米兰岛9岛，我们玩4个岛，两个浮潜点（7、4）<br>先去主岛，那边吃午饭可以在间隙拍照，海水很蓝，风景很好<br>再去第一个浮潜点7，有很多漂亮的鱼（强推）建议记得带防水套，防水套，防水套。时间半小时<br>然后去第二个浮潜点4，没什么东西看，时间半小时<br>最后在岛上，会给1个半小时拍照时间，岛上风景超级美，海水比第一个海蓝岛上人多，建议在船离开案边间隙拍照，宽阔海景一览无遗。1个半小时拍照时间<br>江西冷：low，衣服750B<br>晚饭：2150B<br>建议：<br>1.带毛巾、泳裤、换洗衣服裤子。<br>每去一个岛船员都会给我们水果和饮料，最后还有饼干。船员消费是每个人50B。</p>\n<h2 id=\"1-21\"><a href=\"#1-21\" class=\"headerlink\" title=\"1.21\"></a>1.21</h2><p>1.早上8:15出发到码头<br>2.坐船半小时到岛珊瑚岛<br>3.岛上玩香蕉船还可以（800B），飞伞（800B），同学说不好玩，吃午饭，玩水<br>4.坐船去皇权岛深潜（2100B）或者套餐，好玩，海底拍照，租相机（2000B）两人<br>5.钓鱼，日落。<br>6.晚餐<br>故事：<br>袁和周半夜买药，感动）T_T<br>美人鱼沙雕</p>\n<h2 id=\"1-22\"><a href=\"#1-22\" class=\"headerlink\" title=\"1.22\"></a>1.22</h2><p>1.普吉—曼谷<br>2.美功铁道市场<br>3.安帕瓦水上市场<br>买买买，吃吃吃，比西塘好</p>\n<h2 id=\"1-23\"><a href=\"#1-23\" class=\"headerlink\" title=\"1.23\"></a>1.23</h2><p>1.机场寄存行李<br>2.机场大巴6号门a1去BTS<br>3.BTS去siam</p>\n<h2 id=\"泰国印象\"><a href=\"#泰国印象\" class=\"headerlink\" title=\"泰国印象\"></a>泰国印象</h2><p>1.垃圾桶少，但是路上垃圾不是很多<br>2.斑马线、红绿灯不多，这里夸下泰国司机，路人示意要过马路，司机会主动让行人<br>3.车速慢<br>中午：百香果、芒果冰沙45B<br>the chef 800B，鱿鱼丝<br>4.夜场坑<br>5.国内机可能早飞<br>6.机场可寄存东西75B一件<br>7.6号门A1</p>\n<p><iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=31234247&auto=1&height=66\"></iframe></p>\n<h2 id=\"买东西：\"><a href=\"#买东西：\" class=\"headerlink\" title=\"买东西：\"></a>买东西：</h2><p>雪肌精乳液<br>欧莱雅口红 唇釉V103<br>鼻通<br>肩痛<br>祛疤<br>烟</p>\n","excerpt":"<p>ps：最近在忙于学业，就一直没有整理我的游记，这里先贴出来一些原始稿件，对大家有帮助</p>\n<p>泰国游记</p>\n<h2 id=\"第一天1-16\"><a href=\"#第一天1-16\" class=\"headerlink\" title=\"第一天1.16\"></a>第一天1.16</h2><p>故事附加：泰国留学生<br>抵达（廊曼机场）<br>午餐当地、meji牛奶<br>下午卧佛寺、拍照（国王丧期，国民祭祀）<br>晚上考山路、酒吧（center khao saim）、小吃、砍价、买东西<br>教训：坑货司机，400RMB<br>关键词：taxi、便宜、彩色（国王颜色，待查证） 、舞蹈<br>中午吃的：鸡腿、牛肉串（不知道叫什么），蔬菜生的配肉和酱，这个酱好辣啊<br>很多材料都没怎么处理，总共510B<br>下午吃的：路边各种免费饮料，应该是国王祭祀期间送的、芒果（不是很甜100B）<br>晚上吃的：榴莲180B（第一次吃😂😂，还挺好吃的））、热带水果拼盘50B两份（火龙果、芒果、木瓜）、pad thai50B（虾仁，加一句，这边的虾不要钱的样子，什么里面都加）、椰奶冰淇淋，有椰肉好吃的50B，酒吧各种好吃的1470B<br>建议：<br>1.酒吧要选人多的，有欧洲人莫名就起舞了😂😂<br>2.榴莲要选软的，颜色偏淡，饱满的<br>3.曼谷check in 3点以后，自己定的民宿可以联系房东，（airbnb上预定的）<br>4.建议住民宿，房东让我们早check in，让我们寄存东西，免费送我们去机场，常常受到我们的电话骚扰。<br>5.司机巨坑，建议能不上高速就不上高速，过高速的费用都是我们出（有点贵🌚），建议接机和包车<br>6.大皇宫8:30-3:30，我们去的时候太晚了，没办法去大皇宫，很遗憾😭😭😭<br>7.国际航空挺稳定，位子也还挺宽的。泰国国内航空位子窄。<br>故事<br>1.老夫妻的舞蹈<br>2.护照丢失奇案，主人公（汪小明）</p>\n<h2 id=\"第二天1-17\"><a href=\"#第二天1-17\" class=\"headerlink\" title=\"第二天1.17\"></a>第二天1.17</h2><p>去机场：100B<br>出行：门口出租都是一口价，不打表，我们包车SUV（260B到酒店）<br>建议：<br>1.正规酒店2点check in，（携程上预定的）可以寄存在东西，用护照。提前check in收费400泰铢<br>2.虫子多<br>3.吃饭<br>4.中午清曼寺，静坐参悟，融入<br>5.check in<br>6.lila按摩店押金600B<br>7.各种寺庙<br>8.坐车到瓦洛洛市场（垃圾）120B<br>草莓150B、菠萝65B、香肠15B<br>9.坐车到苏打曼市场（100B）<br>10.晚饭酒109B，烧烤400B，饭530B<br>11.坐车回酒店150B<br>12.吹风机押金300B<br>袁枫林和陶轩</p>\n<h2 id=\"1-18\"><a href=\"#1-18\" class=\"headerlink\" title=\"1.18\"></a>1.18</h2><p>地点：清迈<br>1.接车到蝴蝶园<br>2.蝴蝶园到激流勇进（很好玩）<br>3.激流勇进照片，工作人员拍（150一张），建议带两套衣服包括内裤，做好防晒，这边711美好的防晒，去boots买<br>4.午餐，自助餐（水好喝，蔬菜沙拉好吃，强推，味道极好一点涩味都没有，超级爽口），套餐内<br>5.骑大象（没什么意思）<br>6.丛林飞跃（19），很好玩，工作人员会拍照，出门在外记得熬pose（150一张），记得带u盘，可以拷贝<br>7.竹筏超级无聊，还要求小费<br>建议：<br>1.5:00小卖部关门，这边游玩身体很渴<br>2.防晒</p>\n<p>早饭：157B<br>晚饭：2550B<br>故事：营救翻船救人，路上混战（champion被围攻，就是我们🙈）goodteam<br>陶轩、老张尿尿在佛祖旁边<br>梗：老司机（xzh）<br>老妈妈（wm，老张）<br>漂酿（袁枫林，zqr）<br>小女孩问（xzh）性别<br>袁枫林裤子开档（被汪明拧坏的</p>","more":"<h2 id=\"1-19\"><a href=\"#1-19\" class=\"headerlink\" title=\"1.19\"></a>1.19</h2><p>地点：清迈<br>1.早饭：泡面便宜又好吃，红色的味道有点怪159B<br>2.双条车包车到双龙寺门票（50B）电梯20B，30B门票，花和蜡烛（20B）<br>3.午餐：780B<br>4.清迈大学，车票60B<br>5.塔佩门shop336元加<br>6.包车付钱：1400B<br>7.飞机清迈～曼谷，曼谷～普吉（一路跑步）<br>故事：<br>祈祷<br>汪明求签<br>差点误机<br>液体太重不能上飞机（托运）<br>飞奔的✈️</p>\n<h2 id=\"1-20\"><a href=\"#1-20\" class=\"headerlink\" title=\"1.20\"></a>1.20</h2><p>1.6:20起床坐车去斯米兰岛（一日游团）飞猪上订的<br>2.岛上交通基本走环岛线路，从机场到酒店以及九点到机场都要将近2小时（刚好补觉了）<br>3.建议：跟团不错，就是常遇到中国人😂😂，比如你在车上睡觉，她在看喜羊羊与灰太狼🌚（山寨机的外音无解）<br>4.早餐自助，就餐后吃晕船药，会发药和黄色橡胶圈（队伍标志，靠这个区分）<br>5.登船去斯米兰岛，斯米兰岛9岛，我们玩4个岛，两个浮潜点（7、4）<br>先去主岛，那边吃午饭可以在间隙拍照，海水很蓝，风景很好<br>再去第一个浮潜点7，有很多漂亮的鱼（强推）建议记得带防水套，防水套，防水套。时间半小时<br>然后去第二个浮潜点4，没什么东西看，时间半小时<br>最后在岛上，会给1个半小时拍照时间，岛上风景超级美，海水比第一个海蓝岛上人多，建议在船离开案边间隙拍照，宽阔海景一览无遗。1个半小时拍照时间<br>江西冷：low，衣服750B<br>晚饭：2150B<br>建议：<br>1.带毛巾、泳裤、换洗衣服裤子。<br>每去一个岛船员都会给我们水果和饮料，最后还有饼干。船员消费是每个人50B。</p>\n<h2 id=\"1-21\"><a href=\"#1-21\" class=\"headerlink\" title=\"1.21\"></a>1.21</h2><p>1.早上8:15出发到码头<br>2.坐船半小时到岛珊瑚岛<br>3.岛上玩香蕉船还可以（800B），飞伞（800B），同学说不好玩，吃午饭，玩水<br>4.坐船去皇权岛深潜（2100B）或者套餐，好玩，海底拍照，租相机（2000B）两人<br>5.钓鱼，日落。<br>6.晚餐<br>故事：<br>袁和周半夜买药，感动）T_T<br>美人鱼沙雕</p>\n<h2 id=\"1-22\"><a href=\"#1-22\" class=\"headerlink\" title=\"1.22\"></a>1.22</h2><p>1.普吉—曼谷<br>2.美功铁道市场<br>3.安帕瓦水上市场<br>买买买，吃吃吃，比西塘好</p>\n<h2 id=\"1-23\"><a href=\"#1-23\" class=\"headerlink\" title=\"1.23\"></a>1.23</h2><p>1.机场寄存行李<br>2.机场大巴6号门a1去BTS<br>3.BTS去siam</p>\n<h2 id=\"泰国印象\"><a href=\"#泰国印象\" class=\"headerlink\" title=\"泰国印象\"></a>泰国印象</h2><p>1.垃圾桶少，但是路上垃圾不是很多<br>2.斑马线、红绿灯不多，这里夸下泰国司机，路人示意要过马路，司机会主动让行人<br>3.车速慢<br>中午：百香果、芒果冰沙45B<br>the chef 800B，鱿鱼丝<br>4.夜场坑<br>5.国内机可能早飞<br>6.机场可寄存东西75B一件<br>7.6号门A1</p>\n<p><iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=31234247&auto=1&height=66\"></iframe></p>\n<h2 id=\"买东西：\"><a href=\"#买东西：\" class=\"headerlink\" title=\"买东西：\"></a>买东西：</h2><p>雪肌精乳液<br>欧莱雅口红 唇釉V103<br>鼻通<br>肩痛<br>祛疤<br>烟</p>"},{"title":"给自己看的UML","date":"2017-04-06T13:25:46.000Z","_content":"\n## 前言\n发现自己的心最近有点浮躁了，每次都是有那么一段时间很堕落。不将这个了，今天要讲的是关于设计模式的基础UML，你们可以去知乎上搜一搜，对于UML褒贬不一。我个人感觉还是有用的，如果图能够说明很多语言无法简单描述的问题，那么是不是减少了很多不必要的沟通误会呢。而且理解UML对于自己动手理清思路也很有帮助。\n\n## UML定义\n统一建模语言（英语：Unified Modeling Language，缩写 UML）是非专利的第三代建模和规约语言。UML是一种开放的方法，用于说明、可视化、构建和编写一个正在开发的、面向对象的、软件密集系统的制品的开放方法。UML展现了一系列最佳工程实践，这些最佳实践在对大规模，复杂系统进行建模方面，特别是在软件架构层次已经被验证有效。\n\n## 类图\n![类图](uml/class.png)\n\n```\n1.类图前的+ - # 表示访问权限\n+ 表示public\n# 表示protect\n- 表示private\n2.类图有3层\n第一层是类名\n第二层是成员\n第三层是方法\n```\n\n<!-- more -->\n\n## UML关系符号\n![类图](uml/relation.png)\n\n```\n简单讲解下上图中5种类图关系。\n聚集关系：聚集指的是集合中的冬季是可以独立出来，比如飞机和飞机场的关系。\n组合关系：被包含者是包含者的一部分，比如汽车中的发动机\n继承关系：B派生自A，A泛化了B\n依赖关系：A依赖B，A使用B\n实例关系\n```\n\n这其中在图中还会出现一些特殊的数字比如1..1 0..* 1..*\n```\n1..1: 表示另一个类的一个对象只与该类的一个对象有关\n0..*：表示另一个类的一个对象与该类零个或多个对象有关\n1..* 表示另一个类的一个对象只与该类零一个或多个一个对象有关\n```\n\n## 参考链接\n[维基百科](https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80)\n[博客](http://www.cnblogs.com/skywang12345/p/3523209.html)\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=447280427&auto=1&height=66\"></iframe>","source":"_posts/uml.md","raw":"---\ntitle: 给自己看的UML\ndate: 2017-04-06 21:25:46\ntags: [java,设计模式,uml]\n---\n\n## 前言\n发现自己的心最近有点浮躁了，每次都是有那么一段时间很堕落。不将这个了，今天要讲的是关于设计模式的基础UML，你们可以去知乎上搜一搜，对于UML褒贬不一。我个人感觉还是有用的，如果图能够说明很多语言无法简单描述的问题，那么是不是减少了很多不必要的沟通误会呢。而且理解UML对于自己动手理清思路也很有帮助。\n\n## UML定义\n统一建模语言（英语：Unified Modeling Language，缩写 UML）是非专利的第三代建模和规约语言。UML是一种开放的方法，用于说明、可视化、构建和编写一个正在开发的、面向对象的、软件密集系统的制品的开放方法。UML展现了一系列最佳工程实践，这些最佳实践在对大规模，复杂系统进行建模方面，特别是在软件架构层次已经被验证有效。\n\n## 类图\n![类图](uml/class.png)\n\n```\n1.类图前的+ - # 表示访问权限\n+ 表示public\n# 表示protect\n- 表示private\n2.类图有3层\n第一层是类名\n第二层是成员\n第三层是方法\n```\n\n<!-- more -->\n\n## UML关系符号\n![类图](uml/relation.png)\n\n```\n简单讲解下上图中5种类图关系。\n聚集关系：聚集指的是集合中的冬季是可以独立出来，比如飞机和飞机场的关系。\n组合关系：被包含者是包含者的一部分，比如汽车中的发动机\n继承关系：B派生自A，A泛化了B\n依赖关系：A依赖B，A使用B\n实例关系\n```\n\n这其中在图中还会出现一些特殊的数字比如1..1 0..* 1..*\n```\n1..1: 表示另一个类的一个对象只与该类的一个对象有关\n0..*：表示另一个类的一个对象与该类零个或多个对象有关\n1..* 表示另一个类的一个对象只与该类零一个或多个一个对象有关\n```\n\n## 参考链接\n[维基百科](https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80)\n[博客](http://www.cnblogs.com/skywang12345/p/3523209.html)\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=447280427&auto=1&height=66\"></iframe>","slug":"uml","published":1,"updated":"2017-04-06T14:23:17.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1uer002cffca6cculnzk","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>发现自己的心最近有点浮躁了，每次都是有那么一段时间很堕落。不将这个了，今天要讲的是关于设计模式的基础UML，你们可以去知乎上搜一搜，对于UML褒贬不一。我个人感觉还是有用的，如果图能够说明很多语言无法简单描述的问题，那么是不是减少了很多不必要的沟通误会呢。而且理解UML对于自己动手理清思路也很有帮助。</p>\n<h2 id=\"UML定义\"><a href=\"#UML定义\" class=\"headerlink\" title=\"UML定义\"></a>UML定义</h2><p>统一建模语言（英语：Unified Modeling Language，缩写 UML）是非专利的第三代建模和规约语言。UML是一种开放的方法，用于说明、可视化、构建和编写一个正在开发的、面向对象的、软件密集系统的制品的开放方法。UML展现了一系列最佳工程实践，这些最佳实践在对大规模，复杂系统进行建模方面，特别是在软件架构层次已经被验证有效。</p>\n<h2 id=\"类图\"><a href=\"#类图\" class=\"headerlink\" title=\"类图\"></a>类图</h2><p><img src=\"/2017/04/06/uml/class.png\" alt=\"类图\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">1.类图前的+ - # 表示访问权限</div><div class=\"line\">+ 表示public</div><div class=\"line\"># 表示protect</div><div class=\"line\">- 表示private</div><div class=\"line\">2.类图有3层</div><div class=\"line\">第一层是类名</div><div class=\"line\">第二层是成员</div><div class=\"line\">第三层是方法</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"UML关系符号\"><a href=\"#UML关系符号\" class=\"headerlink\" title=\"UML关系符号\"></a>UML关系符号</h2><p><img src=\"/2017/04/06/uml/relation.png\" alt=\"类图\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">简单讲解下上图中5种类图关系。</div><div class=\"line\">聚集关系：聚集指的是集合中的冬季是可以独立出来，比如飞机和飞机场的关系。</div><div class=\"line\">组合关系：被包含者是包含者的一部分，比如汽车中的发动机</div><div class=\"line\">继承关系：B派生自A，A泛化了B</div><div class=\"line\">依赖关系：A依赖B，A使用B</div><div class=\"line\">实例关系</div></pre></td></tr></table></figure>\n<p>这其中在图中还会出现一些特殊的数字比如1..1 0..<em> 1..</em><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">1..1: 表示另一个类的一个对象只与该类的一个对象有关</div><div class=\"line\">0..*：表示另一个类的一个对象与该类零个或多个对象有关</div><div class=\"line\">1..* 表示另一个类的一个对象只与该类零一个或多个一个对象有关</div></pre></td></tr></table></figure></p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80\" target=\"_blank\" rel=\"external\">维基百科</a><br><a href=\"http://www.cnblogs.com/skywang12345/p/3523209.html\" target=\"_blank\" rel=\"external\">博客</a></p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=447280427&auto=1&height=66\"></iframe>","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>发现自己的心最近有点浮躁了，每次都是有那么一段时间很堕落。不将这个了，今天要讲的是关于设计模式的基础UML，你们可以去知乎上搜一搜，对于UML褒贬不一。我个人感觉还是有用的，如果图能够说明很多语言无法简单描述的问题，那么是不是减少了很多不必要的沟通误会呢。而且理解UML对于自己动手理清思路也很有帮助。</p>\n<h2 id=\"UML定义\"><a href=\"#UML定义\" class=\"headerlink\" title=\"UML定义\"></a>UML定义</h2><p>统一建模语言（英语：Unified Modeling Language，缩写 UML）是非专利的第三代建模和规约语言。UML是一种开放的方法，用于说明、可视化、构建和编写一个正在开发的、面向对象的、软件密集系统的制品的开放方法。UML展现了一系列最佳工程实践，这些最佳实践在对大规模，复杂系统进行建模方面，特别是在软件架构层次已经被验证有效。</p>\n<h2 id=\"类图\"><a href=\"#类图\" class=\"headerlink\" title=\"类图\"></a>类图</h2><p><img src=\"/2017/04/06/uml/class.png\" alt=\"类图\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">1.类图前的+ - # 表示访问权限</div><div class=\"line\">+ 表示public</div><div class=\"line\"># 表示protect</div><div class=\"line\">- 表示private</div><div class=\"line\">2.类图有3层</div><div class=\"line\">第一层是类名</div><div class=\"line\">第二层是成员</div><div class=\"line\">第三层是方法</div></pre></td></tr></table></figure>","more":"<h2 id=\"UML关系符号\"><a href=\"#UML关系符号\" class=\"headerlink\" title=\"UML关系符号\"></a>UML关系符号</h2><p><img src=\"/2017/04/06/uml/relation.png\" alt=\"类图\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">简单讲解下上图中5种类图关系。</div><div class=\"line\">聚集关系：聚集指的是集合中的冬季是可以独立出来，比如飞机和飞机场的关系。</div><div class=\"line\">组合关系：被包含者是包含者的一部分，比如汽车中的发动机</div><div class=\"line\">继承关系：B派生自A，A泛化了B</div><div class=\"line\">依赖关系：A依赖B，A使用B</div><div class=\"line\">实例关系</div></pre></td></tr></table></figure>\n<p>这其中在图中还会出现一些特殊的数字比如1..1 0..<em> 1..</em><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">1..1: 表示另一个类的一个对象只与该类的一个对象有关</div><div class=\"line\">0..*：表示另一个类的一个对象与该类零个或多个对象有关</div><div class=\"line\">1..* 表示另一个类的一个对象只与该类零一个或多个一个对象有关</div></pre></td></tr></table></figure></p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80\">维基百科</a><br><a href=\"http://www.cnblogs.com/skywang12345/p/3523209.html\">博客</a></p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=447280427&auto=1&height=66\"></iframe>"},{"title":"transaction","date":"2017-06-08T02:10:54.000Z","_content":"\n## 前言\n前段时间在PL/SQL写了一条sql语句，出入了数据，但是数据库中没有数据。后来发现是因为自己对于事务了解不够\n\n## 定义\n事务是一条有多条sql语句组成的工作逻辑单元，这些语句要么全部执行成功，要么全部不执行，只要有一条sql语句执行失败，则已执行的sql语句会回滚刀执行之前的状态。\n\n## oracle 事务与SQL Server的区别\n在SQL Server中，每一个DML语句都具有一个隐式的事务，语句执行结束时事务被自动提交到服务器端，除非显示的通过一条事务语句开始一个事务，在oracle中，当第一条SQL开始执行时，一个新的事务就开始了，除非显示的地使用COMMIT进行提交，或者使用ROLLBACK进行回滚，或者是退出某个oracle工具时，这些事务才结束，否则SQL语句的操作仅在会话级别进行，没有保存到数据库中。\n\n## COMMIT提交事务\nCOMMIT语句会结束数据数据库事务，他做了如下几个方面的工作*\n* 如果对数据库使用了DML语句进行了修改，那么这些修改就会永久写进数据库中，这时其他用户可以立即看到对事务的修改\n* 加在事务上的所有锁及事务所占有的一切资源自动释放。\n\n\n## ROLLBACK回滚事务\n使用ROLLBACK的情形一般有：\n* 误删除了数据或更改了错误的数据，使用回滚帮助恢复原始的数据\n* 如果触发了一个异常或者sql语句执行失败不能执行事务，使用回滚将数据恢复到初始状态\n\n## SAVEPOINT保存点\n默认情况下，ROLLBACK会撤销整个事务，如果编写一个很大的PL/SQL块，使用了很多的DML语句，此时回滚操作的工作量是很大的。PL/SQL提供了语句级别的回滚，允许将一个大的事务分成很多语句级别的小块，每个小块作为一个保存点。\n\nROLLBACk TO SAVEPOINT 命令执行，将会发生如下几件事情：\n* 从保存点以后所做的工作都被撤销，但是保存点未被释放，如果需要，可以再次撤销该保存点\n* 自该保存点以后SQL语句就需要的锁和资源都被释放\n* 虽然撤销到保存点，但是并不是结束整个事务，SQL语句处理挂起状态。\n\n","source":"_posts/transaction.md","raw":"---\ntitle: transaction\ndate: 2017-06-08 10:10:54\ntags: [oracle, 事务, PL/SQL]\n---\n\n## 前言\n前段时间在PL/SQL写了一条sql语句，出入了数据，但是数据库中没有数据。后来发现是因为自己对于事务了解不够\n\n## 定义\n事务是一条有多条sql语句组成的工作逻辑单元，这些语句要么全部执行成功，要么全部不执行，只要有一条sql语句执行失败，则已执行的sql语句会回滚刀执行之前的状态。\n\n## oracle 事务与SQL Server的区别\n在SQL Server中，每一个DML语句都具有一个隐式的事务，语句执行结束时事务被自动提交到服务器端，除非显示的通过一条事务语句开始一个事务，在oracle中，当第一条SQL开始执行时，一个新的事务就开始了，除非显示的地使用COMMIT进行提交，或者使用ROLLBACK进行回滚，或者是退出某个oracle工具时，这些事务才结束，否则SQL语句的操作仅在会话级别进行，没有保存到数据库中。\n\n## COMMIT提交事务\nCOMMIT语句会结束数据数据库事务，他做了如下几个方面的工作*\n* 如果对数据库使用了DML语句进行了修改，那么这些修改就会永久写进数据库中，这时其他用户可以立即看到对事务的修改\n* 加在事务上的所有锁及事务所占有的一切资源自动释放。\n\n\n## ROLLBACK回滚事务\n使用ROLLBACK的情形一般有：\n* 误删除了数据或更改了错误的数据，使用回滚帮助恢复原始的数据\n* 如果触发了一个异常或者sql语句执行失败不能执行事务，使用回滚将数据恢复到初始状态\n\n## SAVEPOINT保存点\n默认情况下，ROLLBACK会撤销整个事务，如果编写一个很大的PL/SQL块，使用了很多的DML语句，此时回滚操作的工作量是很大的。PL/SQL提供了语句级别的回滚，允许将一个大的事务分成很多语句级别的小块，每个小块作为一个保存点。\n\nROLLBACk TO SAVEPOINT 命令执行，将会发生如下几件事情：\n* 从保存点以后所做的工作都被撤销，但是保存点未被释放，如果需要，可以再次撤销该保存点\n* 自该保存点以后SQL语句就需要的锁和资源都被释放\n* 虽然撤销到保存点，但是并不是结束整个事务，SQL语句处理挂起状态。\n\n","slug":"transaction","published":1,"updated":"2017-06-08T15:35:07.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1ueu002fffcay316cxv7","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>前段时间在PL/SQL写了一条sql语句，出入了数据，但是数据库中没有数据。后来发现是因为自己对于事务了解不够</p>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>事务是一条有多条sql语句组成的工作逻辑单元，这些语句要么全部执行成功，要么全部不执行，只要有一条sql语句执行失败，则已执行的sql语句会回滚刀执行之前的状态。</p>\n<h2 id=\"oracle-事务与SQL-Server的区别\"><a href=\"#oracle-事务与SQL-Server的区别\" class=\"headerlink\" title=\"oracle 事务与SQL Server的区别\"></a>oracle 事务与SQL Server的区别</h2><p>在SQL Server中，每一个DML语句都具有一个隐式的事务，语句执行结束时事务被自动提交到服务器端，除非显示的通过一条事务语句开始一个事务，在oracle中，当第一条SQL开始执行时，一个新的事务就开始了，除非显示的地使用COMMIT进行提交，或者使用ROLLBACK进行回滚，或者是退出某个oracle工具时，这些事务才结束，否则SQL语句的操作仅在会话级别进行，没有保存到数据库中。</p>\n<h2 id=\"COMMIT提交事务\"><a href=\"#COMMIT提交事务\" class=\"headerlink\" title=\"COMMIT提交事务\"></a>COMMIT提交事务</h2><p>COMMIT语句会结束数据数据库事务，他做了如下几个方面的工作*</p>\n<ul>\n<li>如果对数据库使用了DML语句进行了修改，那么这些修改就会永久写进数据库中，这时其他用户可以立即看到对事务的修改</li>\n<li>加在事务上的所有锁及事务所占有的一切资源自动释放。</li>\n</ul>\n<h2 id=\"ROLLBACK回滚事务\"><a href=\"#ROLLBACK回滚事务\" class=\"headerlink\" title=\"ROLLBACK回滚事务\"></a>ROLLBACK回滚事务</h2><p>使用ROLLBACK的情形一般有：</p>\n<ul>\n<li>误删除了数据或更改了错误的数据，使用回滚帮助恢复原始的数据</li>\n<li>如果触发了一个异常或者sql语句执行失败不能执行事务，使用回滚将数据恢复到初始状态</li>\n</ul>\n<h2 id=\"SAVEPOINT保存点\"><a href=\"#SAVEPOINT保存点\" class=\"headerlink\" title=\"SAVEPOINT保存点\"></a>SAVEPOINT保存点</h2><p>默认情况下，ROLLBACK会撤销整个事务，如果编写一个很大的PL/SQL块，使用了很多的DML语句，此时回滚操作的工作量是很大的。PL/SQL提供了语句级别的回滚，允许将一个大的事务分成很多语句级别的小块，每个小块作为一个保存点。</p>\n<p>ROLLBACk TO SAVEPOINT 命令执行，将会发生如下几件事情：</p>\n<ul>\n<li>从保存点以后所做的工作都被撤销，但是保存点未被释放，如果需要，可以再次撤销该保存点</li>\n<li>自该保存点以后SQL语句就需要的锁和资源都被释放</li>\n<li>虽然撤销到保存点，但是并不是结束整个事务，SQL语句处理挂起状态。</li>\n</ul>\n","excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>前段时间在PL/SQL写了一条sql语句，出入了数据，但是数据库中没有数据。后来发现是因为自己对于事务了解不够</p>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>事务是一条有多条sql语句组成的工作逻辑单元，这些语句要么全部执行成功，要么全部不执行，只要有一条sql语句执行失败，则已执行的sql语句会回滚刀执行之前的状态。</p>\n<h2 id=\"oracle-事务与SQL-Server的区别\"><a href=\"#oracle-事务与SQL-Server的区别\" class=\"headerlink\" title=\"oracle 事务与SQL Server的区别\"></a>oracle 事务与SQL Server的区别</h2><p>在SQL Server中，每一个DML语句都具有一个隐式的事务，语句执行结束时事务被自动提交到服务器端，除非显示的通过一条事务语句开始一个事务，在oracle中，当第一条SQL开始执行时，一个新的事务就开始了，除非显示的地使用COMMIT进行提交，或者使用ROLLBACK进行回滚，或者是退出某个oracle工具时，这些事务才结束，否则SQL语句的操作仅在会话级别进行，没有保存到数据库中。</p>\n<h2 id=\"COMMIT提交事务\"><a href=\"#COMMIT提交事务\" class=\"headerlink\" title=\"COMMIT提交事务\"></a>COMMIT提交事务</h2><p>COMMIT语句会结束数据数据库事务，他做了如下几个方面的工作*</p>\n<ul>\n<li>如果对数据库使用了DML语句进行了修改，那么这些修改就会永久写进数据库中，这时其他用户可以立即看到对事务的修改</li>\n<li>加在事务上的所有锁及事务所占有的一切资源自动释放。</li>\n</ul>\n<h2 id=\"ROLLBACK回滚事务\"><a href=\"#ROLLBACK回滚事务\" class=\"headerlink\" title=\"ROLLBACK回滚事务\"></a>ROLLBACK回滚事务</h2><p>使用ROLLBACK的情形一般有：</p>\n<ul>\n<li>误删除了数据或更改了错误的数据，使用回滚帮助恢复原始的数据</li>\n<li>如果触发了一个异常或者sql语句执行失败不能执行事务，使用回滚将数据恢复到初始状态</li>\n</ul>\n<h2 id=\"SAVEPOINT保存点\"><a href=\"#SAVEPOINT保存点\" class=\"headerlink\" title=\"SAVEPOINT保存点\"></a>SAVEPOINT保存点</h2><p>默认情况下，ROLLBACK会撤销整个事务，如果编写一个很大的PL/SQL块，使用了很多的DML语句，此时回滚操作的工作量是很大的。PL/SQL提供了语句级别的回滚，允许将一个大的事务分成很多语句级别的小块，每个小块作为一个保存点。</p>\n<p>ROLLBACk TO SAVEPOINT 命令执行，将会发生如下几件事情：</p>\n<ul>\n<li>从保存点以后所做的工作都被撤销，但是保存点未被释放，如果需要，可以再次撤销该保存点</li>\n<li>自该保存点以后SQL语句就需要的锁和资源都被释放</li>\n<li>虽然撤销到保存点，但是并不是结束整个事务，SQL语句处理挂起状态。</li>\n</ul>\n"},{"title":"数据库学习笔记一","date":"2017-02-19T14:45:29.000Z","_content":"\n\n## 连接查询\n连接是把不同表的记录连到一起的最普遍的方法。\n\n* 内连接：最普遍的连接类型，而且是最匀称的，因为它们要求构成连接的每一个部分的每个表匹配，不匹配的行将被排除。\n* 外连接：使用outer join关键字将两个表连接起来。外连接生成的结果集不仅包括符合链接条件的行数据，而且还包括左表（左外连接）、右表（右边连接时的表）或两边链接表（全外连接时的表）中所有的数据行。\n\n\n## 合并查询\n合并查询结果是将多个select语句的查询结果合并在一起。因为某种情况下，需要将几个select语句查询出来的结果合并起来显示。合并查询结果使用union和union all关键字。union关键字是将所有的查询结果合并在一起，然后去除相同记录；而union all关键字则只是简单地将结果合并在一起。\n\n<!-- more -->\n\n## 索引\n我们常见的数据库系统，其索引使用的数据结构多是B-Tree或者B+Tree。例如，MsSql使用的是B+Tree，Oracle及Sysbase使用的是B-Tree。所以在最开始，简单地介绍一下B-Tree。\n[B-Tree](http://taop.marchtea.com/03.02.html)\n\n概念：索引是对数据库表中一个或多个列的值进行排序的结构。\n优点：在查询过程中使用索引，会提高数据库查询效率，应用索引来查询数据库中的内容，可以减少查询的次数，从而到达查询优化目的。\n缺点：创建索引和维护需要耗费时间，并且该耗费时间与数据量的大小成正比；另外，索引需要占用物理空间，给数据的维护造成很多麻烦。\n\n索引分类\n* 普通索引：不应用任何约束的索引，该索引可以在任何数据类型中创建。\n* 唯一索引：使用UNIQUE参数可以设置唯一索引。该索引值必须唯一。主键是一种特殊的唯一索引。\n* 全文索引：全文索引智能创建在CHAR、VARCHAR或者TEXT类型的字段上。查询数据量较大的字符串类型的字段时，使用全文索引可以提高查询速度。\n* 单列索引：单列索引只对应一个字段的索引。\n* 多列索引：在表的多个字段上创建一个索引。\n\n## 事务处理 概念和技术\n\n事务处理系统的基本抽象：现实的状态通过一个称为数据库的抽象表示，现实状态的转变通过执行一个称为事务的执行过程来反映，他改变数据库的状态。P1\n\n这里在介绍下事务的概念以及事务的ACID特性\n[数据库事务（简称：事务）是数据库管理系统执行过程中的一个逻辑单位，由一个有限的数据库操作序列构成。](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1)\n[ACID](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1)\n* 原子性（Atomicity）：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行。\n* 一致性（Consistency）：事务应确保数据库的状态从一个一致状态转变为另一个一致状态。一致状态的含义是数据库中的数据应满足完整性约束。\n* 隔离性（Isolation）：多个事务并发执行时，一个事务的执行不应影响其他事务的执行。\n* 持久性（Durability）：已被提交的事务对数据库的修改应该永久保存在数据库中。\n\n## 参考书籍和链接\n《事务处理 概念和技术》\n《Mysql快速入门》\n[详解SQL Server连接（内连接、外连接、交叉连接）](http://blog.csdn.net/jiuqiyuliang/article/details/10474221)\n[索引](http://www.imooc.com/article/11725)","source":"_posts/transction.md","raw":"---\ntitle: 数据库学习笔记一\ndate: 2017-02-19 22:45:29\ncategories: 数据库                    #文章文类\ntags: [小章鱼, 数据库, 事务处理, 学习笔记]\n---\n\n\n## 连接查询\n连接是把不同表的记录连到一起的最普遍的方法。\n\n* 内连接：最普遍的连接类型，而且是最匀称的，因为它们要求构成连接的每一个部分的每个表匹配，不匹配的行将被排除。\n* 外连接：使用outer join关键字将两个表连接起来。外连接生成的结果集不仅包括符合链接条件的行数据，而且还包括左表（左外连接）、右表（右边连接时的表）或两边链接表（全外连接时的表）中所有的数据行。\n\n\n## 合并查询\n合并查询结果是将多个select语句的查询结果合并在一起。因为某种情况下，需要将几个select语句查询出来的结果合并起来显示。合并查询结果使用union和union all关键字。union关键字是将所有的查询结果合并在一起，然后去除相同记录；而union all关键字则只是简单地将结果合并在一起。\n\n<!-- more -->\n\n## 索引\n我们常见的数据库系统，其索引使用的数据结构多是B-Tree或者B+Tree。例如，MsSql使用的是B+Tree，Oracle及Sysbase使用的是B-Tree。所以在最开始，简单地介绍一下B-Tree。\n[B-Tree](http://taop.marchtea.com/03.02.html)\n\n概念：索引是对数据库表中一个或多个列的值进行排序的结构。\n优点：在查询过程中使用索引，会提高数据库查询效率，应用索引来查询数据库中的内容，可以减少查询的次数，从而到达查询优化目的。\n缺点：创建索引和维护需要耗费时间，并且该耗费时间与数据量的大小成正比；另外，索引需要占用物理空间，给数据的维护造成很多麻烦。\n\n索引分类\n* 普通索引：不应用任何约束的索引，该索引可以在任何数据类型中创建。\n* 唯一索引：使用UNIQUE参数可以设置唯一索引。该索引值必须唯一。主键是一种特殊的唯一索引。\n* 全文索引：全文索引智能创建在CHAR、VARCHAR或者TEXT类型的字段上。查询数据量较大的字符串类型的字段时，使用全文索引可以提高查询速度。\n* 单列索引：单列索引只对应一个字段的索引。\n* 多列索引：在表的多个字段上创建一个索引。\n\n## 事务处理 概念和技术\n\n事务处理系统的基本抽象：现实的状态通过一个称为数据库的抽象表示，现实状态的转变通过执行一个称为事务的执行过程来反映，他改变数据库的状态。P1\n\n这里在介绍下事务的概念以及事务的ACID特性\n[数据库事务（简称：事务）是数据库管理系统执行过程中的一个逻辑单位，由一个有限的数据库操作序列构成。](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1)\n[ACID](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1)\n* 原子性（Atomicity）：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行。\n* 一致性（Consistency）：事务应确保数据库的状态从一个一致状态转变为另一个一致状态。一致状态的含义是数据库中的数据应满足完整性约束。\n* 隔离性（Isolation）：多个事务并发执行时，一个事务的执行不应影响其他事务的执行。\n* 持久性（Durability）：已被提交的事务对数据库的修改应该永久保存在数据库中。\n\n## 参考书籍和链接\n《事务处理 概念和技术》\n《Mysql快速入门》\n[详解SQL Server连接（内连接、外连接、交叉连接）](http://blog.csdn.net/jiuqiyuliang/article/details/10474221)\n[索引](http://www.imooc.com/article/11725)","slug":"transction","published":1,"updated":"2017-02-21T15:01:27.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1uev002hffcay2emcdwa","content":"<h2 id=\"连接查询\"><a href=\"#连接查询\" class=\"headerlink\" title=\"连接查询\"></a>连接查询</h2><p>连接是把不同表的记录连到一起的最普遍的方法。</p>\n<ul>\n<li>内连接：最普遍的连接类型，而且是最匀称的，因为它们要求构成连接的每一个部分的每个表匹配，不匹配的行将被排除。</li>\n<li>外连接：使用outer join关键字将两个表连接起来。外连接生成的结果集不仅包括符合链接条件的行数据，而且还包括左表（左外连接）、右表（右边连接时的表）或两边链接表（全外连接时的表）中所有的数据行。</li>\n</ul>\n<h2 id=\"合并查询\"><a href=\"#合并查询\" class=\"headerlink\" title=\"合并查询\"></a>合并查询</h2><p>合并查询结果是将多个select语句的查询结果合并在一起。因为某种情况下，需要将几个select语句查询出来的结果合并起来显示。合并查询结果使用union和union all关键字。union关键字是将所有的查询结果合并在一起，然后去除相同记录；而union all关键字则只是简单地将结果合并在一起。</p>\n<a id=\"more\"></a>\n<h2 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h2><p>我们常见的数据库系统，其索引使用的数据结构多是B-Tree或者B+Tree。例如，MsSql使用的是B+Tree，Oracle及Sysbase使用的是B-Tree。所以在最开始，简单地介绍一下B-Tree。<br><a href=\"http://taop.marchtea.com/03.02.html\" target=\"_blank\" rel=\"external\">B-Tree</a></p>\n<p>概念：索引是对数据库表中一个或多个列的值进行排序的结构。<br>优点：在查询过程中使用索引，会提高数据库查询效率，应用索引来查询数据库中的内容，可以减少查询的次数，从而到达查询优化目的。<br>缺点：创建索引和维护需要耗费时间，并且该耗费时间与数据量的大小成正比；另外，索引需要占用物理空间，给数据的维护造成很多麻烦。</p>\n<p>索引分类</p>\n<ul>\n<li>普通索引：不应用任何约束的索引，该索引可以在任何数据类型中创建。</li>\n<li>唯一索引：使用UNIQUE参数可以设置唯一索引。该索引值必须唯一。主键是一种特殊的唯一索引。</li>\n<li>全文索引：全文索引智能创建在CHAR、VARCHAR或者TEXT类型的字段上。查询数据量较大的字符串类型的字段时，使用全文索引可以提高查询速度。</li>\n<li>单列索引：单列索引只对应一个字段的索引。</li>\n<li>多列索引：在表的多个字段上创建一个索引。</li>\n</ul>\n<h2 id=\"事务处理-概念和技术\"><a href=\"#事务处理-概念和技术\" class=\"headerlink\" title=\"事务处理 概念和技术\"></a>事务处理 概念和技术</h2><p>事务处理系统的基本抽象：现实的状态通过一个称为数据库的抽象表示，现实状态的转变通过执行一个称为事务的执行过程来反映，他改变数据库的状态。P1</p>\n<p>这里在介绍下事务的概念以及事务的ACID特性<br><a href=\"https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1\" target=\"_blank\" rel=\"external\">数据库事务（简称：事务）是数据库管理系统执行过程中的一个逻辑单位，由一个有限的数据库操作序列构成。</a><br><a href=\"https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1\" target=\"_blank\" rel=\"external\">ACID</a></p>\n<ul>\n<li>原子性（Atomicity）：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行。</li>\n<li>一致性（Consistency）：事务应确保数据库的状态从一个一致状态转变为另一个一致状态。一致状态的含义是数据库中的数据应满足完整性约束。</li>\n<li>隔离性（Isolation）：多个事务并发执行时，一个事务的执行不应影响其他事务的执行。</li>\n<li>持久性（Durability）：已被提交的事务对数据库的修改应该永久保存在数据库中。</li>\n</ul>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《事务处理 概念和技术》<br>《Mysql快速入门》<br><a href=\"http://blog.csdn.net/jiuqiyuliang/article/details/10474221\" target=\"_blank\" rel=\"external\">详解SQL Server连接（内连接、外连接、交叉连接）</a><br><a href=\"http://www.imooc.com/article/11725\" target=\"_blank\" rel=\"external\">索引</a></p>\n","excerpt":"<h2 id=\"连接查询\"><a href=\"#连接查询\" class=\"headerlink\" title=\"连接查询\"></a>连接查询</h2><p>连接是把不同表的记录连到一起的最普遍的方法。</p>\n<ul>\n<li>内连接：最普遍的连接类型，而且是最匀称的，因为它们要求构成连接的每一个部分的每个表匹配，不匹配的行将被排除。</li>\n<li>外连接：使用outer join关键字将两个表连接起来。外连接生成的结果集不仅包括符合链接条件的行数据，而且还包括左表（左外连接）、右表（右边连接时的表）或两边链接表（全外连接时的表）中所有的数据行。</li>\n</ul>\n<h2 id=\"合并查询\"><a href=\"#合并查询\" class=\"headerlink\" title=\"合并查询\"></a>合并查询</h2><p>合并查询结果是将多个select语句的查询结果合并在一起。因为某种情况下，需要将几个select语句查询出来的结果合并起来显示。合并查询结果使用union和union all关键字。union关键字是将所有的查询结果合并在一起，然后去除相同记录；而union all关键字则只是简单地将结果合并在一起。</p>","more":"<h2 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h2><p>我们常见的数据库系统，其索引使用的数据结构多是B-Tree或者B+Tree。例如，MsSql使用的是B+Tree，Oracle及Sysbase使用的是B-Tree。所以在最开始，简单地介绍一下B-Tree。<br><a href=\"http://taop.marchtea.com/03.02.html\">B-Tree</a></p>\n<p>概念：索引是对数据库表中一个或多个列的值进行排序的结构。<br>优点：在查询过程中使用索引，会提高数据库查询效率，应用索引来查询数据库中的内容，可以减少查询的次数，从而到达查询优化目的。<br>缺点：创建索引和维护需要耗费时间，并且该耗费时间与数据量的大小成正比；另外，索引需要占用物理空间，给数据的维护造成很多麻烦。</p>\n<p>索引分类</p>\n<ul>\n<li>普通索引：不应用任何约束的索引，该索引可以在任何数据类型中创建。</li>\n<li>唯一索引：使用UNIQUE参数可以设置唯一索引。该索引值必须唯一。主键是一种特殊的唯一索引。</li>\n<li>全文索引：全文索引智能创建在CHAR、VARCHAR或者TEXT类型的字段上。查询数据量较大的字符串类型的字段时，使用全文索引可以提高查询速度。</li>\n<li>单列索引：单列索引只对应一个字段的索引。</li>\n<li>多列索引：在表的多个字段上创建一个索引。</li>\n</ul>\n<h2 id=\"事务处理-概念和技术\"><a href=\"#事务处理-概念和技术\" class=\"headerlink\" title=\"事务处理 概念和技术\"></a>事务处理 概念和技术</h2><p>事务处理系统的基本抽象：现实的状态通过一个称为数据库的抽象表示，现实状态的转变通过执行一个称为事务的执行过程来反映，他改变数据库的状态。P1</p>\n<p>这里在介绍下事务的概念以及事务的ACID特性<br><a href=\"https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1\">数据库事务（简称：事务）是数据库管理系统执行过程中的一个逻辑单位，由一个有限的数据库操作序列构成。</a><br><a href=\"https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1\">ACID</a></p>\n<ul>\n<li>原子性（Atomicity）：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行。</li>\n<li>一致性（Consistency）：事务应确保数据库的状态从一个一致状态转变为另一个一致状态。一致状态的含义是数据库中的数据应满足完整性约束。</li>\n<li>隔离性（Isolation）：多个事务并发执行时，一个事务的执行不应影响其他事务的执行。</li>\n<li>持久性（Durability）：已被提交的事务对数据库的修改应该永久保存在数据库中。</li>\n</ul>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《事务处理 概念和技术》<br>《Mysql快速入门》<br><a href=\"http://blog.csdn.net/jiuqiyuliang/article/details/10474221\">详解SQL Server连接（内连接、外连接、交叉连接）</a><br><a href=\"http://www.imooc.com/article/11725\">索引</a></p>"},{"title":"视图 -- 数据库中的虚拟表","date":"2017-06-03T02:19:35.000Z","_content":"\n## 前言\n最近在银联实习，实习的内容是基于大数据平台的项目。目前的主要工作内容是数据准备，这需要接触到存储过程以及spark sql，存储过程中还有一些视图。对于存储过程了解程度由于前段时间学习过了，所以基本可以了，所以今天准备学习下视图这方面的知识。\n\n## 定义\n视图：是一个基于一个或者多个表的逻辑表，视图本身不包括任何数据。\n\n## 数据源\n* 单一表的子集\n* 多表操作的结果集\n* 视图的子集\n\n## 语法\n```\nCREATE [ OR REPLACE ] [ [ ON ] FORCE ] VIEW\n[ schema. ] view\n[ (alias, ...) inline_constraint(s) ]\n[ out_of_line_constrain(s) ]\nAS subquery\n[\n\tWITH { READ ONLY | CHECK OPTION [ CONSTRAINT constraint ] }\n]\n[说明]\nOR REPLACE:创建视图的时候如果存在同名视图则覆盖\n[ ON ] FORCE :表示是否强制创建，如果基表不存在的情况下创建视图会出现错误，强制创建可以先创建视图然后再创建基表。\n[ schema. ] view:视图所属方案或者视图的名称\n[ (alias, ...) inline_constraint(s) ]:视图字段的别名和内联约束\n[ out_of_line_constrain(s) ]:也是约束\nWITH READ ONLY:视图只读\nWITH CHECK OPTION [ CONSTRAINT constraint ]:一旦使用该约束，当视图增加或修改数据时必须满足子查询的条件。\n```\n<!-- more -->\n\n## 参考书籍和链接\n《oracle 入门》\n\n## 每文音乐推荐\n评论：\n* 卖大白菜的：我有一老友，已经死掉了。她有双相情感障碍，对药物精神依赖，长期使用LSD，不健康，不自由，认为整个世界都在拒绝她，喜摇滚，爱抽烟，很酷，出众，也很脆弱，与3、4个14、5岁的少年相互戏弄被侮辱，溺亡在夏日黎明里的一块水塘。她的社交签名留着那句：他人即地狱。她肯定喜欢这首歌。\n* BeckyT-T：有些歌听着会觉得孤独真好，人生终究是自己的人生，任何人无法代替。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=17810607&auto=1&height=66\"></iframe>","source":"_posts/viewOracle.md","raw":"---\ntitle: 视图 -- 数据库中的虚拟表\ndate: 2017-06-03 10:19:35\ntags: [oracle, 数据库]\n---\n\n## 前言\n最近在银联实习，实习的内容是基于大数据平台的项目。目前的主要工作内容是数据准备，这需要接触到存储过程以及spark sql，存储过程中还有一些视图。对于存储过程了解程度由于前段时间学习过了，所以基本可以了，所以今天准备学习下视图这方面的知识。\n\n## 定义\n视图：是一个基于一个或者多个表的逻辑表，视图本身不包括任何数据。\n\n## 数据源\n* 单一表的子集\n* 多表操作的结果集\n* 视图的子集\n\n## 语法\n```\nCREATE [ OR REPLACE ] [ [ ON ] FORCE ] VIEW\n[ schema. ] view\n[ (alias, ...) inline_constraint(s) ]\n[ out_of_line_constrain(s) ]\nAS subquery\n[\n\tWITH { READ ONLY | CHECK OPTION [ CONSTRAINT constraint ] }\n]\n[说明]\nOR REPLACE:创建视图的时候如果存在同名视图则覆盖\n[ ON ] FORCE :表示是否强制创建，如果基表不存在的情况下创建视图会出现错误，强制创建可以先创建视图然后再创建基表。\n[ schema. ] view:视图所属方案或者视图的名称\n[ (alias, ...) inline_constraint(s) ]:视图字段的别名和内联约束\n[ out_of_line_constrain(s) ]:也是约束\nWITH READ ONLY:视图只读\nWITH CHECK OPTION [ CONSTRAINT constraint ]:一旦使用该约束，当视图增加或修改数据时必须满足子查询的条件。\n```\n<!-- more -->\n\n## 参考书籍和链接\n《oracle 入门》\n\n## 每文音乐推荐\n评论：\n* 卖大白菜的：我有一老友，已经死掉了。她有双相情感障碍，对药物精神依赖，长期使用LSD，不健康，不自由，认为整个世界都在拒绝她，喜摇滚，爱抽烟，很酷，出众，也很脆弱，与3、4个14、5岁的少年相互戏弄被侮辱，溺亡在夏日黎明里的一块水塘。她的社交签名留着那句：他人即地狱。她肯定喜欢这首歌。\n* BeckyT-T：有些歌听着会觉得孤独真好，人生终究是自己的人生，任何人无法代替。\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&id=17810607&auto=1&height=66\"></iframe>","slug":"viewOracle","published":1,"updated":"2017-06-04T12:14:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj4jc1uex002kffcag4cng9z3","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在银联实习，实习的内容是基于大数据平台的项目。目前的主要工作内容是数据准备，这需要接触到存储过程以及spark sql，存储过程中还有一些视图。对于存储过程了解程度由于前段时间学习过了，所以基本可以了，所以今天准备学习下视图这方面的知识。</p>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>视图：是一个基于一个或者多个表的逻辑表，视图本身不包括任何数据。</p>\n<h2 id=\"数据源\"><a href=\"#数据源\" class=\"headerlink\" title=\"数据源\"></a>数据源</h2><ul>\n<li>单一表的子集</li>\n<li>多表操作的结果集</li>\n<li>视图的子集</li>\n</ul>\n<h2 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">CREATE [ OR REPLACE ] [ [ ON ] FORCE ] VIEW</div><div class=\"line\">[ schema. ] view</div><div class=\"line\">[ (alias, ...) inline_constraint(s) ]</div><div class=\"line\">[ out_of_line_constrain(s) ]</div><div class=\"line\">AS subquery</div><div class=\"line\">[</div><div class=\"line\">\tWITH &#123; READ ONLY | CHECK OPTION [ CONSTRAINT constraint ] &#125;</div><div class=\"line\">]</div><div class=\"line\">[说明]</div><div class=\"line\">OR REPLACE:创建视图的时候如果存在同名视图则覆盖</div><div class=\"line\">[ ON ] FORCE :表示是否强制创建，如果基表不存在的情况下创建视图会出现错误，强制创建可以先创建视图然后再创建基表。</div><div class=\"line\">[ schema. ] view:视图所属方案或者视图的名称</div><div class=\"line\">[ (alias, ...) inline_constraint(s) ]:视图字段的别名和内联约束</div><div class=\"line\">[ out_of_line_constrain(s) ]:也是约束</div><div class=\"line\">WITH READ ONLY:视图只读</div><div class=\"line\">WITH CHECK OPTION [ CONSTRAINT constraint ]:一旦使用该约束，当视图增加或修改数据时必须满足子查询的条件。</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《oracle 入门》</p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>评论：</p>\n<ul>\n<li>卖大白菜的：我有一老友，已经死掉了。她有双相情感障碍，对药物精神依赖，长期使用LSD，不健康，不自由，认为整个世界都在拒绝她，喜摇滚，爱抽烟，很酷，出众，也很脆弱，与3、4个14、5岁的少年相互戏弄被侮辱，溺亡在夏日黎明里的一块水塘。她的社交签名留着那句：他人即地狱。她肯定喜欢这首歌。</li>\n<li>BeckyT-T：有些歌听着会觉得孤独真好，人生终究是自己的人生，任何人无法代替。</li>\n</ul>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=17810607&auto=1&height=66\"></iframe>","excerpt":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>最近在银联实习，实习的内容是基于大数据平台的项目。目前的主要工作内容是数据准备，这需要接触到存储过程以及spark sql，存储过程中还有一些视图。对于存储过程了解程度由于前段时间学习过了，所以基本可以了，所以今天准备学习下视图这方面的知识。</p>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>视图：是一个基于一个或者多个表的逻辑表，视图本身不包括任何数据。</p>\n<h2 id=\"数据源\"><a href=\"#数据源\" class=\"headerlink\" title=\"数据源\"></a>数据源</h2><ul>\n<li>单一表的子集</li>\n<li>多表操作的结果集</li>\n<li>视图的子集</li>\n</ul>\n<h2 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">CREATE [ OR REPLACE ] [ [ ON ] FORCE ] VIEW</div><div class=\"line\">[ schema. ] view</div><div class=\"line\">[ (alias, ...) inline_constraint(s) ]</div><div class=\"line\">[ out_of_line_constrain(s) ]</div><div class=\"line\">AS subquery</div><div class=\"line\">[</div><div class=\"line\">\tWITH &#123; READ ONLY | CHECK OPTION [ CONSTRAINT constraint ] &#125;</div><div class=\"line\">]</div><div class=\"line\">[说明]</div><div class=\"line\">OR REPLACE:创建视图的时候如果存在同名视图则覆盖</div><div class=\"line\">[ ON ] FORCE :表示是否强制创建，如果基表不存在的情况下创建视图会出现错误，强制创建可以先创建视图然后再创建基表。</div><div class=\"line\">[ schema. ] view:视图所属方案或者视图的名称</div><div class=\"line\">[ (alias, ...) inline_constraint(s) ]:视图字段的别名和内联约束</div><div class=\"line\">[ out_of_line_constrain(s) ]:也是约束</div><div class=\"line\">WITH READ ONLY:视图只读</div><div class=\"line\">WITH CHECK OPTION [ CONSTRAINT constraint ]:一旦使用该约束，当视图增加或修改数据时必须满足子查询的条件。</div></pre></td></tr></table></figure>","more":"<h2 id=\"参考书籍和链接\"><a href=\"#参考书籍和链接\" class=\"headerlink\" title=\"参考书籍和链接\"></a>参考书籍和链接</h2><p>《oracle 入门》</p>\n<h2 id=\"每文音乐推荐\"><a href=\"#每文音乐推荐\" class=\"headerlink\" title=\"每文音乐推荐\"></a>每文音乐推荐</h2><p>评论：</p>\n<ul>\n<li>卖大白菜的：我有一老友，已经死掉了。她有双相情感障碍，对药物精神依赖，长期使用LSD，不健康，不自由，认为整个世界都在拒绝她，喜摇滚，爱抽烟，很酷，出众，也很脆弱，与3、4个14、5岁的少年相互戏弄被侮辱，溺亡在夏日黎明里的一块水塘。她的社交签名留着那句：他人即地狱。她肯定喜欢这首歌。</li>\n<li>BeckyT-T：有些歌听着会觉得孤独真好，人生终究是自己的人生，任何人无法代替。</li>\n</ul>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=17810607&auto=1&height=66\"></iframe>"}],"PostAsset":[{"_id":"source/_posts/logicalRegression/logical.jpeg","slug":"logical.jpeg","post":"cj4jc1udn001fffcafe741i28","modified":1,"renderable":0},{"_id":"source/_posts/logicalRegression/loss.jpeg","slug":"loss.jpeg","post":"cj4jc1udn001fffcafe741i28","modified":1,"renderable":0},{"_id":"source/_posts/TreeMap/test.jpg","slug":"test.jpg","post":"cj4jc1ucs000dffca18r3j48z","modified":1,"renderable":0},{"_id":"source/_posts/dataWarehouse/dw.jpeg","post":"cj4jc1ucz000nffca0xvcud3n","slug":"dw.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/hashmap/gouzao.png","post":"cj4jc1ud8000wffcaah4ho3m9","slug":"gouzao.png","modified":1,"renderable":1},{"_id":"source/_posts/javacopy/ref.png","post":"cj4jc1ude0012ffca9xudd3q5","slug":"ref.png","modified":1,"renderable":1},{"_id":"source/_posts/springaop/proxy.png","post":"cj4jc1ue90020ffcagp0poc6v","slug":"proxy.png","modified":1,"renderable":1},{"_id":"source/_posts/thailand00/friends.jpeg","post":"cj4jc1ueb0022ffcas2twed3o","slug":"friends.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/uml/class.png","post":"cj4jc1uer002cffca6cculnzk","slug":"class.png","modified":1,"renderable":1},{"_id":"source/_posts/uml/relation.png","post":"cj4jc1uer002cffca6cculnzk","slug":"relation.png","modified":1,"renderable":1},{"_id":"source/_posts/logicalRegression/sigmod.jpeg","post":"cj4jc1udn001fffcafe741i28","slug":"sigmod.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/taiday1/tai1.jpeg","slug":"tai1.jpeg","post":"cj4jc1ued0024ffcakdspizv7","modified":1,"renderable":0},{"_id":"source/_posts/taiday1/tai2.jpeg","slug":"tai2.jpeg","post":"cj4jc1ued0024ffcakdspizv7","modified":1,"renderable":0},{"_id":"source/_posts/taiday1/tai3.jpeg","slug":"tai3.jpeg","post":"cj4jc1ued0024ffcakdspizv7","modified":1,"renderable":0},{"_id":"source/_posts/hash/687474703a2f2f3778727a6c6d2e636f6d312e7a302e676c622e636c6f7564646e2e636f6d2f6a617661636f2e706e67.png","post":"cj4jc1ud5000tffcaoyzjpgps","slug":"687474703a2f2f3778727a6c6d2e636f6d312e7a302e676c622e636c6f7564646e2e636f6d2f6a617661636f2e706e67.png","modified":1,"renderable":1},{"_id":"source/_posts/hash/lianbiao.png","post":"cj4jc1ud5000tffcaoyzjpgps","slug":"lianbiao.png","modified":1,"renderable":1},{"_id":"source/_posts/hash/pengzhuang.png","post":"cj4jc1ud5000tffcaoyzjpgps","slug":"pengzhuang.png","modified":1,"renderable":1},{"_id":"source/_posts/hash/tance.png","post":"cj4jc1ud5000tffcaoyzjpgps","slug":"tance.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cj4jc1ubs0000ffcap1h6dfr0","category_id":"cj4jc1uc00002ffcawng3r6vi","_id":"cj4jc1ucp0009ffcarvv891rx"},{"post_id":"cj4jc1ucs000dffca18r3j48z","category_id":"cj4jc1ucv000hffcabz8jdqd2","_id":"cj4jc1ud4000rffcadaj81v2c"},{"post_id":"cj4jc1ucu000fffcaghdimraq","category_id":"cj4jc1ud0000offca45s1swlu","_id":"cj4jc1uda000zffcadkmqqwu0"},{"post_id":"cj4jc1ucy000lffcao18wep7m","category_id":"cj4jc1ud7000uffcalv7ykrg4","_id":"cj4jc1udf0014ffcacr1g43my"},{"post_id":"cj4jc1ud9000yffca956ypj96","category_id":"cj4jc1ucv000hffcabz8jdqd2","_id":"cj4jc1udg0017ffca87qx6irt"},{"post_id":"cj4jc1udb0010ffcaoq8qanot","category_id":"cj4jc1ucv000hffcabz8jdqd2","_id":"cj4jc1udj001bffcaji49nts5"},{"post_id":"cj4jc1udf0015ffcaps4eehj6","category_id":"cj4jc1ucv000hffcabz8jdqd2","_id":"cj4jc1udn001effcag69jjx4y"},{"post_id":"cj4jc1udk001cffcaf059gt7b","category_id":"cj4jc1udp001gffca9m1rdov3","_id":"cj4jc1ue1001qffcaw3psctk2"},{"post_id":"cj4jc1udp001hffca2nko3mwb","category_id":"cj4jc1udy001mffcaias3dm20","_id":"cj4jc1ue8001xffcarcgrfac4"},{"post_id":"cj4jc1ue6001wffca3ghv85qt","category_id":"cj4jc1ud0000offca45s1swlu","_id":"cj4jc1ued0023ffcafxlx3t94"},{"post_id":"cj4jc1udz001pffcahvz89nlx","category_id":"cj4jc1ue2001sffcaoau1bkrh","_id":"cj4jc1ueo0027ffcad4gcqk3h"},{"post_id":"cj4jc1ueb0022ffcas2twed3o","category_id":"cj4jc1ue2001sffcaoau1bkrh","_id":"cj4jc1ueq002affcaarpcvsae"},{"post_id":"cj4jc1ue1001rffcanve2k2da","category_id":"cj4jc1ue90021ffcaalnmcvm8","_id":"cj4jc1uet002effcaadk48fec"},{"post_id":"cj4jc1ued0024ffcakdspizv7","category_id":"cj4jc1ue2001sffcaoau1bkrh","_id":"cj4jc1uev002gffcaqnp5hpi7"},{"post_id":"cj4jc1uep0029ffcam9k709ms","category_id":"cj4jc1ue2001sffcaoau1bkrh","_id":"cj4jc1uex002jffcat00k2rao"},{"post_id":"cj4jc1ue3001uffcah44uka41","category_id":"cj4jc1ue90021ffcaalnmcvm8","_id":"cj4jc1uez002mffcat1t5ditr"},{"post_id":"cj4jc1uev002hffcay2emcdwa","category_id":"cj4jc1udp001gffca9m1rdov3","_id":"cj4jc1uf0002pffcaxjzyc4yi"}],"PostTag":[{"post_id":"cj4jc1ubs0000ffcap1h6dfr0","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ucv000gffcacr1453ev"},{"post_id":"cj4jc1ubs0000ffcap1h6dfr0","tag_id":"cj4jc1ucj0007ffcail0loogr","_id":"cj4jc1ucx000jffcaa2i4azpk"},{"post_id":"cj4jc1ubs0000ffcap1h6dfr0","tag_id":"cj4jc1ucq000bffcaeacnoyxp","_id":"cj4jc1ucz000mffcaufa9sr1r"},{"post_id":"cj4jc1ubx0001ffca9opnw8xb","tag_id":"cj4jc1uct000effcangxenchp","_id":"cj4jc1ud4000sffcamjwc1l72"},{"post_id":"cj4jc1ubx0001ffca9opnw8xb","tag_id":"cj4jc1ucx000kffcac1y2y8df","_id":"cj4jc1ud7000vffcajvi7d45p"},{"post_id":"cj4jc1uc40004ffcat0ep55tu","tag_id":"cj4jc1uct000effcangxenchp","_id":"cj4jc1udf0013ffcazjnyg1zz"},{"post_id":"cj4jc1uc40004ffcat0ep55tu","tag_id":"cj4jc1ud9000xffcasrgapf3l","_id":"cj4jc1udg0016ffcauz0npaun"},{"post_id":"cj4jc1ucb0005ffcakofp5nn2","tag_id":"cj4jc1uct000effcangxenchp","_id":"cj4jc1udj001affca7sumujit"},{"post_id":"cj4jc1uch0006ffcauwo5x57c","tag_id":"cj4jc1uct000effcangxenchp","_id":"cj4jc1udv001kffca7xcgpfog"},{"post_id":"cj4jc1uch0006ffcauwo5x57c","tag_id":"cj4jc1udn001dffcacyndzagu","_id":"cj4jc1udy001nffcauz5xi8qi"},{"post_id":"cj4jc1ucn0008ffcak2dzy3ru","tag_id":"cj4jc1uct000effcangxenchp","_id":"cj4jc1ue6001vffcazwdneheo"},{"post_id":"cj4jc1ucn0008ffcak2dzy3ru","tag_id":"cj4jc1udz001offcaf2zxdok2","_id":"cj4jc1ue8001yffcatn0b6oqg"},{"post_id":"cj4jc1ucp000affcax18zgrj5","tag_id":"cj4jc1uct000effcangxenchp","_id":"cj4jc1ueo0028ffcat486mian"},{"post_id":"cj4jc1ucp000affcax18zgrj5","tag_id":"cj4jc1ue8001zffcaoty27vua","_id":"cj4jc1uer002bffcada81vxxk"},{"post_id":"cj4jc1ucr000cffcav0hatx2m","tag_id":"cj4jc1uct000effcangxenchp","_id":"cj4jc1uez002lffcacch919yz"},{"post_id":"cj4jc1ucr000cffcav0hatx2m","tag_id":"cj4jc1ues002dffcaixagw1w5","_id":"cj4jc1uez002nffcaw7720zuw"},{"post_id":"cj4jc1ucs000dffca18r3j48z","tag_id":"cj4jc1uew002iffca44k48nhb","_id":"cj4jc1uf3002tffcae5gjlxpg"},{"post_id":"cj4jc1ucs000dffca18r3j48z","tag_id":"cj4jc1uf0002offcahti0wjtk","_id":"cj4jc1uf3002uffca5b3tfonw"},{"post_id":"cj4jc1ucs000dffca18r3j48z","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1uf3002wffcay590y5bw"},{"post_id":"cj4jc1ucs000dffca18r3j48z","tag_id":"cj4jc1uf0002rffcamdh1recq","_id":"cj4jc1uf3002xffcajmjxpp3f"},{"post_id":"cj4jc1ucu000fffcaghdimraq","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1uf5002zffcaturn4qhe"},{"post_id":"cj4jc1ucu000fffcaghdimraq","tag_id":"cj4jc1uf1002sffcadxyfkqe3","_id":"cj4jc1uf60030ffca7hofumie"},{"post_id":"cj4jc1ucw000iffcaocmo3vok","tag_id":"cj4jc1uf3002vffcahittz4r8","_id":"cj4jc1uf70032ffcafmke43yw"},{"post_id":"cj4jc1ucw000iffcaocmo3vok","tag_id":"cj4jc1uf0002rffcamdh1recq","_id":"cj4jc1uf70033ffcazgmq0b5f"},{"post_id":"cj4jc1ucy000lffcao18wep7m","tag_id":"cj4jc1uf60031ffcahuw7p7ab","_id":"cj4jc1ufd0036ffcasyck80ok"},{"post_id":"cj4jc1ucy000lffcao18wep7m","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ufd0037ffcajpos9557"},{"post_id":"cj4jc1ucy000lffcao18wep7m","tag_id":"cj4jc1uf1002sffcadxyfkqe3","_id":"cj4jc1ufe0039ffcab1ws7v9e"},{"post_id":"cj4jc1ucz000nffca0xvcud3n","tag_id":"cj4jc1uf3002vffcahittz4r8","_id":"cj4jc1uff003cffcaj135feml"},{"post_id":"cj4jc1ucz000nffca0xvcud3n","tag_id":"cj4jc1ufe0038ffcaku3t51i6","_id":"cj4jc1uff003dffcaulq418cn"},{"post_id":"cj4jc1ucz000nffca0xvcud3n","tag_id":"cj4jc1ufe003affcagov5ev4s","_id":"cj4jc1ufg003fffca8s0734ti"},{"post_id":"cj4jc1ud1000pffcaeuhwp5h8","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ufg003hffca3bm8csmw"},{"post_id":"cj4jc1ud1000pffcaeuhwp5h8","tag_id":"cj4jc1uff003effcaetzzoycg","_id":"cj4jc1ufh003iffca52t6oq02"},{"post_id":"cj4jc1ud5000tffcaoyzjpgps","tag_id":"cj4jc1uf0002rffcamdh1recq","_id":"cj4jc1ufi003mffcakdcin14b"},{"post_id":"cj4jc1ud5000tffcaoyzjpgps","tag_id":"cj4jc1ufh003jffca49dnppgj","_id":"cj4jc1ufj003nffcaka5kz8lh"},{"post_id":"cj4jc1ud5000tffcaoyzjpgps","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ufk003pffcao0pucnfk"},{"post_id":"cj4jc1ud8000wffcaah4ho3m9","tag_id":"cj4jc1uf0002rffcamdh1recq","_id":"cj4jc1ufn003sffcakaja6rsx"},{"post_id":"cj4jc1ud8000wffcaah4ho3m9","tag_id":"cj4jc1ufh003jffca49dnppgj","_id":"cj4jc1ufn003tffca8g3odi0b"},{"post_id":"cj4jc1ud8000wffcaah4ho3m9","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ufo003vffca3k8prqli"},{"post_id":"cj4jc1ud9000yffca956ypj96","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ufp003yffcazyunq212"},{"post_id":"cj4jc1ud9000yffca956ypj96","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ufp003zffca7mjbnkba"},{"post_id":"cj4jc1ud9000yffca956ypj96","tag_id":"cj4jc1ufn003uffcaa4ruu3t7","_id":"cj4jc1ufp0041ffcanolfa789"},{"post_id":"cj4jc1ud9000yffca956ypj96","tag_id":"cj4jc1ufo003wffca78xgkwc9","_id":"cj4jc1ufp0042ffcav2fgwdcs"},{"post_id":"cj4jc1udb0010ffcaoq8qanot","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ufq0044ffcazfjdcyrc"},{"post_id":"cj4jc1udb0010ffcaoq8qanot","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ufq0045ffcacc9lb348"},{"post_id":"cj4jc1udb0010ffcaoq8qanot","tag_id":"cj4jc1uf0002rffcamdh1recq","_id":"cj4jc1ufr0047ffca86ir8dwc"},{"post_id":"cj4jc1ude0012ffca9xudd3q5","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ufs0049ffcam0j4fufn"},{"post_id":"cj4jc1ude0012ffca9xudd3q5","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1uft004affcas7uqztyz"},{"post_id":"cj4jc1ude0012ffca9xudd3q5","tag_id":"cj4jc1ufq0046ffcab9lpkdu8","_id":"cj4jc1uft004cffcae0i0auqk"},{"post_id":"cj4jc1udf0015ffcaps4eehj6","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ufu004effcafjz9l4af"},{"post_id":"cj4jc1udf0015ffcaps4eehj6","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ufu004fffcareg0435v"},{"post_id":"cj4jc1udf0015ffcaps4eehj6","tag_id":"cj4jc1uft004bffcabx9ovxmn","_id":"cj4jc1ufv004hffca31lv5zbv"},{"post_id":"cj4jc1udi0019ffca4i7sxh2f","tag_id":"cj4jc1uft004dffca3fjzg16q","_id":"cj4jc1ufv004iffcas0ymmyfd"},{"post_id":"cj4jc1udk001cffcaf059gt7b","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ufw004lffca2hlj5rv3"},{"post_id":"cj4jc1udk001cffcaf059gt7b","tag_id":"cj4jc1ufe003affcagov5ev4s","_id":"cj4jc1ufw004mffcacsvu5f4e"},{"post_id":"cj4jc1udk001cffcaf059gt7b","tag_id":"cj4jc1ufn003uffcaa4ruu3t7","_id":"cj4jc1ufw004offcavbvv0h2u"},{"post_id":"cj4jc1udn001fffcafe741i28","tag_id":"cj4jc1ufv004kffcao0ygngl9","_id":"cj4jc1ufx004qffca194it12a"},{"post_id":"cj4jc1udn001fffcafe741i28","tag_id":"cj4jc1uft004dffca3fjzg16q","_id":"cj4jc1ufx004rffcaxoss2zxb"},{"post_id":"cj4jc1udp001hffca2nko3mwb","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ufy004uffca1tat1fpj"},{"post_id":"cj4jc1udp001hffca2nko3mwb","tag_id":"cj4jc1ufw004pffcafk37dmrq","_id":"cj4jc1ufy004vffcaze7o78rt"},{"post_id":"cj4jc1udp001hffca2nko3mwb","tag_id":"cj4jc1ufn003uffcaa4ruu3t7","_id":"cj4jc1ufy004xffcacaeanqr0"},{"post_id":"cj4jc1udt001jffca940sfuqn","tag_id":"cj4jc1ufx004tffcauefg73wb","_id":"cj4jc1ufz004zffcaper970rh"},{"post_id":"cj4jc1udt001jffca940sfuqn","tag_id":"cj4jc1ufy004wffcat8uiejrt","_id":"cj4jc1ufz0050ffcan135nzpc"},{"post_id":"cj4jc1udw001lffcap18gdhbj","tag_id":"cj4jc1ufx004tffcauefg73wb","_id":"cj4jc1ug20053ffca98macwgo"},{"post_id":"cj4jc1udw001lffcap18gdhbj","tag_id":"cj4jc1ufe003affcagov5ev4s","_id":"cj4jc1ug20054ffcatlekg7tb"},{"post_id":"cj4jc1udz001pffcahvz89nlx","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ug30057ffcaw8dwqfli"},{"post_id":"cj4jc1udz001pffcahvz89nlx","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ug30058ffcaygtrtl8x"},{"post_id":"cj4jc1udz001pffcahvz89nlx","tag_id":"cj4jc1ug20055ffcaw3javz4x","_id":"cj4jc1ug4005affca8qhjh8s9"},{"post_id":"cj4jc1ue1001rffcanve2k2da","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ug4005cffcahjqeajoq"},{"post_id":"cj4jc1ue1001rffcanve2k2da","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ug4005dffca2a6byq4i"},{"post_id":"cj4jc1ue1001rffcanve2k2da","tag_id":"cj4jc1ug30059ffca3rglbq0t","_id":"cj4jc1ug5005fffcabl5xww5s"},{"post_id":"cj4jc1ue3001uffcah44uka41","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ug6005hffcagke61irs"},{"post_id":"cj4jc1ue3001uffcah44uka41","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ug6005iffcawhmgde8u"},{"post_id":"cj4jc1ue3001uffcah44uka41","tag_id":"cj4jc1ug30059ffca3rglbq0t","_id":"cj4jc1ug6005kffcaa5vgeit4"},{"post_id":"cj4jc1ue6001wffca3ghv85qt","tag_id":"cj4jc1ug5005gffcaqprj75zw","_id":"cj4jc1ug7005mffcasf3zbir8"},{"post_id":"cj4jc1ue6001wffca3ghv85qt","tag_id":"cj4jc1ug6005jffcabzcb4ekv","_id":"cj4jc1ug7005nffca8tek9y7b"},{"post_id":"cj4jc1ue90020ffcagp0poc6v","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ug7005qffca5occf58h"},{"post_id":"cj4jc1ue90020ffcagp0poc6v","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ug8005rffca1sq92j5r"},{"post_id":"cj4jc1ue90020ffcagp0poc6v","tag_id":"cj4jc1ug7005offcamuixnukp","_id":"cj4jc1ug8005tffcaiy1q12p0"},{"post_id":"cj4jc1ueb0022ffcas2twed3o","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1uga005vffcap1ta1105"},{"post_id":"cj4jc1ueb0022ffcas2twed3o","tag_id":"cj4jc1ug7005pffcawvj1j0us","_id":"cj4jc1uga005wffcac49esmo1"},{"post_id":"cj4jc1ueb0022ffcas2twed3o","tag_id":"cj4jc1ug8005sffcac451q3ks","_id":"cj4jc1uga005yffcatx4hy2uv"},{"post_id":"cj4jc1ueb0022ffcas2twed3o","tag_id":"cj4jc1ucq000bffcaeacnoyxp","_id":"cj4jc1uga005zffcae4blheez"},{"post_id":"cj4jc1ued0024ffcakdspizv7","tag_id":"cj4jc1ug7005pffcawvj1j0us","_id":"cj4jc1ugb0061ffcatom36ilq"},{"post_id":"cj4jc1ued0024ffcakdspizv7","tag_id":"cj4jc1ug8005sffcac451q3ks","_id":"cj4jc1ugb0062ffca4nwh3lwy"},{"post_id":"cj4jc1ued0024ffcakdspizv7","tag_id":"cj4jc1ucq000bffcaeacnoyxp","_id":"cj4jc1ugc0064ffcanyra5b83"},{"post_id":"cj4jc1uep0029ffcam9k709ms","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ugd0066ffcacg6q1o0m"},{"post_id":"cj4jc1uep0029ffcam9k709ms","tag_id":"cj4jc1ug7005pffcawvj1j0us","_id":"cj4jc1ugd0067ffcab57c86j4"},{"post_id":"cj4jc1uep0029ffcam9k709ms","tag_id":"cj4jc1ug8005sffcac451q3ks","_id":"cj4jc1ugd0069ffcaxbokot7v"},{"post_id":"cj4jc1uep0029ffcam9k709ms","tag_id":"cj4jc1ucq000bffcaeacnoyxp","_id":"cj4jc1ugd006affcartdmais7"},{"post_id":"cj4jc1uer002cffca6cculnzk","tag_id":"cj4jc1uf0002qffcaqtw1cxl3","_id":"cj4jc1ugf006dffca9fz6l80n"},{"post_id":"cj4jc1uer002cffca6cculnzk","tag_id":"cj4jc1ugd0068ffca6mab0qh0","_id":"cj4jc1ugf006effcaykmb6j3m"},{"post_id":"cj4jc1uer002cffca6cculnzk","tag_id":"cj4jc1uge006bffcav2vvje87","_id":"cj4jc1ugg006gffcaueqnvaan"},{"post_id":"cj4jc1ueu002fffcay316cxv7","tag_id":"cj4jc1ufx004tffcauefg73wb","_id":"cj4jc1ugh006jffcaa3t43932"},{"post_id":"cj4jc1ueu002fffcay316cxv7","tag_id":"cj4jc1ugf006fffca3u7fu2lf","_id":"cj4jc1ugh006kffca13mci6g4"},{"post_id":"cj4jc1ueu002fffcay316cxv7","tag_id":"cj4jc1ugg006hffcaq832flfg","_id":"cj4jc1ugi006mffca0n240p14"},{"post_id":"cj4jc1uev002hffcay2emcdwa","tag_id":"cj4jc1uc30003ffcawyzvdi77","_id":"cj4jc1ugj006pffca5qw2tsg7"},{"post_id":"cj4jc1uev002hffcay2emcdwa","tag_id":"cj4jc1ufe003affcagov5ev4s","_id":"cj4jc1ugj006qffcaumciaecf"},{"post_id":"cj4jc1uev002hffcay2emcdwa","tag_id":"cj4jc1ugh006lffca4ldr9v5l","_id":"cj4jc1ugk006sffca4agm9lk3"},{"post_id":"cj4jc1uev002hffcay2emcdwa","tag_id":"cj4jc1ufn003uffcaa4ruu3t7","_id":"cj4jc1ugk006tffcaym9i9843"},{"post_id":"cj4jc1uex002kffcag4cng9z3","tag_id":"cj4jc1ufx004tffcauefg73wb","_id":"cj4jc1ugk006uffca19fqphlj"},{"post_id":"cj4jc1uex002kffcag4cng9z3","tag_id":"cj4jc1ufe003affcagov5ev4s","_id":"cj4jc1ugk006vffcanxbd54ni"}],"Tag":[{"name":"小章鱼","_id":"cj4jc1uc30003ffcawyzvdi77"},{"name":"paln","_id":"cj4jc1ucj0007ffcail0loogr"},{"name":"随笔","_id":"cj4jc1ucq000bffcaeacnoyxp"},{"name":"R","_id":"cj4jc1uct000effcangxenchp"},{"name":"数据操作","_id":"cj4jc1ucx000kffcac1y2y8df"},{"name":"数据可视化","_id":"cj4jc1ud9000xffcasrgapf3l"},{"name":"Mysql","_id":"cj4jc1udn001dffcacyndzagu"},{"name":"dplyr","_id":"cj4jc1udz001offcaf2zxdok2"},{"name":"lubridate","_id":"cj4jc1ue8001zffcaoty27vua"},{"name":"pryr","_id":"cj4jc1ues002dffcaixagw1w5"},{"name":"数据结构","_id":"cj4jc1uew002iffca44k48nhb"},{"name":"Tree","_id":"cj4jc1uf0002offcahti0wjtk"},{"name":"java","_id":"cj4jc1uf0002qffcaqtw1cxl3"},{"name":"算法","_id":"cj4jc1uf0002rffcamdh1recq"},{"name":"hexo","_id":"cj4jc1uf1002sffcadxyfkqe3"},{"name":"数据挖掘","_id":"cj4jc1uf3002vffcahittz4r8"},{"name":"bug","_id":"cj4jc1uf60031ffcahuw7p7ab"},{"name":"数据仓库","_id":"cj4jc1ufe0038ffcaku3t51i6"},{"name":"数据库","_id":"cj4jc1ufe003affcagov5ev4s"},{"name":"Exception","_id":"cj4jc1uff003effcaetzzoycg"},{"name":"hash","_id":"cj4jc1ufh003jffca49dnppgj"},{"name":"学习笔记","_id":"cj4jc1ufn003uffcaa4ruu3t7"},{"name":"面试","_id":"cj4jc1ufo003wffca78xgkwc9"},{"name":"引用","_id":"cj4jc1ufq0046ffcab9lpkdu8"},{"name":"jvm","_id":"cj4jc1uft004bffcabx9ovxmn"},{"name":"机器学习","_id":"cj4jc1uft004dffca3fjzg16q"},{"name":"logical","_id":"cj4jc1ufv004kffcao0ygngl9"},{"name":"nginx","_id":"cj4jc1ufw004pffcafk37dmrq"},{"name":"oracle","_id":"cj4jc1ufx004tffcauefg73wb"},{"name":"约束","_id":"cj4jc1ufy004wffcat8uiejrt"},{"name":"reading","_id":"cj4jc1ug20055ffcaw3javz4x"},{"name":"algorithm","_id":"cj4jc1ug30059ffca3rglbq0t"},{"name":"测试","_id":"cj4jc1ug5005gffcaqprj75zw"},{"name":"Markdown","_id":"cj4jc1ug6005jffcabzcb4ekv"},{"name":"spring","_id":"cj4jc1ug7005offcamuixnukp"},{"name":"travel","_id":"cj4jc1ug7005pffcawvj1j0us"},{"name":"thailand","_id":"cj4jc1ug8005sffcac451q3ks"},{"name":"设计模式","_id":"cj4jc1ugd0068ffca6mab0qh0"},{"name":"uml","_id":"cj4jc1uge006bffcav2vvje87"},{"name":"事务","_id":"cj4jc1ugf006fffca3u7fu2lf"},{"name":"PL/SQL","_id":"cj4jc1ugg006hffcaq832flfg"},{"name":"事务处理","_id":"cj4jc1ugh006lffca4ldr9v5l"}]}}