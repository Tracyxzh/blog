---
title: 数据库学习笔记一
date: 2017-02-19 22:45:29
categories: 数据库                    #文章文类
tags: [小章鱼, 数据库, 事务处理, 学习笔记]
---


## 连接查询
连接是把不同表的记录连到一起的最普遍的方法。

* 内连接：最普遍的连接类型，而且是最匀称的，因为它们要求构成连接的每一个部分的每个表匹配，不匹配的行将被排除。
* 外连接：使用outer join关键字将两个表连接起来。外连接生成的结果集不仅包括符合链接条件的行数据，而且还包括左表（左外连接）、右表（右边连接时的表）或两边链接表（全外连接时的表）中所有的数据行。


## 合并查询
合并查询结果是将多个select语句的查询结果合并在一起。因为某种情况下，需要将几个select语句查询出来的结果合并起来显示。合并查询结果使用union和union all关键字。union关键字是将所有的查询结果合并在一起，然后去除相同记录；而union all关键字则只是简单地将结果合并在一起。

<!-- more -->

## 索引
我们常见的数据库系统，其索引使用的数据结构多是B-Tree或者B+Tree。例如，MsSql使用的是B+Tree，Oracle及Sysbase使用的是B-Tree。所以在最开始，简单地介绍一下B-Tree。
[B-Tree](http://taop.marchtea.com/03.02.html)

概念：索引是对数据库表中一个或多个列的值进行排序的结构。
优点：在查询过程中使用索引，会提高数据库查询效率，应用索引来查询数据库中的内容，可以减少查询的次数，从而到达查询优化目的。
缺点：创建索引和维护需要耗费时间，并且该耗费时间与数据量的大小成正比；另外，索引需要占用物理空间，给数据的维护造成很多麻烦。

索引分类
* 普通索引：不应用任何约束的索引，该索引可以在任何数据类型中创建。
* 唯一索引：使用UNIQUE参数可以设置唯一索引。该索引值必须唯一。主键是一种特殊的唯一索引。
* 全文索引：全文索引智能创建在CHAR、VARCHAR或者TEXT类型的字段上。查询数据量较大的字符串类型的字段时，使用全文索引可以提高查询速度。
* 单列索引：单列索引只对应一个字段的索引。
* 多列索引：在表的多个字段上创建一个索引。

## 事务处理 概念和技术

事务处理系统的基本抽象：现实的状态通过一个称为数据库的抽象表示，现实状态的转变通过执行一个称为事务的执行过程来反映，他改变数据库的状态。P1

这里在介绍下事务的概念以及事务的ACID特性
[数据库事务（简称：事务）是数据库管理系统执行过程中的一个逻辑单位，由一个有限的数据库操作序列构成。](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1)
[ACID](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1)
* 原子性（Atomicity）：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行。
* 一致性（Consistency）：事务应确保数据库的状态从一个一致状态转变为另一个一致状态。一致状态的含义是数据库中的数据应满足完整性约束。
* 隔离性（Isolation）：多个事务并发执行时，一个事务的执行不应影响其他事务的执行。
* 持久性（Durability）：已被提交的事务对数据库的修改应该永久保存在数据库中。

## 参考书籍和链接
《事务处理 概念和技术》
《Mysql快速入门》
[详解SQL Server连接（内连接、外连接、交叉连接）](http://blog.csdn.net/jiuqiyuliang/article/details/10474221)
[索引](http://www.imooc.com/article/11725)